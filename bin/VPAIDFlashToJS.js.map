{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/VPAIDFlashToJS.js","js/IVPAIDAdUnit.js","js/VPAIDAdUnit.js","js/jsFlashBridge.js","js/jsFlashBridgeRegistry.js","js/registry.js","js/utils.js"],"names":[],"mappings":"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","file":"VPAIDFlashToJS.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","//if this code already run once don't do anything\nlet VPAIDFlashToJS = (function () {\nif (window.VPAIDFlashToJS) return;\n\nlet JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\nlet VPAIDAdUnit = require('./VPAIDAdUnit').VPAIDAdUnit;\n\nlet noop = require('./utils').noop;\nlet isPositiveInt = require('./utils').isPositiveInt;\nlet createElementWithID = require('./utils').createElementWithID;\nlet uniqueVPAID = require('./utils').unique('vpaid');\n\nconst ERROR = 'error';\n\nclass VPAIDFlashToJS {\n    constructor (vpaidParentEl, callback, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}, version = '9', params = { wmode: 'transparent', salign: 'tl', allowScriptAccess: 'always'}, debug = true) {\n        if (!swfobject) throw new Error('no swfobject in global scope. check: https://github.com/swfobject/swfobject or https://code.google.com/p/swfobject/');\n\n        this._vpaidParentEl = vpaidParentEl;\n        this._flashID = uniqueVPAID();\n        this._load =  callback || noop;\n        this._destroyed = false;\n\n        //validate the height\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        createElementWithID(vpaidParentEl, this._flashID);\n\n        params.movie = swfConfig.data;\n        params.FlashVars = `flashid=${this._flashID}&handler=${JSFlashBridge.VPAID_FLASH_HANDLER}&debug=${debug}`;\n\n        if (swfobject.hasFlashPlayerVersion(version)) {\n            this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n            this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, callback || noop);\n        }\n\n    }\n\n    destroy () {\n        this._flash.destroy();\n        this._flash = null;\n        this.el = null;\n        this._adUnitLoad = null;\n        this._destroyed = true;\n    }\n\n    isDestroyed () {\n        return this._destroyed;\n    }\n\n    loadAdUnit(adURL, callback) {\n        if (this._adUnit) {\n            throw new error('AdUnit still exists');\n        }\n\n        this._adUnitLoad = (err, message) => {\n            if (!err) {\n                this._adUnit = new VPAIDAdUnit(this._flash);\n            }\n            this._adUnitLoad = null;\n            callback(err, this._adUnit);\n        };\n\n        this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\n    }\n    unloadAdUnit(callback = undefined) {\n        if (!this._adUnit) {\n            throw new Error(\"Can't unload a adUnit that doesn't exist\");\n        }\n\n        this._adUnit = null;\n\n        if (this._adUnitLoad) {\n            this._flash.removeCallback(this._adUnitLoad);\n            this._adUnitLoad = null;\n        }\n\n        this._flash.callFlashMethod('unloadAdUnit', [], callback);\n    }\n    getFlashID() {\n        return this._flash.getFlashID();\n    }\n    getFlashURL() {\n        return this._flash.getFlashURL();\n    }\n}\n\nwindow.VPAIDFlashToJS = VPAIDFlashToJS;\n\nreturn VPAIDFlashToJS;\n})();\n\nmodule.exports =  VPAIDFlashToJS;\n\n","//simple representation of the API\nexport class IVPAIDAdUnit {\n\n    //all methods below\n    //are async methods\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {}\n\n    //width and height is not in the beginning because we will use the default width/height used in the constructor\n    initAd (viewMode, desiredBitrate, width = 0, height = 0, creativeData = '', environmentVars = '', callback = undefined) {}\n    resizeAd(width, height, viewMode, callback = undefined) {}\n\n    startAd(callback = undefined) {}\n    stopAd(callback = undefined) {}\n    pauseAd(callback = undefined) {}\n    resumeAd(callback = undefined) {}\n    expandAd(callback = undefined) {}\n    collapseAd(callback = undefined) {}\n    skipAd(callback = undefined) {}\n\n    //properties that will be treat as async methods\n    adLinear(callback) {}\n    adWidth(callback) {}\n    adHeight(callback) {}\n    adExpanded(callback) {}\n    adSkippableState(callback) {}\n    adRemainingTime(callback) {}\n    adDuration(callback) {}\n    setAdVolume(soundVolume, callback = undefined) {}\n    getAdVolume(callback) {}\n    adCompanions(callback) {}\n    adIcons(callback) {}\n}\n\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\n    writable: false,\n    configurable: false,\n    value: [\n        'AdLoaded',\n        'AdStarted',\n        'AdStopped',\n        'AdSkipped',\n        'AdSkippableStateChange',\n        'AdSizeChange',\n        'AdLinearChange',\n        'AdDurationChange',\n        'AdExpandedChange',\n        'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n        'AdVolumeChange',\n        'AdImpression',\n        'AdVideoStart',\n        'AdVideoFirstQuartile',\n        'AdVideoMidpoint',\n        'AdVideoThirdQuartile',\n        'AdVideoComplete',\n        'AdClickThru',\n        'AdInteraction',\n        'AdUserAcceptInvitation',\n        'AdUserMinimize',\n        'AdUserClose',\n        'AdPaused',\n        'AdPlaying',\n        'AdLog',\n        'AdError'\n    ]\n});\n\n","let IVPAIDAdUnit = require('./IVPAIDAdUnit').IVPAIDAdUnit;\n\nexport class VPAIDAdUnit extends IVPAIDAdUnit {\n    constructor (flash) {\n        super();\n        this._flash = flash;\n    }\n\n    on(eventName, callback) {\n        this._flash.on(eventName, callback);\n    }\n\n    off(eventName, callback) {\n        this._flash.on(eventName, callback);\n    }\n\n    //VPAID interface\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {\n        this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n    }\n    initAd (viewMode, desiredBitrate, width = 0, height = 0, creativeData = '', environmentVars = '', callback = undefined) {\n        //resize element that has the flash object\n        this._flash.setSize(width, height);\n\n        this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData, environmentVars], callback);\n    }\n    resizeAd(width, height, viewMode, callback = undefined) {\n        //resize element that has the flash object\n        this._flash.setSize(width, height);\n\n        //resize ad inside the flash\n        this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n    }\n    startAd(callback = undefined) {\n        this._flash.callFlashMethod('startAd', [], callback);\n    }\n    stopAd(callback = undefined) {\n        this._flash.callFlashMethod('stopAd', [], callback);\n    }\n    pauseAd(callback = undefined) {\n        this._flash.callFlashMethod('pauseAd', [], callback);\n    }\n    resumeAd(callback = undefined) {\n        this._flash.callFlashMethod('resumeAd', [], callback);\n    }\n    expandAd(callback = undefined) {\n        this._flash.callFlashMethod('expandAd', [], callback);\n    }\n    collapseAd(callback = undefined) {\n        this._flash.callFlashMethod('collapseAd', [], callback);\n    }\n    skipAd(callback = undefined) {\n        this._flash.callFlashMethod('skipAd', [], callback);\n    }\n\n    //properties that will be treat as async methods\n    adLinear(callback) {\n        this._flash.callFlashMethod('adLinear', [], callback);\n    }\n    adWidth(callback) {\n        this._flash.callFlashMethod('adWidth', [], callback);\n    }\n    adHeight(callback) {\n        this._flash.callFlashMethod('adHeight', [], callback);\n    }\n    adExpanded(callback) {\n        this._flash.callFlashMethod('adExpanded', [], callback);\n    }\n    adSkippableState(callback) {\n        this._flash.callFlashMethod('adSkippableState', [], callback);\n    }\n    adRemainingTime(callback) {\n        this._flash.callFlashMethod('adRemainingTime', [], callback);\n    }\n    adDuration(callback) {\n        this._flash.callFlashMethod('adDuration', [], callback);\n    }\n\n    setAdVolume(volume, callback = undefined) {\n        this._flash.callFlashMethod('setAdVolume', [volume], callback);\n    }\n    getAdVolume(callback) {\n        this._flash.callFlashMethod('getAdVolume', [], callback);\n    }\n\n    adCompanions(callback) {\n        this._flash.callFlashMethod('adCompanions', [], callback);\n    }\n    adIcons(callback) {\n        this._flash.callFlashMethod('adIcons', [], callback);\n    }\n}\n\n","let unique = require('./utils').unique;\nlet isPositiveInt = require('./utils').isPositiveInt;\nlet SingleValueRegistry = require('./registry').SingleValueRegistry;\nlet MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\nconst registry = require('./jsFlashBridgeRegistry');\nconst VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\nconst ERROR = 'error';\n\nlet instances = {};\n\nexport class JSFlashBridge {\n    constructor (el, flashURL, flashID, width, height, loadHandShake) {\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = new MultipleValuesRegistry();\n        this._callbacks = new SingleValueRegistry();\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        this._loadHandShake = loadHandShake;\n\n        registry.addInstance(this._flashID, this);\n    }\n\n    on(eventName, callback) {\n        this._handlers.add(eventName, callback);\n    }\n\n    off(eventName, callback) {\n        return this._handlers.remove(eventName, callback);\n    }\n\n    offEvent(eventName) {\n        return this._handlers.removeByKey(eventName);\n    }\n\n    offAll() {\n        return this._handlers.removeAll();\n    }\n\n    callFlashMethod(methodName, args = [], callback = undefined) {\n        var callbackID = '';\n        // if no callback, some methods the return is void so they don't need callback\n        if (callback) {\n            var callbackID = this._uniqueMethodIdentifier();\n            this._callbacks.add(callbackID, callback);\n        }\n\n\n        try {\n            //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n            //this code will throw an error\n            this._el[methodName]([callbackID].concat(args));\n\n        } catch (e) {\n            if (callback) {\n                this._callbacks.remove(callbackID);\n                setTimeout( () => {\n                    callback(e);\n                }, 0);\n            } else {\n\n                //if there isn't any callback to return error use error event handler\n                this._trigger(ERROR, [e]);\n            }\n        }\n    }\n\n    removeAllCallbacks() {\n        return this._callbacks.removeAll();\n    }\n\n    _trigger(eventName, err, result) {\n        //TODO: check if forEach and isArray is added to the browser with babeljs\n        this._handlers.get(eventName).forEach(function (callback) {\n            setTimeout(function () {\n                callback(err, result);\n            }, 0);\n        });\n    }\n\n    _callCallback(methodName, callbackID, err, result) {\n\n        let callback = this._callbacks.get(callbackID);\n\n        //not all methods callback's are mandatory\n        //but if there exist an error, fire the error event\n        if (err && (callbackID === '' || !callback)) {\n            this.trigger(ERROR, err, result);\n            return;\n        }\n\n        setTimeout(function () {\n            callback(err, result);\n        }, 0);\n\n        this._callbacks.remove(callbackID);\n    }\n\n    //methods like properties specific to this implementation of VPAID\n    getSize() {\n        return {width: this._width, height: this._height};\n    }\n    setSize(newWidth, newHeight) {\n        this._width = isPositiveInt(newWidth, this._width);\n        this._height = isPositiveInt(newHeight, this._height);\n        this._el.setAttribute('width', this._width);\n        this._el.setAttribute('height', this._height);\n    }\n    getWidth() {\n        return this._width;\n    }\n    setWidth(newWidth) {\n        this.setSize(newWidth, this._height);\n    }\n    getHeight() {\n        return this._height;\n    }\n    setHeight(newHeight) {\n        this.setSize(this._width, newHeight);\n    }\n    getFlashID() {\n        return this._flashID;\n    }\n    getFlashURL() {\n        return this._flashURL;\n    }\n    destroy() {\n        this.offAll();\n        this.removeAllCallbacks();\n        registry.removeInstanceByID(this._flashID);\n        if (this._el.parentElement) {\n            this._el.parentElement.removeChild(this._el);\n        }\n    }\n}\n\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\nwindow[VPAID_FLASH_HANDLER] = (flashID, type, event, callID, error, data) => {\n    let instance = registry.getInstanceByID(flashID);\n    if (!instance) return;\n    if (event === 'handShake') {\n        instance._loadHandShake(error, data);\n    } else {\n        if (type !== 'event') {\n            instance._callCallback(event, callID, error, data);\n        } else {\n            instance._trigger(event, error, data);\n        }\n    }\n}\n\n","let SingleValueRegistry = require('./registry').SingleValueRegistry;\nlet instances = new SingleValueRegistry();\n\nconst JSFlashBridgeRegistry = {};\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\n    writable: false,\n    configurable: false,\n    value: function (id, instance) {\n        instances.add(id, instance);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function (id) {\n        return instances.get(id);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function (id) {\n        return instances.remove(id);\n    }\n});\n\nmodule.exports = JSFlashBridgeRegistry;\n\n","export class MultipleValuesRegistry {\n    constructor () {\n        this._registries = {};\n    }\n    add (id, value) {\n        if (!this._registries[id]) {\n            this._registries[id] = [];\n        }\n        if (this._registries[id].indexOf(value) === -1) {\n            this._registries[id].push(value);\n        }\n    }\n    get (id) {\n        return this._registries[id] || [];\n    }\n    findValueKeys (value) {\n        //TODO: check if keys and find is added to the browser with babeljs\n        var keys = Object.keys(this._registries).filter(function (key) {\n            return this._registries[key].indexOf(value) !== -1;\n        });\n\n        return keys;\n    }\n    remove(key, value) {\n        if (!this._registries[key]) { return; }\n\n        var index = this._registries[key].indexOf(value);\n\n        if (index < 0) { return; }\n        return this._registries[key].splice(index, 1);\n    }\n    removeByKey (id) {\n        let old = this._registries[id];\n        delete this._registries[id];\n        return old;\n    }\n    removeByValue (value) {\n        let keys = this._findValueKeys(value);\n        return keys.map(function (key) {\n            return this.destroy(key, value);\n        });\n    }\n    removeAll() {\n        let old = this._registries;\n        this._registries = {};\n        return old;\n    }\n    size() {\n        return Object.keys(this._registries).length;\n    }\n}\n\nexport class SingleValueRegistry {\n    constructor () {\n        this._registries = {};\n    }\n    add (id, value) {\n        this._registries[id] = value;\n    }\n    get (id) {\n        return this._registries[id];\n    }\n    findValueKeys (value) {\n        //TODO: check if keys and find is added to the browser with babeljs\n        var key = Object.keys(this._registries).filter(function (key) {\n            return this._registries[key] === value;\n        });\n\n        return key;\n    }\n    remove (id) {\n        let old = this._registries[id];\n        delete this._registries[id];\n        return old;\n    }\n    removeByValue (value) {\n        let keys = this._findValueKeys(value);\n        return keys.map(function (key) {\n            return this.destroy(key);\n        });\n    }\n    removeAll() {\n        let old = this._registries;\n        this._registries = {};\n        return old;\n    }\n    size() {\n        return Object.keys(this._registries).length;\n    }\n}\n\n","'use strict'\n\nexport function unique(prefix) {\n    let count = -1;\n    return f => {\n        return `${prefix}_${++count}`;\n    };\n}\n\nexport function noop() {\n}\n\n\nexport function createElementWithID(parent, id) {\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nexport function isPositiveInt(newVal, oldVal) {\n    return Number.isSafeInteger(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\n"]}