{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/IVPAIDAdUnit.js","js/VPAIDAdUnit.js","js/VPAIDFLASHClient.js","js/flashTester.js","js/jsFlashBridge.js","js/jsFlashBridgeRegistry.js","js/registry.js","js/utils.js","node_modules/swfobject/swfobject/src/swfobject.js"],"names":[],"mappings":"AAAA;;;ACEA;;;;;;;;;;IACO,Y,WAAA,Y;;;;;;;;;AAEH;AACA;2CACmE;AAAA,gBAAlD,kBAAkD,uEAAnE,KAAmE;AAAA,gBAAtB,QAAsB,uEAAnE,SAAmE;AAAE;;AAErE;;;;+BACA,K,EAAA,M,EAAA,Q,EAAA,c,EAA4I;AAAA,gBAA3F,YAA2F,uEAA5E,EAAC,cAAjE,EAAgE,EAA4E;AAAA,gBAAzD,eAAyD,uEAAvC,EAAC,WAAtG,EAAqG,EAAuC;AAAA,gBAAtB,QAAsB,uEAA5I,SAA4I;AAAE;;;iCAC9I,K,EAAA,M,EAAA,Q,EAAwD;AAAA,gBAAtB,QAAsB,uEAAxD,SAAwD;AAAE;;;kCAE5B;AAAA,gBAAtB,QAAsB,uEAA9B,SAA8B;AAAE;;;iCACH;AAAA,gBAAtB,QAAsB,uEAA7B,SAA6B;AAAE;;;kCACD;AAAA,gBAAtB,QAAsB,uEAA9B,SAA8B;AAAE;;;mCACD;AAAA,gBAAtB,QAAsB,uEAA/B,SAA+B;AAAE;;;mCACF;AAAA,gBAAtB,QAAsB,uEAA/B,SAA+B;AAAE;;;qCACA;AAAA,gBAAtB,QAAsB,uEAAjC,SAAiC;AAAE;;;iCACN;AAAA,gBAAtB,QAAsB,uEAA7B,SAA6B;AAAE;;AAE/B;;;;oCACA,Q,EAAsB,CAAE;;;mCACxB,Q,EAAqB,CAAE;;;oCACvB,Q,EAAsB,CAAE;;;sCACxB,Q,EAAwB,CAAE;;;4CAC1B,Q,EAA8B,CAAE;;;2CAChC,Q,EAA6B,CAAE;;;sCAC/B,Q,EAAwB,CAAE;;;oCAC1B,W,EAA+C;AAAA,gBAAtB,QAAsB,uEAA/C,SAA+C;AAAE;;;oCACjD,Q,EAAsB,CAAE;;;wCACxB,Q,EAA0B,CAAE;;;mCAC5B,Q,EAAqB,CAAE;;;;;;AAG3B,OAAA,cAAA,CAAA,YAAA,EAAA,QAAA,EAA8C;AAC1C,cAD0C,KAAA;AAE1C,kBAF0C,KAAA;AAG1C,WAAO,CAAA,UAAA,EAAA,WAAA,EAAA,WAAA,EAAA,WAAA,EAAA,wBAAA,EAKuB;AALvB,kBAAA,EAMa;AANb,oBAAA,EAAA,kBAAA,EAQiB;AARjB,sBAAA,EAAA,uBAAA,EAUsB;AAVtB,oBAAA,EAAA,cAAA,EAAA,cAAA,EAAA,sBAAA,EAAA,iBAAA,EAAA,sBAAA,EAAA,iBAAA,EAAA,aAAA,EAAA,eAAA,EAmBc;AAnBd,4BAAA,EAAA,gBAAA,EAAA,aAAA,EAAA,UAAA,EAAA,WAAA,EAAA,OAAA,EAAA,SAAA;AAHmC,CAA9C;;;;;;;;;;;;;;;;;ACjCA,IAAI,eAAe,QAAA,gBAAA,EAAnB,YAAA;AACA,IAAI,oBAAoB,OAAA,mBAAA,CAA2B,aAA3B,SAAA,EAAA,MAAA,CAA0D,UAAA,QAAA,EAAoB;AAClG,WAAO,CAAA,aAAA,EAAA,OAAA,CAAA,QAAA,MAAsC,CAA7C,CAAA;AADJ,CAAwB,CAAxB;;IAIO,W,WAAA,W;;;AACH,yBAAA,KAAA,EAAoB;AAAA;;AAAA;;AAEhB,cAAA,UAAA,GAAA,KAAA;AACA,cAAA,MAAA,GAAA,KAAA;AAHgB;AAInB;;;;mCAEU;AAAA;;AACP,iBAAA,UAAA,GAAA,IAAA;AACA,8BAAA,OAAA,CAA0B,sBAAgB;AACtC,uBAAA,MAAA,CAAA,0BAAA,CAAA,UAAA;AADJ,aAAA;AAGA,yBAAA,MAAA,CAAA,OAAA,CAA4B,iBAAW;AACnC,uBAAA,MAAA,CAAA,QAAA,CAAA,KAAA;AADJ,aAAA;;AAIA,iBAAA,MAAA,GAAA,IAAA;AACH;;;sCAEc;AACX,mBAAO,KAAP,UAAA;AACH;;;2BAED,S,EAAA,Q,EAAwB;AACpB,iBAAA,MAAA,CAAA,EAAA,CAAA,SAAA,EAAA,QAAA;AACH;;;4BAED,S,EAAA,Q,EAAyB;AACrB,iBAAA,MAAA,CAAA,GAAA,CAAA,SAAA,EAAA,QAAA;AACH;;AAED;;;;2CACmE;AAAA,gBAAlD,kBAAkD,uEAAnE,KAAmE;AAAA,gBAAtB,QAAsB,uEAAnE,SAAmE;;AAC/D,iBAAA,MAAA,CAAA,eAAA,CAAA,kBAAA,EAAgD,CAAhD,kBAAgD,CAAhD,EAAA,QAAA;AACH;;;+BACD,K,EAAA,M,EAAA,Q,EAAA,c,EAA6I;AAAA,gBAA5F,YAA4F,uEAA7E,EAAC,cAAjE,EAAgE,EAA6E;AAAA,gBAAzD,eAAyD,uEAAvC,EAAC,WAAvG,EAAsG,EAAuC;AAAA,gBAAtB,QAAsB,uEAA7I,SAA6I;;AACzI;AACA,iBAAA,MAAA,CAAA,OAAA,CAAA,KAAA,EAAA,MAAA;AACA,2BAAe,gBAAgB,EAAC,cAAhC,EAA+B,EAA/B;AACA,8BAAkB,mBAAmB,EAAC,WAAtC,EAAqC,EAArC;;AAEA,iBAAA,MAAA,CAAA,eAAA,CAAA,QAAA,EAAsC,CAAC,KAAA,MAAA,CAAD,QAAC,EAAD,EAAyB,KAAA,MAAA,CAAzB,SAAyB,EAAzB,EAAA,QAAA,EAAA,cAAA,EAA4E,aAAA,YAAA,IAA5E,EAAA,EAA6G,gBAAA,SAAA,IAAnJ,EAAsC,CAAtC,EAAA,QAAA;AACH;;;iCACD,K,EAAA,M,EAAA,Q,EAAwD;AAAA,gBAAtB,QAAsB,uEAAxD,SAAwD;;AACpD;AACA,iBAAA,MAAA,CAAA,OAAA,CAAA,KAAA,EAAA,MAAA;;AAEA;AACA,iBAAA,MAAA,CAAA,eAAA,CAAA,UAAA,EAAwC,CAAC,KAAA,MAAA,CAAD,QAAC,EAAD,EAAyB,KAAA,MAAA,CAAzB,SAAyB,EAAzB,EAAxC,QAAwC,CAAxC,EAAA,QAAA;AACH;;;kCAC6B;AAAA,gBAAtB,QAAsB,uEAA9B,SAA8B;;AAC1B,iBAAA,MAAA,CAAA,eAAA,CAAA,SAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;iCAC4B;AAAA,gBAAtB,QAAsB,uEAA7B,SAA6B;;AACzB,iBAAA,MAAA,CAAA,eAAA,CAAA,QAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;kCAC6B;AAAA,gBAAtB,QAAsB,uEAA9B,SAA8B;;AAC1B,iBAAA,MAAA,CAAA,eAAA,CAAA,SAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;mCAC8B;AAAA,gBAAtB,QAAsB,uEAA/B,SAA+B;;AAC3B,iBAAA,MAAA,CAAA,eAAA,CAAA,UAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;mCAC8B;AAAA,gBAAtB,QAAsB,uEAA/B,SAA+B;;AAC3B,iBAAA,MAAA,CAAA,eAAA,CAAA,UAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;qCACgC;AAAA,gBAAtB,QAAsB,uEAAjC,SAAiC;;AAC7B,iBAAA,MAAA,CAAA,eAAA,CAAA,YAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;iCAC4B;AAAA,gBAAtB,QAAsB,uEAA7B,SAA6B;;AACzB,iBAAA,MAAA,CAAA,eAAA,CAAA,QAAA,EAAA,EAAA,EAAA,QAAA;AACH;;AAED;;;;oCACA,Q,EAAsB;AAClB,iBAAA,MAAA,CAAA,eAAA,CAAA,aAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;mCACD,Q,EAAqB;AACjB,iBAAA,MAAA,CAAA,eAAA,CAAA,YAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;oCACD,Q,EAAsB;AAClB,iBAAA,MAAA,CAAA,eAAA,CAAA,aAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;sCACD,Q,EAAwB;AACpB,iBAAA,MAAA,CAAA,eAAA,CAAA,eAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;4CACD,Q,EAA8B;AAC1B,iBAAA,MAAA,CAAA,eAAA,CAAA,qBAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;2CACD,Q,EAA6B;AACzB,iBAAA,MAAA,CAAA,eAAA,CAAA,oBAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;sCACD,Q,EAAwB;AACpB,iBAAA,MAAA,CAAA,eAAA,CAAA,eAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;oCACD,M,EAA0C;AAAA,gBAAtB,QAAsB,uEAA1C,SAA0C;;AACtC,iBAAA,MAAA,CAAA,eAAA,CAAA,aAAA,EAA2C,CAA3C,MAA2C,CAA3C,EAAA,QAAA;AACH;;;oCACD,Q,EAAsB;AAClB,iBAAA,MAAA,CAAA,eAAA,CAAA,aAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;wCACD,Q,EAA0B;AACtB,iBAAA,MAAA,CAAA,eAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;mCACD,Q,EAAqB;AACjB,iBAAA,MAAA,CAAA,eAAA,CAAA,YAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;;EAzGE,Y;;;;;;;;;ACLP,IAAM,YAAY,QAAlB,WAAkB,CAAlB;;AAEA,IAAM,gBAAgB,QAAA,iBAAA,EAAtB,aAAA;AACA,IAAM,cAAc,QAAA,eAAA,EAApB,WAAA;;AAEA,IAAM,OAAO,QAAA,SAAA,EAAb,IAAA;AACA,IAAM,kBAAkB,QAAA,SAAA,EAAxB,eAAA;AACA,IAAM,gBAAgB,QAAA,SAAA,EAAtB,aAAA;AACA,IAAM,sBAAsB,QAAA,SAAA,EAA5B,mBAAA;AACA,IAAM,cAAc,QAAA,SAAA,EAAA,MAAA,CAApB,OAAoB,CAApB;AACA,IAAM,oBAAoB,QAAA,kBAAA,EAA1B,iBAAA;;AAEA,IAAM,QAAN,OAAA;AACA,IAAM,gBAAN,QAAA;;AAEA,IAAI,cAAc,EAAC,aAAa;AAAA,eAAhC,IAAgC;AAAA,KAAd,EAAlB,C,CAA4C;;IAE5C,gB;AACI,8BAAA,aAAA,EAAA,QAAA,EAA8S;AAAA,YAAxQ,SAAwQ,uEAA5P,EAAC,MAAD,gBAAA,EAAyB,OAAzB,GAAA,EAAqC,QAAvF,GAAkD,EAA4P;;AAAA;;AAAA,YAAzM,MAAyM,uEAAhM,EAAE,OAAF,aAAA,EAAwB,QAAxB,IAAA,EAAsC,OAAtC,MAAA,EAAqD,mBAArD,QAAA,EAAkF,OAAlF,SAAA,EAAoG,iBAApG,MAAA,EAA6H,SAA3O,MAA8G,EAAgM;AAAA,YAAjD,YAAiD,uEAAlC,EAAE,OAAF,KAAA,EAAgB,SAA5R,KAA4Q,EAAkC;;AAAA;;AAE1S,YAAI,KAAJ,IAAA;;AAEA,aAAA,cAAA,GAAA,aAAA;AACA,aAAA,QAAA,GAAA,aAAA;AACA,aAAA,UAAA,GAAA,KAAA;AACA,mBAAW,YAAX,IAAA;;AAEA,kBAAA,KAAA,GAAkB,cAAc,UAAd,KAAA,EAAlB,GAAkB,CAAlB;AACA,kBAAA,MAAA,GAAmB,cAAc,UAAd,MAAA,EAAnB,GAAmB,CAAnB;;AAEA,4BAAA,aAAA,EAAmC,KAAnC,QAAA,EAAA,IAAA;;AAEA,eAAA,KAAA,GAAe,UAAf,IAAA;AACA,eAAA,SAAA,gBAA8B,KAAK,QAAnC,iBAAuD,cAAc,mBAArE,eAAkG,aAAa,KAA/G,gBAA+H,OAA/H,MAAA;;AAEA,YAAI,CAAC,iBAAL,WAAK,EAAL,EAAqC;AACjC,mBAAO,QAAQ,sFAAf,aAAO,CAAP;AACH;;AAED,aAAA,EAAA,GAAU,UAAA,SAAA,CAAA,SAAA,EAAA,MAAA,EAAuC,KAAjD,QAAU,CAAV;;AAEA,YAAI,CAAC,KAAL,EAAA,EAAc;AACV,mBAAO,QAAP,8CAAO,CAAP;AACH;;AAED,YAAI,UAAU,gBAAgB,aAAhB,OAAA,EACV,UAAA,GAAA,EAAA,IAAA,EAAe;AACX,8BAAA,IAAA,CAAA,KAAA;AACA,qBAAA,GAAA,EAAA,IAAA;AAHM,SAAA,EAIP,YAAM;AACL,qBAAS,8BAA8B,aAAvC,OAAA;AALR,SAAc,CAAd;;AASA,aAAA,MAAA,GAAc,IAAA,aAAA,CAAkB,KAAlB,EAAA,EAA2B,UAA3B,IAAA,EAA2C,KAA3C,QAAA,EAA0D,UAA1D,KAAA,EAA2E,UAA3E,MAAA,EAAd,OAAc,CAAd;;AAEA,iBAAA,OAAA,CAAA,KAAA,EAAwB;AACpB,uBAAW,YAAM;AACb,yBAAS,IAAA,KAAA,CAAT,KAAS,CAAT;AADJ,aAAA,EAAA,CAAA;AAGA,mBAAA,EAAA;AACH;AAEJ;;;;kCAEU;AACP,iBAAA,cAAA;;AAEA,gBAAI,KAAJ,MAAA,EAAiB;AACb,qBAAA,MAAA,CAAA,OAAA;AACA,qBAAA,MAAA,GAAA,IAAA;AACH;AACD,iBAAA,EAAA,GAAA,IAAA;AACA,iBAAA,UAAA,GAAA,IAAA;AACH;;;sCAEc;AACX,mBAAO,KAAP,UAAA;AACH;;;yCAEgB;AACb,mBAAO,KAAP,UAAA;;AAEA,gBAAI,KAAJ,WAAA,EAAsB;AAClB,qBAAA,WAAA,GAAA,IAAA;AACA,qBAAA,MAAA,CAAA,cAAA,CAA2B,KAA3B,WAAA;AACH;;AAED,gBAAI,KAAJ,OAAA,EAAkB;AACd,qBAAA,OAAA,CAAA,QAAA;AACA,qBAAA,OAAA,GAAA,IAAA;AACH;AACJ;;;mCAED,K,EAAA,Q,EAA4B;AAAA;;AACxB,8BAAA,IAAA,CAAA,IAAA;;AAEA,gBAAI,KAAJ,OAAA,EAAkB;AACd,qBAAA,cAAA;AACH;;AAED,gBAAI,KAAA,MAAA,CAAJ,OAAI,EAAJ,EAA2B;AACvB,qBAAA,WAAA,GAAmB,UAAA,GAAA,EAAA,OAAA,EAAkB;AACjC,wBAAI,CAAJ,GAAA,EAAU;AACN,+BAAA,OAAA,GAAe,IAAA,WAAA,CAAgB,OAA/B,MAAe,CAAf;AACH;AACD,2BAAA,WAAA,GAAA,IAAA;AACA,6BAAA,GAAA,EAAc,OAAd,OAAA;AALJ,iBAAA;;AAQA,qBAAA,MAAA,CAAA,eAAA,CAAA,YAAA,EAA0C,CAA1C,KAA0C,CAA1C,EAAmD,KAAnD,WAAA;AATJ,aAAA,MAUM;AACF,qBAAA,UAAA,GAAkB,EAAC,KAAD,KAAA,EAAlB,kBAAkB,EAAlB;AACH;AACJ;;;uCAEkC;AAAA,gBAAtB,QAAsB,uEAAnC,SAAmC;;AAC/B,8BAAA,IAAA,CAAA,IAAA;;AAEA,iBAAA,cAAA;AACA,iBAAA,MAAA,CAAA,eAAA,CAAA,cAAA,EAAA,EAAA,EAAA,QAAA;AACH;;;qCACY;AACT,8BAAA,IAAA,CAAA,IAAA;AACA,mBAAO,KAAA,MAAA,CAAP,UAAO,EAAP;AACH;;;sCACa;AACV,8BAAA,IAAA,CAAA,IAAA;AACA,mBAAO,KAAA,MAAA,CAAP,WAAO,EAAP;AACH;;;;;;AAGL,kBAAA,aAAA,EAAiC,YAAM;AACnC,WAAO,UAAA,qBAAA,CAAA,aAAA,KAAkD,YAAzD,WAAyD,EAAzD;AADJ,CAAA,EAAA,IAAA;;AAIA,kBAAA,cAAA,EAAkC,qBAAe;AAC7C,kBAAc,kBAAkB,SAAlB,IAAA,EAAd,SAAc,CAAd;AADJ,CAAA;;AAIA,SAAA,iBAAA,GAA6B;AACzB,QAAG,KAAH,UAAA,EAAoB;AAChB,cAAM,IAAA,KAAA,CAAN,8BAAM,CAAN;AACH;AACJ;;AAED,SAAA,iBAAA,GAA6B;AACzB,QAAI,KAAJ,UAAA,EAAqB;AACjB,aAAA,UAAA,CAAgB,KAAA,UAAA,CAAhB,GAAA,EAAqC,KAAA,UAAA,CAArC,QAAA;AACA,eAAO,KAAP,UAAA;AACH;AACJ;;AAED,SAAA,iBAAA,CAAA,YAAA,EAAA,KAAA,EAAkE;AAAA,QAAlB,QAAkB,uEAAlE,KAAkE;;AAC9D,WAAA,cAAA,CAAA,gBAAA,EAAA,YAAA,EAAsD;AAClD,kBADkD,QAAA;AAElD,sBAFkD,KAAA;AAGlD,eAAO;AAH2C,KAAtD;AAKH;;AAED,iBAAA,SAAA,GAAA,SAAA;;AAEA,OAAA,OAAA,GAAA,gBAAA;;;;;;;;;;;;;ACnKA,IAAM,YAAY,QAAlB,WAAkB,CAAlB;;AAEA,IAAM,aAAN,0BAAA;AACA,IAAM,gBAAN,6BAAA;AACA,IAAM,gBAAgB,QAAA,iBAAA,EAAtB,aAAA;AACA,IAAM,QAAQ,QAAd,SAAc,CAAd;AACA,IAAM,yBAAyB,QAAA,YAAA,EAA/B,sBAAA;;IAEA,W;AACI,yBAAA,MAAA,EAAmF;AAAA;;AAAA,YAA/D,SAA+D,uEAAnD,EAAC,MAAD,gBAAA,EAAyB,OAAzB,GAAA,EAAqC,QAArE,GAAgC,EAAmD;;AAAA;;AAC/E,aAAA,QAAA,GAAgB,MAAA,mBAAA,CAAA,MAAA,EAD+D,aAC/D,CAAhB,CAD+E,CACb;AAClE,cAAA,WAAA,CAAkB,KAAlB,QAAA;AACA,YAAI,SAAJ,EAAA;AACA,eAAA,KAAA,GAAe,UAAf,IAAA;AACA,eAAA,SAAA,gBAA8B,aAA9B,iBAAuD,cAAvD,mBAAA;AACA,eAAA,iBAAA,GAAA,QAAA;;AAEA,aAAA,EAAA,GAAU,UAAA,SAAA,CAAA,SAAA,EAAA,MAAA,EAAV,aAAU,CAAV;AACA,aAAA,SAAA,GAAiB,IAAjB,sBAAiB,EAAjB;AACA,aAAA,YAAA,GAAA,KAAA;AACA,YAAI,KAAJ,EAAA,EAAa;AACT,kBAAA,WAAA,CAAkB,KAAlB,EAAA;AACA,iBAAA,MAAA,GAAc,IAAA,aAAA,CAAkB,KAAlB,EAAA,EAA2B,UAA3B,IAAA,EAAA,aAAA,EAA0D,UAA1D,KAAA,EAA2E,UAA3E,MAAA,EAA6F,YAAK;AAC5G,oBAAM,UAAN,IAAA;AACA,sBAAA,YAAA,GAAA,OAAA;AACA,sBAAA,SAAA,CAAA,GAAA,CAAA,QAAA,EAAA,OAAA,CAAqC,oBAAc;AAC/C,+BAAW,YAAK;AACZ,iCAAA,QAAA,EAAA,OAAA;AADJ,qBAAA,EAAA,CAAA;AADJ,iBAAA;AAHJ,aAAc,CAAd;AASH;AACJ;;;;sCACa;AACV,mBAAO,KAAP,YAAA;AACH;;;2BACD,S,EAAA,Q,EAAwB;AACpB,iBAAA,SAAA,CAAA,GAAA,CAAA,SAAA,EAAA,QAAA;AACH;;;;;;AAGE,IAAI,gDAAoB,SAAA,iBAAA,CAAA,EAAA,EAAA,SAAA,EAA0C;AACrE,QAAI,CAAC,OAAL,UAAK,CAAL,EAAyB;AACrB,eAAA,UAAA,IAAqB,IAAA,WAAA,CAAA,EAAA,EAArB,SAAqB,CAArB;AACH;AACD,WAAO,OAAP,UAAO,CAAP;AAJG,CAAA;;;;;;;;;;;;;ACzCP,IAAI,SAAS,QAAA,SAAA,EAAb,MAAA;AACA,IAAI,gBAAgB,QAAA,SAAA,EAApB,aAAA;AACA,IAAI,iBAAiB,QAAA,SAAA,EAArB,cAAA;AACA,IAAI,sBAAsB,QAAA,YAAA,EAA1B,mBAAA;AACA,IAAI,yBAAyB,QAAA,YAAA,EAA7B,sBAAA;AACA,IAAM,WAAW,QAAjB,yBAAiB,CAAjB;AACA,IAAM,sBAAN,2BAAA;AACA,IAAM,QAAN,SAAA;;IAEO,a,WAAA,a;AACH,2BAAA,EAAA,EAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,MAAA,EAAA,aAAA,EAAkE;AAAA;;AAC9D,aAAA,GAAA,GAAA,EAAA;AACA,aAAA,QAAA,GAAA,OAAA;AACA,aAAA,SAAA,GAAA,QAAA;AACA,aAAA,MAAA,GAAA,KAAA;AACA,aAAA,OAAA,GAAA,MAAA;AACA,aAAA,SAAA,GAAiB,IAAjB,sBAAiB,EAAjB;AACA,aAAA,UAAA,GAAkB,IAAlB,mBAAkB,EAAlB;AACA,aAAA,uBAAA,GAA+B,OAAO,KAAtC,QAA+B,CAA/B;AACA,aAAA,MAAA,GAAA,KAAA;AACA,aAAA,iBAAA,GAAA,aAAA;;AAEA,iBAAA,WAAA,CAAqB,KAArB,QAAA,EAAA,IAAA;AACH;;;;2BAED,S,EAAA,Q,EAAwB;AACpB,iBAAA,SAAA,CAAA,GAAA,CAAA,SAAA,EAAA,QAAA;AACH;;;4BAED,S,EAAA,Q,EAAyB;AACrB,mBAAO,KAAA,SAAA,CAAA,MAAA,CAAA,SAAA,EAAP,QAAO,CAAP;AACH;;;iCAED,S,EAAoB;AAChB,mBAAO,KAAA,SAAA,CAAA,WAAA,CAAP,SAAO,CAAP;AACH;;;iCAEQ;AACL,mBAAO,KAAA,SAAA,CAAP,SAAO,EAAP;AACH;;;wCAED,U,EAA6D;AAAA,gBAAjC,IAAiC,uEAA7D,EAA6D;AAAA,gBAAtB,QAAsB,uEAA7D,SAA6D;;AACzD,gBAAI,aAAJ,EAAA;AACA;AACA,gBAAA,QAAA,EAAc;AACV,6BAAgB,KAAA,uBAAA,EAAhB,SAAA,UAAA;AACA,qBAAA,UAAA,CAAA,GAAA,CAAA,UAAA,EAAA,QAAA;AACH;;AAGD,gBAAI;AACA;AACA;AACA,qBAAA,GAAA,CAAA,UAAA,EAAqB,CAAA,UAAA,EAAA,MAAA,CAArB,IAAqB,CAArB;AAHJ,aAAA,CAKE,OAAA,CAAA,EAAU;AACR,oBAAA,QAAA,EAAc;AACV,mCAAA,IAAA,CAAA,IAAA,EAAA,UAAA,EAAA,CAAA;AADJ,iBAAA,MAEO;;AAEH;AACA,yBAAA,QAAA,CAAA,KAAA,EAAA,CAAA;AACH;AACJ;AACJ;;;uCAED,Q,EAAyB;AACrB,mBAAO,KAAA,UAAA,CAAA,aAAA,CAAP,QAAO,CAAP;AACH;;;mDAED,M,EAAmC;AAAA;;AAC/B,iBAAA,UAAA,CAAA,UAAA,CAA2B,eAAS;AAChC,uBAAO,eAAA,GAAA,EAAP,MAAO,CAAP;AADJ,aAAA,EAAA,OAAA,CAEW,eAAS;AAChB,sBAAA,UAAA,CAAA,MAAA,CAAA,GAAA;AAHJ,aAAA;AAKH;;;6CAEoB;AACjB,mBAAO,KAAA,UAAA,CAAP,SAAO,EAAP;AACH;;;iCAED,S,EAAA,K,EAA2B;AAAA;;AACvB,iBAAA,SAAA,CAAA,GAAA,CAAA,SAAA,EAAA,OAAA,CAAsC,oBAAc;AAChD;AACA,oBAAI,cAAJ,aAAA,EAAiC;AAC7B,6BAAA,KAAA;AADJ,iBAAA,MAEO;AACH,+BAAW,YAAM;AACb,4BAAI,OAAA,SAAA,CAAA,GAAA,CAAA,SAAA,EAAA,MAAA,GAAJ,CAAA,EAA8C;AAC1C,qCAAA,KAAA;AACH;AAHL,qBAAA,EAAA,CAAA;AAKH;AAVL,aAAA;AAYH;;;sCAED,U,EAAA,U,EAAA,G,EAAA,M,EAAmD;;AAE/C,gBAAI,WAAW,KAAA,UAAA,CAAA,GAAA,CAAf,UAAe,CAAf;;AAEA;AACA;AACA,gBAAI,CAAJ,QAAA,EAAe;AACX,oBAAI,OAAO,eAAX,EAAA,EAA8B;AAC1B,yBAAA,OAAA,CAAA,KAAA,EAAA,GAAA;AACH;AACD;AACH;;AAED,2BAAA,IAAA,CAAA,IAAA,EAAA,UAAA,EAAA,GAAA,EAAA,MAAA;AAEH;;;mCAED,G,EAAA,I,EAAsB;AAClB,iBAAA,MAAA,GAAA,IAAA;AACA,gBAAI,KAAJ,iBAAA,EAA4B;AACxB,qBAAA,iBAAA,CAAA,GAAA,EAAA,IAAA;AACA,uBAAO,KAAP,iBAAA;AACH;AACJ;;AAED;;;;kCACU;AACN,mBAAO,EAAC,OAAO,KAAR,MAAA,EAAqB,QAAQ,KAApC,OAAO,EAAP;AACH;;;gCACD,Q,EAAA,S,EAA6B;AACzB,iBAAA,MAAA,GAAc,cAAA,QAAA,EAAwB,KAAtC,MAAc,CAAd;AACA,iBAAA,OAAA,GAAe,cAAA,SAAA,EAAyB,KAAxC,OAAe,CAAf;AACA,iBAAA,GAAA,CAAA,YAAA,CAAA,OAAA,EAA+B,KAA/B,MAAA;AACA,iBAAA,GAAA,CAAA,YAAA,CAAA,QAAA,EAAgC,KAAhC,OAAA;AACH;;;mCACU;AACP,mBAAO,KAAP,MAAA;AACH;;;iCACD,Q,EAAmB;AACf,iBAAA,OAAA,CAAA,QAAA,EAAuB,KAAvB,OAAA;AACH;;;oCACW;AACR,mBAAO,KAAP,OAAA;AACH;;;kCACD,S,EAAqB;AACjB,iBAAA,OAAA,CAAa,KAAb,MAAA,EAAA,SAAA;AACH;;;qCACY;AACT,mBAAO,KAAP,QAAA;AACH;;;sCACa;AACV,mBAAO,KAAP,SAAA;AACH;;;kCACS;AACN,mBAAO,KAAP,MAAA;AACH;;;kCACS;AACN,iBAAA,MAAA;AACA,iBAAA,kBAAA;AACA,qBAAA,kBAAA,CAA4B,KAA5B,QAAA;AACA,gBAAI,KAAA,GAAA,CAAJ,aAAA,EAA4B;AACxB,qBAAA,GAAA,CAAA,aAAA,CAAA,WAAA,CAAmC,KAAnC,GAAA;AACH;AACJ;;;;;;AAGL,SAAA,cAAA,CAAA,UAAA,EAAA,GAAA,EAAA,MAAA,EAAiD;AAAA;;AAC7C,eAAW,YAAM;AACb,YAAI,WAAW,OAAA,UAAA,CAAA,GAAA,CAAf,UAAe,CAAf;AACA,YAAA,QAAA,EAAc;AACV,mBAAA,UAAA,CAAA,MAAA,CAAA,UAAA;AACA,qBAAA,GAAA,EAAA,MAAA;AACH;AALL,KAAA,EAAA,CAAA;AAOH;;AAED,OAAA,cAAA,CAAA,aAAA,EAAA,qBAAA,EAA4D;AACxD,cADwD,KAAA;AAExD,kBAFwD,KAAA;AAGxD,WAAO;AAHiD,CAA5D;;AAMA;;;;;;;;;;AAUA,OAAA,mBAAA,IAA8B,UAAA,OAAA,EAAA,MAAA,EAAA,QAAA,EAAA,UAAA,EAAA,KAAA,EAAA,IAAA,EAAwD;AAClF,QAAI,WAAW,SAAA,eAAA,CAAf,OAAe,CAAf;AACA,QAAI,CAAJ,QAAA,EAAe;AACf,QAAI,aAAJ,WAAA,EAA8B;AAC1B,iBAAA,UAAA,CAAA,KAAA,EAAA,IAAA;AADJ,KAAA,MAEO;AACH,YAAI,WAAJ,OAAA,EAAwB;AACpB,qBAAA,aAAA,CAAA,QAAA,EAAA,UAAA,EAAA,KAAA,EAAA,IAAA;AADJ,SAAA,MAEO;AACH,qBAAA,QAAA,CAAA,QAAA,EAAA,IAAA;AACH;AACJ;AAXL,CAAA;;;;;AC7LA,IAAI,sBAAsB,QAAA,YAAA,EAA1B,mBAAA;AACA,IAAI,YAAY,IAAhB,mBAAgB,EAAhB;;AAEA,IAAM,wBAAN,EAAA;AACA,OAAA,cAAA,CAAA,qBAAA,EAAA,aAAA,EAA4D;AACxD,cADwD,KAAA;AAExD,kBAFwD,KAAA;AAGxD,WAAO,eAAA,EAAA,EAAA,QAAA,EAAwB;AAC3B,kBAAA,GAAA,CAAA,EAAA,EAAA,QAAA;AACH;AALuD,CAA5D;;AAQA,OAAA,cAAA,CAAA,qBAAA,EAAA,iBAAA,EAAgE;AAC5D,cAD4D,KAAA;AAE5D,kBAF4D,KAAA;AAG5D,WAAO,eAAA,EAAA,EAAc;AACjB,eAAO,UAAA,GAAA,CAAP,EAAO,CAAP;AACH;AAL2D,CAAhE;;AAQA,OAAA,cAAA,CAAA,qBAAA,EAAA,oBAAA,EAAmE;AAC/D,cAD+D,KAAA;AAE/D,kBAF+D,KAAA;AAG/D,WAAO,eAAA,EAAA,EAAc;AACjB,eAAO,UAAA,MAAA,CAAP,EAAO,CAAP;AACH;AAL8D,CAAnE;;AAQA,OAAA,OAAA,GAAA,qBAAA;;;;;;;;;;;;;IC5BO,sB,WAAA,sB;AACH,sCAAe;AAAA;;AACX,aAAA,WAAA,GAAA,EAAA;AACH;;;;4BACD,E,EAAA,K,EAAgB;AACZ,gBAAI,CAAC,KAAA,WAAA,CAAL,EAAK,CAAL,EAA2B;AACvB,qBAAA,WAAA,CAAA,EAAA,IAAA,EAAA;AACH;AACD,gBAAI,KAAA,WAAA,CAAA,EAAA,EAAA,OAAA,CAAA,KAAA,MAAwC,CAA5C,CAAA,EAAgD;AAC5C,qBAAA,WAAA,CAAA,EAAA,EAAA,IAAA,CAAA,KAAA;AACH;AACJ;;;4BACD,E,EAAS;AACL,mBAAO,KAAA,WAAA,CAAA,EAAA,KAAP,EAAA;AACH;;;mCACD,O,EAAqB;AACjB,mBAAO,OAAA,IAAA,CAAY,KAAZ,WAAA,EAAA,MAAA,CAAP,OAAO,CAAP;AACH;;;oCACD,K,EAAoB;AAAA;;AAChB,gBAAI,OAAO,OAAA,IAAA,CAAY,KAAZ,WAAA,EAAA,MAAA,CAAqC,eAAS;AACrD,uBAAO,MAAA,WAAA,CAAA,GAAA,EAAA,OAAA,CAAA,KAAA,MAAyC,CAAhD,CAAA;AADJ,aAAW,CAAX;;AAIA,mBAAA,IAAA;AACH;;;+BACD,G,EAAA,K,EAAmB;AACf,gBAAI,CAAC,KAAA,WAAA,CAAL,GAAK,CAAL,EAA4B;AAAE;AAAS;;AAEvC,gBAAI,QAAQ,KAAA,WAAA,CAAA,GAAA,EAAA,OAAA,CAAZ,KAAY,CAAZ;;AAEA,gBAAI,QAAJ,CAAA,EAAe;AAAE;AAAS;AAC1B,mBAAO,KAAA,WAAA,CAAA,GAAA,EAAA,MAAA,CAAA,KAAA,EAAP,CAAO,CAAP;AACH;;;oCACD,E,EAAiB;AACb,gBAAI,MAAM,KAAA,WAAA,CAAV,EAAU,CAAV;AACA,mBAAO,KAAA,WAAA,CAAP,EAAO,CAAP;AACA,mBAAA,GAAA;AACH;;;sCACD,K,EAAsB;AAAA;;AAClB,gBAAI,OAAO,KAAA,WAAA,CAAX,KAAW,CAAX;AACA,mBAAO,KAAA,GAAA,CAAS,eAAS;AACrB,uBAAO,OAAA,MAAA,CAAA,GAAA,EAAP,KAAO,CAAP;AADJ,aAAO,CAAP;AAGH;;;oCACW;AACR,gBAAI,MAAM,KAAV,WAAA;AACA,iBAAA,WAAA,GAAA,EAAA;AACA,mBAAA,GAAA;AACH;;;+BACM;AACH,mBAAO,OAAA,IAAA,CAAY,KAAZ,WAAA,EAAP,MAAA;AACH;;;;;;IAGE,mB,WAAA,mB;AACH,mCAAe;AAAA;;AACX,aAAA,WAAA,GAAA,EAAA;AACH;;;;4BACD,E,EAAA,K,EAAgB;AACZ,iBAAA,WAAA,CAAA,EAAA,IAAA,KAAA;AACH;;;4BACD,E,EAAS;AACL,mBAAO,KAAA,WAAA,CAAP,EAAO,CAAP;AACH;;;mCACD,O,EAAqB;AACjB,mBAAO,OAAA,IAAA,CAAY,KAAZ,WAAA,EAAA,MAAA,CAAP,OAAO,CAAP;AACH;;;oCACD,K,EAAoB;AAAA;;AAChB,gBAAI,OAAO,OAAA,IAAA,CAAY,KAAZ,WAAA,EAAA,MAAA,CAAqC,eAAS;AACrD,uBAAO,OAAA,WAAA,CAAA,GAAA,MAAP,KAAA;AADJ,aAAW,CAAX;;AAIA,mBAAA,IAAA;AACH;;;+BACD,E,EAAY;AACR,gBAAI,MAAM,KAAA,WAAA,CAAV,EAAU,CAAV;AACA,mBAAO,KAAA,WAAA,CAAP,EAAO,CAAP;AACA,mBAAA,GAAA;AACH;;;sCACD,K,EAAsB;AAAA;;AAClB,gBAAI,OAAO,KAAA,WAAA,CAAX,KAAW,CAAX;AACA,mBAAO,KAAA,GAAA,CAAS,eAAS;AACrB,uBAAO,OAAA,MAAA,CAAP,GAAO,CAAP;AADJ,aAAO,CAAP;AAGH;;;oCACW;AACR,gBAAI,MAAM,KAAV,WAAA;AACA,iBAAA,WAAA,GAAA,EAAA;AACA,mBAAA,GAAA;AACH;;;+BACM;AACH,mBAAO,OAAA,IAAA,CAAY,KAAZ,WAAA,EAAP,MAAA;AACH;;;;;;;;;;;;QC5FE,M,GAAA,M;QAOA,I,GAAA,I;QAIA,e,GAAA,e;QAgBA,mB,GAAA,mB;QAUA,a,GAAA,a;QAiBA,c,GAAA,c;QAIA,W,GAAA,W;AA1DA,SAAA,MAAA,CAAA,MAAA,EAAwB;AAC3B,QAAI,QAAQ,CAAZ,CAAA;AACA,WAAO,aAAK;AACR,eAAU,MAAV,SAAoB,EAApB,KAAA;AADJ,KAAA;AAGH;;AAEM,SAAA,IAAA,GAAgB,CACtB;;AAGM,SAAA,eAAA,CAAA,KAAA,EAAA,SAAA,EAAA,SAAA,EAAsD;;AAEzD,QAAI,UAAU,WAAW,YAAM;;AAE3B,oBAAA,IAAA;AACA;AAHU,KAAA,EAAd,KAAc,CAAd;;AAOA,WAAO,YAAY;AACf,qBAAA,OAAA;AACA,kBAAA,KAAA,CAAA,IAAA,EAAA,SAAA;AAFJ,KAAA;AAIH;;AAGM,SAAA,mBAAA,CAAA,MAAA,EAAA,EAAA,EAA+D;AAAA,QAAtB,YAAsB,uEAA/D,KAA+D;;AAClE,QAAI,MAAM,SAAA,aAAA,CAAV,KAAU,CAAV;AACA,QAAA,EAAA,GAAA,EAAA;AACA,QAAA,YAAA,EAAkB;AACd,eAAA,SAAA,GAAA,EAAA;AACH;AACD,WAAA,WAAA,CAAA,GAAA;AACA,WAAA,GAAA;AACH;;AAEM,SAAA,aAAA,CAAA,MAAA,EAAA,MAAA,EAAuC;AAC1C,WAAO,CAAC,MAAM,WAAP,MAAO,CAAN,CAAD,IAA8B,SAA9B,MAA8B,CAA9B,IAAkD,SAAlD,CAAA,GAAA,MAAA,GAAP,MAAA;AACH;;AAED,IAAI,WAAY,YAAY;AACxB,QAAI,OAAA,SAAA,CAAJ,QAAA,EAA+B,OAAO,OAAA,SAAA,CAAP,QAAA;AAC/B,WAAO,SAAA,QAAA,CAAA,YAAA,EAAA,QAAA,EAA2C;AAC9C,YAAI,gBAAgB,KAApB,QAAoB,EAApB;AACA,YAAI,aAAA,SAAA,IAA0B,WAAW,cAAzC,MAAA,EAA+D;AAC3D,uBAAW,cAAX,MAAA;AACH;AACD,oBAAY,aAAZ,MAAA;AACA,YAAI,YAAY,cAAA,OAAA,CAAA,YAAA,EAAhB,QAAgB,CAAhB;AACA,eAAO,cAAc,CAAd,CAAA,IAAoB,cAA3B,QAAA;AAPJ,KAAA;AAFJ,CAAgB,EAAhB;;AAaO,SAAA,cAAA,CAAA,MAAA,EAAA,MAAA,EAAwC;AAC3C,WAAO,SAAA,IAAA,CAAA,MAAA,EAAP,MAAO,CAAP;AACH;;AAEM,SAAA,WAAA,CAAA,EAAA,EAAyB;AAC5B;AACA,OAAA,KAAA,CAAA,QAAA,GAAA,UAAA;AACA,OAAA,KAAA,CAAA,IAAA,GAAA,MAAA;AACA,OAAA,KAAA,CAAA,GAAA,GAAA,MAAA;AACA,OAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AACA,OAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACH;;;ACnED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VPAIDFLASHClient.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","'use strict';\n\n//simple representation of the API\nexport class IVPAIDAdUnit {\n\n    //all methods below\n    //are async methods\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {}\n\n    //creativeData is an object to be consistent with VPAIDHTML\n    initAd (width, height, viewMode, desiredBitrate, creativeData = {AdParameters:''}, environmentVars = {flashVars: ''}, callback = undefined) {}\n    resizeAd(width, height, viewMode, callback = undefined) {}\n\n    startAd(callback = undefined) {}\n    stopAd(callback = undefined) {}\n    pauseAd(callback = undefined) {}\n    resumeAd(callback = undefined) {}\n    expandAd(callback = undefined) {}\n    collapseAd(callback = undefined) {}\n    skipAd(callback = undefined) {}\n\n    //properties that will be treat as async methods\n    getAdLinear(callback) {}\n    getAdWidth(callback) {}\n    getAdHeight(callback) {}\n    getAdExpanded(callback) {}\n    getAdSkippableState(callback) {}\n    getAdRemainingTime(callback) {}\n    getAdDuration(callback) {}\n    setAdVolume(soundVolume, callback = undefined) {}\n    getAdVolume(callback) {}\n    getAdCompanions(callback) {}\n    getAdIcons(callback) {}\n}\n\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\n    writable: false,\n    configurable: false,\n    value: [\n        'AdLoaded',\n        'AdStarted',\n        'AdStopped',\n        'AdSkipped',\n        'AdSkippableStateChange', // VPAID 2.0 new event\n        'AdSizeChange', // VPAID 2.0 new event\n        'AdLinearChange',\n        'AdDurationChange', // VPAID 2.0 new event\n        'AdExpandedChange',\n        'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n        'AdVolumeChange',\n        'AdImpression',\n        'AdVideoStart',\n        'AdVideoFirstQuartile',\n        'AdVideoMidpoint',\n        'AdVideoThirdQuartile',\n        'AdVideoComplete',\n        'AdClickThru',\n        'AdInteraction', // VPAID 2.0 new event\n        'AdUserAcceptInvitation',\n        'AdUserMinimize',\n        'AdUserClose',\n        'AdPaused',\n        'AdPlaying',\n        'AdLog',\n        'AdError'\n    ]\n});\n\n","'use strict';\n\nlet IVPAIDAdUnit = require('./IVPAIDAdUnit').IVPAIDAdUnit;\nlet ALL_VPAID_METHODS = Object.getOwnPropertyNames(IVPAIDAdUnit.prototype).filter(function (property) {\n    return ['constructor'].indexOf(property) === -1;\n});\n\nexport class VPAIDAdUnit extends IVPAIDAdUnit {\n    constructor (flash) {\n        super();\n        this._destroyed = false;\n        this._flash = flash;\n    }\n\n    _destroy() {\n        this._destroyed = true;\n        ALL_VPAID_METHODS.forEach((methodName) => {\n            this._flash.removeCallbackByMethodName(methodName);\n        });\n        IVPAIDAdUnit.EVENTS.forEach((event) => {\n            this._flash.offEvent(event);\n        });\n\n        this._flash = null;\n    }\n\n    isDestroyed () {\n        return this._destroyed;\n    }\n\n    on(eventName, callback) {\n        this._flash.on(eventName, callback);\n    }\n\n    off(eventName, callback) {\n        this._flash.off(eventName, callback);\n    }\n\n    //VPAID interface\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {\n        this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n    }\n    initAd (width, height, viewMode, desiredBitrate, creativeData = {AdParameters: ''}, environmentVars = {flashVars: ''}, callback = undefined) {\n        //resize element that has the flash object\n        this._flash.setSize(width, height);\n        creativeData = creativeData || {AdParameters: ''};\n        environmentVars = environmentVars || {flashVars: ''};\n\n        this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData.AdParameters || '', environmentVars.flashVars || ''], callback);\n    }\n    resizeAd(width, height, viewMode, callback = undefined) {\n        //resize element that has the flash object\n        this._flash.setSize(width, height);\n\n        //resize ad inside the flash\n        this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n    }\n    startAd(callback = undefined) {\n        this._flash.callFlashMethod('startAd', [], callback);\n    }\n    stopAd(callback = undefined) {\n        this._flash.callFlashMethod('stopAd', [], callback);\n    }\n    pauseAd(callback = undefined) {\n        this._flash.callFlashMethod('pauseAd', [], callback);\n    }\n    resumeAd(callback = undefined) {\n        this._flash.callFlashMethod('resumeAd', [], callback);\n    }\n    expandAd(callback = undefined) {\n        this._flash.callFlashMethod('expandAd', [], callback);\n    }\n    collapseAd(callback = undefined) {\n        this._flash.callFlashMethod('collapseAd', [], callback);\n    }\n    skipAd(callback = undefined) {\n        this._flash.callFlashMethod('skipAd', [], callback);\n    }\n\n    //properties that will be treat as async methods\n    getAdLinear(callback) {\n        this._flash.callFlashMethod('getAdLinear', [], callback);\n    }\n    getAdWidth(callback) {\n        this._flash.callFlashMethod('getAdWidth', [], callback);\n    }\n    getAdHeight(callback) {\n        this._flash.callFlashMethod('getAdHeight', [], callback);\n    }\n    getAdExpanded(callback) {\n        this._flash.callFlashMethod('getAdExpanded', [], callback);\n    }\n    getAdSkippableState(callback) {\n        this._flash.callFlashMethod('getAdSkippableState', [], callback);\n    }\n    getAdRemainingTime(callback) {\n        this._flash.callFlashMethod('getAdRemainingTime', [], callback);\n    }\n    getAdDuration(callback) {\n        this._flash.callFlashMethod('getAdDuration', [], callback);\n    }\n    setAdVolume(volume, callback = undefined) {\n        this._flash.callFlashMethod('setAdVolume', [volume], callback);\n    }\n    getAdVolume(callback) {\n        this._flash.callFlashMethod('getAdVolume', [], callback);\n    }\n    getAdCompanions(callback) {\n        this._flash.callFlashMethod('getAdCompanions', [], callback);\n    }\n    getAdIcons(callback) {\n        this._flash.callFlashMethod('getAdIcons', [], callback);\n    }\n}\n\n","'use strict';\n\nconst swfobject = require('swfobject');\n\nconst JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\nconst VPAIDAdUnit = require('./VPAIDAdUnit').VPAIDAdUnit;\n\nconst noop = require('./utils').noop;\nconst callbackTimeout = require('./utils').callbackTimeout;\nconst isPositiveInt = require('./utils').isPositiveInt;\nconst createElementWithID = require('./utils').createElementWithID;\nconst uniqueVPAID = require('./utils').unique('vpaid');\nconst createFlashTester = require('./flashTester.js').createFlashTester;\n\nconst ERROR = 'error';\nconst FLASH_VERSION = '10.1.0';\n\nlet flashTester = {isSupported: ()=> true}; // if the runFlashTest is not run the flashTester will always return true\n\nclass VPAIDFLASHClient {\n    constructor (vpaidParentEl, callback, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}, params = { wmode: 'transparent', salign: 'tl', align: 'left', allowScriptAccess: 'always', scale: 'noScale', allowFullScreen: 'true', quality: 'high'}, vpaidOptions = { debug: false, timeout: 10000 }) {\n\n        var me = this;\n\n        this._vpaidParentEl = vpaidParentEl;\n        this._flashID = uniqueVPAID();\n        this._destroyed = false;\n        callback = callback || noop;\n\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        createElementWithID(vpaidParentEl, this._flashID, true);\n\n        params.movie = swfConfig.data;\n        params.FlashVars = `flashid=${this._flashID}&handler=${JSFlashBridge.VPAID_FLASH_HANDLER}&debug=${vpaidOptions.debug}&salign=${params.salign}`;\n\n        if (!VPAIDFLASHClient.isSupported()) {\n            return onError('user don\\'t support flash or doesn\\'t have the minimum required version of flash ' + FLASH_VERSION);\n        }\n\n        this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n\n        if (!this.el) {\n            return onError( 'swfobject failed to create object in element' );\n        }\n\n        var handler = callbackTimeout(vpaidOptions.timeout,\n            (err, data) => {\n                $loadPendedAdUnit.call(this);\n                callback(err, data);\n            }, () => {\n                callback('vpaid flash load timeout ' + vpaidOptions.timeout);\n            }\n        );\n\n        this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, handler);\n\n        function onError(error) {\n            setTimeout(() => {\n                callback(new Error(error));\n            }, 0);\n            return me;\n        }\n\n    }\n\n    destroy () {\n        this._destroyAdUnit();\n\n        if (this._flash) {\n            this._flash.destroy();\n            this._flash = null;\n        }\n        this.el = null;\n        this._destroyed = true;\n    }\n\n    isDestroyed () {\n        return this._destroyed;\n    }\n\n    _destroyAdUnit() {\n        delete this._loadLater;\n\n        if (this._adUnitLoad) {\n            this._adUnitLoad = null;\n            this._flash.removeCallback(this._adUnitLoad);\n        }\n\n        if (this._adUnit) {\n            this._adUnit._destroy();\n            this._adUnit = null;\n        }\n    }\n\n    loadAdUnit(adURL, callback) {\n        $throwIfDestroyed.call(this);\n\n        if (this._adUnit) {\n            this._destroyAdUnit();\n        }\n\n        if (this._flash.isReady()) {\n            this._adUnitLoad = (err, message) => {\n                if (!err) {\n                    this._adUnit = new VPAIDAdUnit(this._flash);\n                }\n                this._adUnitLoad = null;\n                callback(err, this._adUnit);\n            };\n\n            this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\n        }else {\n            this._loadLater = {url: adURL, callback};\n        }\n    }\n\n    unloadAdUnit(callback = undefined) {\n        $throwIfDestroyed.call(this);\n\n        this._destroyAdUnit();\n        this._flash.callFlashMethod('unloadAdUnit', [], callback);\n    }\n    getFlashID() {\n        $throwIfDestroyed.call(this);\n        return this._flash.getFlashID();\n    }\n    getFlashURL() {\n        $throwIfDestroyed.call(this);\n        return this._flash.getFlashURL();\n    }\n}\n\nsetStaticProperty('isSupported', () => {\n    return swfobject.hasFlashPlayerVersion(FLASH_VERSION) && flashTester.isSupported();\n}, true);\n\nsetStaticProperty('runFlashTest', (swfConfig) => {\n    flashTester = createFlashTester(document.body, swfConfig);\n});\n\nfunction $throwIfDestroyed() {\n    if(this._destroyed) {\n        throw new Error('VPAIDFlashToJS is destroyed!');\n    }\n}\n\nfunction $loadPendedAdUnit() {\n    if (this._loadLater) {\n        this.loadAdUnit(this._loadLater.url, this._loadLater.callback);\n        delete this._loadLater;\n    }\n}\n\nfunction setStaticProperty(propertyName, value, writable = false) {\n    Object.defineProperty(VPAIDFLASHClient, propertyName, {\n        writable: writable,\n        configurable: false,\n        value: value\n    });\n}\n\nVPAIDFLASHClient.swfobject = swfobject;\n\nmodule.exports = VPAIDFLASHClient;\n","'use strict';\n\nconst swfobject = require('swfobject');\n\nconst FLASH_TEST = 'vpaid_video_flash_tester';\nconst FLASH_TEST_EL = 'vpaid_video_flash_tester_el';\nconst JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\nconst utils = require('./utils');\nconst MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\n\nclass FlashTester {\n    constructor(parent, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}) {\n        this.parentEl = utils.createElementWithID(parent, FLASH_TEST_EL); // some browsers create global variables using the element id http://stackoverflow.com/questions/3434278/do-dom-tree-elements-with-ids-become-global-variables\n        utils.hideFlashEl(this.parentEl);\n        var params = {};\n        params.movie = swfConfig.data;\n        params.FlashVars = `flashid=${FLASH_TEST_EL}&handler=${JSFlashBridge.VPAID_FLASH_HANDLER}`;\n        params.allowScriptAccess = 'always';\n\n        this.el = swfobject.createSWF(swfConfig, params, FLASH_TEST_EL);\n        this._handlers = new MultipleValuesRegistry();\n        this._isSupported = false;\n        if (this.el) {\n            utils.hideFlashEl(this.el);\n            this._flash = new JSFlashBridge(this.el, swfConfig.data, FLASH_TEST_EL, swfConfig.width, swfConfig.height, ()=> {\n                const support = true;\n                this._isSupported = support;\n                this._handlers.get('change').forEach((callback) => {\n                    setTimeout(()=> {\n                        callback('change', support);\n                    }, 0);\n                });\n            });\n        }\n    }\n    isSupported() {\n        return this._isSupported;\n    }\n    on(eventName, callback) {\n        this._handlers.add(eventName, callback);\n    }\n}\n\nexport var createFlashTester = function createFlashTester(el, swfConfig) {\n    if (!window[FLASH_TEST]) {\n        window[FLASH_TEST] = new FlashTester(el, swfConfig);\n    }\n    return window[FLASH_TEST];\n};\n","'use strict';\n\nlet unique = require('./utils').unique;\nlet isPositiveInt = require('./utils').isPositiveInt;\nlet stringEndsWith = require('./utils').stringEndsWith;\nlet SingleValueRegistry = require('./registry').SingleValueRegistry;\nlet MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\nconst registry = require('./jsFlashBridgeRegistry');\nconst VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\nconst ERROR = 'AdError';\n\nexport class JSFlashBridge {\n    constructor (el, flashURL, flashID, width, height, loadHandShake) {\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = new MultipleValuesRegistry();\n        this._callbacks = new SingleValueRegistry();\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        this._ready = false;\n        this._handShakeHandler = loadHandShake;\n\n        registry.addInstance(this._flashID, this);\n    }\n\n    on(eventName, callback) {\n        this._handlers.add(eventName, callback);\n    }\n\n    off(eventName, callback) {\n        return this._handlers.remove(eventName, callback);\n    }\n\n    offEvent(eventName) {\n        return this._handlers.removeByKey(eventName);\n    }\n\n    offAll() {\n        return this._handlers.removeAll();\n    }\n\n    callFlashMethod(methodName, args = [], callback = undefined) {\n        var callbackID = '';\n        // if no callback, some methods the return is void so they don't need callback\n        if (callback) {\n            callbackID = `${this._uniqueMethodIdentifier()}_${methodName}`;\n            this._callbacks.add(callbackID, callback);\n        }\n\n\n        try {\n            //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n            //this code will throw an error\n            this._el[methodName]([callbackID].concat(args));\n\n        } catch (e) {\n            if (callback) {\n                $asyncCallback.call(this, callbackID, e);\n            } else {\n\n                //if there isn't any callback to return error use error event handler\n                this._trigger(ERROR, e);\n            }\n        }\n    }\n\n    removeCallback(callback) {\n        return this._callbacks.removeByValue(callback);\n    }\n\n    removeCallbackByMethodName(suffix) {\n        this._callbacks.filterKeys((key) => {\n            return stringEndsWith(key, suffix);\n        }).forEach((key) => {\n            this._callbacks.remove(key);\n        });\n    }\n\n    removeAllCallbacks() {\n        return this._callbacks.removeAll();\n    }\n\n    _trigger(eventName, event) {\n        this._handlers.get(eventName).forEach((callback) => {\n            //clickThru has to be sync, if not will be block by the popupblocker\n            if (eventName === 'AdClickThru') {\n                callback(event);\n            } else {\n                setTimeout(() => {\n                    if (this._handlers.get(eventName).length > 0) {\n                        callback(event);\n                    }\n                }, 0);\n            }\n        });\n    }\n\n    _callCallback(methodName, callbackID, err, result) {\n\n        let callback = this._callbacks.get(callbackID);\n\n        //not all methods callback's are mandatory\n        //but if there exist an error, fire the error event\n        if (!callback) {\n            if (err && callbackID === '') {\n                this.trigger(ERROR, err);\n            }\n            return;\n        }\n\n        $asyncCallback.call(this, callbackID, err, result);\n\n    }\n\n    _handShake(err, data) {\n        this._ready = true;\n        if (this._handShakeHandler) {\n            this._handShakeHandler(err, data);\n            delete this._handShakeHandler;\n        }\n    }\n\n    //methods like properties specific to this implementation of VPAID\n    getSize() {\n        return {width: this._width, height: this._height};\n    }\n    setSize(newWidth, newHeight) {\n        this._width = isPositiveInt(newWidth, this._width);\n        this._height = isPositiveInt(newHeight, this._height);\n        this._el.setAttribute('width', this._width);\n        this._el.setAttribute('height', this._height);\n    }\n    getWidth() {\n        return this._width;\n    }\n    setWidth(newWidth) {\n        this.setSize(newWidth, this._height);\n    }\n    getHeight() {\n        return this._height;\n    }\n    setHeight(newHeight) {\n        this.setSize(this._width, newHeight);\n    }\n    getFlashID() {\n        return this._flashID;\n    }\n    getFlashURL() {\n        return this._flashURL;\n    }\n    isReady() {\n        return this._ready;\n    }\n    destroy() {\n        this.offAll();\n        this.removeAllCallbacks();\n        registry.removeInstanceByID(this._flashID);\n        if (this._el.parentElement) {\n            this._el.parentElement.removeChild(this._el);\n        }\n    }\n}\n\nfunction $asyncCallback(callbackID, err, result) {\n    setTimeout(() => {\n        let callback = this._callbacks.get(callbackID);\n        if (callback) {\n            this._callbacks.remove(callbackID);\n            callback(err, result);\n        }\n    }, 0);\n}\n\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\n/**\n * External interface handler\n *\n * @param {string} flashID identifier of the flash who call this\n * @param {string} typeID what type of message is, can be 'event' or 'callback'\n * @param {string} typeName if the typeID is a event the typeName will be the eventName, if is a callback the typeID is the methodName that is related this callback\n * @param {string} callbackID only applies when the typeID is 'callback', identifier of the callback to call\n * @param {object} error error object\n * @param {object} data\n */\nwindow[VPAID_FLASH_HANDLER] = (flashID, typeID, typeName, callbackID, error, data) => {\n    let instance = registry.getInstanceByID(flashID);\n    if (!instance) return;\n    if (typeName === 'handShake') {\n        instance._handShake(error, data);\n    } else {\n        if (typeID !== 'event') {\n            instance._callCallback(typeName, callbackID, error, data);\n        } else {\n            instance._trigger(typeName, data);\n        }\n    }\n};\n\n","'use strict';\n\nlet SingleValueRegistry = require('./registry').SingleValueRegistry;\nlet instances = new SingleValueRegistry();\n\nconst JSFlashBridgeRegistry = {};\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\n    writable: false,\n    configurable: false,\n    value: function (id, instance) {\n        instances.add(id, instance);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function (id) {\n        return instances.get(id);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function (id) {\n        return instances.remove(id);\n    }\n});\n\nmodule.exports = JSFlashBridgeRegistry;\n\n","'use strict';\n\nexport class MultipleValuesRegistry {\n    constructor () {\n        this._registries = {};\n    }\n    add (id, value) {\n        if (!this._registries[id]) {\n            this._registries[id] = [];\n        }\n        if (this._registries[id].indexOf(value) === -1) {\n            this._registries[id].push(value);\n        }\n    }\n    get (id) {\n        return this._registries[id] || [];\n    }\n    filterKeys (handler) {\n        return Object.keys(this._registries).filter(handler);\n    }\n    findByValue (value) {\n        var keys = Object.keys(this._registries).filter((key) => {\n            return this._registries[key].indexOf(value) !== -1;\n        });\n\n        return keys;\n    }\n    remove(key, value) {\n        if (!this._registries[key]) { return; }\n\n        var index = this._registries[key].indexOf(value);\n\n        if (index < 0) { return; }\n        return this._registries[key].splice(index, 1);\n    }\n    removeByKey (id) {\n        let old = this._registries[id];\n        delete this._registries[id];\n        return old;\n    }\n    removeByValue (value) {\n        let keys = this.findByValue(value);\n        return keys.map((key) => {\n            return this.remove(key, value);\n        });\n    }\n    removeAll() {\n        let old = this._registries;\n        this._registries = {};\n        return old;\n    }\n    size() {\n        return Object.keys(this._registries).length;\n    }\n}\n\nexport class SingleValueRegistry {\n    constructor () {\n        this._registries = {};\n    }\n    add (id, value) {\n        this._registries[id] = value;\n    }\n    get (id) {\n        return this._registries[id];\n    }\n    filterKeys (handler) {\n        return Object.keys(this._registries).filter(handler);\n    }\n    findByValue (value) {\n        var keys = Object.keys(this._registries).filter((key) => {\n            return this._registries[key] === value;\n        });\n\n        return keys;\n    }\n    remove (id) {\n        let old = this._registries[id];\n        delete this._registries[id];\n        return old;\n    }\n    removeByValue (value) {\n        let keys = this.findByValue(value);\n        return keys.map((key) => {\n            return this.remove(key);\n        });\n    }\n    removeAll() {\n        let old = this._registries;\n        this._registries = {};\n        return old;\n    }\n    size() {\n        return Object.keys(this._registries).length;\n    }\n}\n\n","'use strict';\n\nexport function unique(prefix) {\n    let count = -1;\n    return f => {\n        return `${prefix}_${++count}`;\n    };\n}\n\nexport function noop() {\n}\n\n\nexport function callbackTimeout(timer, onSuccess, onTimeout) {\n\n    let timeout = setTimeout(() => {\n\n        onSuccess = noop;\n        onTimeout();\n\n    }, timer);\n\n    return function () {\n        clearTimeout(timeout);\n        onSuccess.apply(this, arguments);\n    };\n}\n\n\nexport function createElementWithID(parent, id, cleanContent = false) {\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    if (cleanContent) {\n        parent.innerHTML = '';\n    }\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nexport function isPositiveInt(newVal, oldVal) {\n    return !isNaN(parseFloat(newVal)) && isFinite(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\nlet endsWith = (function () {\n    if (String.prototype.endsWith) return String.prototype.endsWith;\n    return function endsWith (searchString, position) {\n        var subjectString = this.toString();\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    };\n})();\n\nexport function stringEndsWith(string, search) {\n    return endsWith.call(string, search);\n}\n\nexport function hideFlashEl(el) {\n    // can't use display none or visibility none because will block flash in some browsers\n    el.style.position = 'absolute';\n    el.style.left = '-1px';\n    el.style.top = '-1px';\n    el.style.width = '1px';\n    el.style.height = '1px';\n}\n","/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>\r\n    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>\r\n*/\r\n\r\n/* global ActiveXObject: false */\r\n\r\n(function (root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD\r\n    define(factory);\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    // Node, CommonJS-like\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals (root is window)\r\n    root.swfobject = factory();\r\n  }\r\n}(this, function () {\r\n\r\n    var UNDEF = \"undefined\",\r\n        OBJECT = \"object\",\r\n        SHOCKWAVE_FLASH = \"Shockwave Flash\",\r\n        SHOCKWAVE_FLASH_AX = \"ShockwaveFlash.ShockwaveFlash\",\r\n        FLASH_MIME_TYPE = \"application/x-shockwave-flash\",\r\n        EXPRESS_INSTALL_ID = \"SWFObjectExprInst\",\r\n        ON_READY_STATE_CHANGE = \"onreadystatechange\",\r\n\r\n        win = window,\r\n        doc = document,\r\n        nav = navigator,\r\n\r\n        plugin = false,\r\n        domLoadFnArr = [],\r\n        regObjArr = [],\r\n        objIdArr = [],\r\n        listenersArr = [],\r\n        storedFbContent,\r\n        storedFbContentId,\r\n        storedCallbackFn,\r\n        storedCallbackObj,\r\n        isDomLoaded = false,\r\n        isExpressInstallActive = false,\r\n        dynamicStylesheet,\r\n        dynamicStylesheetMedia,\r\n        autoHideShow = true,\r\n        encodeURIEnabled = false,\r\n\r\n    /* Centralized function for browser feature detection\r\n        - User agent string detection is only used when no good alternative is possible\r\n        - Is executed directly for optimal performance\r\n    */\r\n    ua = function () {\r\n        var w3cdom = typeof doc.getElementById !== UNDEF && typeof doc.getElementsByTagName !== UNDEF && typeof doc.createElement !== UNDEF,\r\n            u = nav.userAgent.toLowerCase(),\r\n            p = nav.platform.toLowerCase(),\r\n            windows = p ? /win/.test(p) : /win/.test(u),\r\n            mac = p ? /mac/.test(p) : /mac/.test(u),\r\n            webkit = /webkit/.test(u) ? parseFloat(u.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/, \"$1\")) : false, // returns either the webkit version or false if not webkit\r\n            ie = nav.appName === \"Microsoft Internet Explorer\",\r\n            playerVersion = [0, 0, 0],\r\n            d = null;\r\n        if (typeof nav.plugins !== UNDEF && typeof nav.plugins[SHOCKWAVE_FLASH] === OBJECT) {\r\n            d = nav.plugins[SHOCKWAVE_FLASH].description;\r\n            // nav.mimeTypes[\"application/x-shockwave-flash\"].enabledPlugin indicates whether plug-ins are enabled or disabled in Safari 3+\r\n            if (d && (typeof nav.mimeTypes !== UNDEF && nav.mimeTypes[FLASH_MIME_TYPE] && nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)) {\r\n                plugin = true;\r\n                ie = false; // cascaded feature detection for Internet Explorer\r\n                d = d.replace(/^.*\\s+(\\S+\\s+\\S+$)/, \"$1\");\r\n                playerVersion[0] = toInt(d.replace(/^(.*)\\..*$/, \"$1\"));\r\n                playerVersion[1] = toInt(d.replace(/^.*\\.(.*)\\s.*$/, \"$1\"));\r\n                playerVersion[2] = /[a-zA-Z]/.test(d) ? toInt(d.replace(/^.*[a-zA-Z]+(.*)$/, \"$1\")) : 0;\r\n            }\r\n        }\r\n        else if (typeof win.ActiveXObject !== UNDEF) {\r\n            try {\r\n                var a = new ActiveXObject(SHOCKWAVE_FLASH_AX);\r\n                if (a) { // a will return null when ActiveX is disabled\r\n                    d = a.GetVariable(\"$version\");\r\n                    if (d) {\r\n                        ie = true; // cascaded feature detection for Internet Explorer\r\n                        d = d.split(\" \")[1].split(\",\");\r\n                        playerVersion = [toInt(d[0]), toInt(d[1]), toInt(d[2])];\r\n                    }\r\n                }\r\n            }\r\n            catch (e) {}\r\n        }\r\n        return {w3: w3cdom, pv: playerVersion, wk: webkit, ie: ie, win: windows, mac: mac};\r\n    }(),\r\n\r\n    /* Cross-browser onDomLoad\r\n        - Will fire an event as soon as the DOM of a web page is loaded\r\n        - Internet Explorer workaround based on Diego Perini's solution: http://javascript.nwbox.com/IEContentLoaded/\r\n        - Regular onload serves as fallback\r\n    */\r\n    onDomLoad = function () {\r\n        if (!ua.w3) { return; }\r\n        if ((typeof doc.readyState !== UNDEF && (doc.readyState === \"complete\" || doc.readyState === \"interactive\")) || (typeof doc.readyState === UNDEF && (doc.getElementsByTagName(\"body\")[0] || doc.body))) { // function is fired after onload, e.g. when script is inserted dynamically\r\n            callDomLoadFunctions();\r\n        }\r\n        if (!isDomLoaded) {\r\n            if (typeof doc.addEventListener !== UNDEF) {\r\n                doc.addEventListener(\"DOMContentLoaded\", callDomLoadFunctions, false);\r\n            }\r\n            if (ua.ie) {\r\n                doc.attachEvent(ON_READY_STATE_CHANGE, function detach() {\r\n                    if (doc.readyState === \"complete\") {\r\n                        doc.detachEvent(ON_READY_STATE_CHANGE, detach);\r\n                        callDomLoadFunctions();\r\n                    }\r\n                });\r\n                if (win == top) { // if not inside an iframe\r\n                    (function checkDomLoadedIE() {\r\n                        if (isDomLoaded) { return; }\r\n                        try {\r\n                            doc.documentElement.doScroll(\"left\");\r\n                        }\r\n                        catch (e) {\r\n                            setTimeout(checkDomLoadedIE, 0);\r\n                            return;\r\n                        }\r\n                        callDomLoadFunctions();\r\n                    }());\r\n                }\r\n            }\r\n            if (ua.wk) {\r\n                (function checkDomLoadedWK() {\r\n                    if (isDomLoaded) { return; }\r\n                    if (!/loaded|complete/.test(doc.readyState)) {\r\n                        setTimeout(checkDomLoadedWK, 0);\r\n                        return;\r\n                    }\r\n                    callDomLoadFunctions();\r\n                }());\r\n            }\r\n        }\r\n    }();\r\n\r\n    function callDomLoadFunctions() {\r\n        if (isDomLoaded || !document.getElementsByTagName(\"body\")[0]) { return; }\r\n        try { // test if we can really add/remove elements to/from the DOM; we don't want to fire it too early\r\n            var t, span = createElement(\"span\");\r\n            span.style.display = \"none\"; //hide the span in case someone has styled spans via CSS\r\n            t = doc.getElementsByTagName(\"body\")[0].appendChild(span);\r\n            t.parentNode.removeChild(t);\r\n            t = null; //clear the variables\r\n            span = null;\r\n        }\r\n        catch (e) { return; }\r\n        isDomLoaded = true;\r\n        var dl = domLoadFnArr.length;\r\n        for (var i = 0; i < dl; i++) {\r\n            domLoadFnArr[i]();\r\n        }\r\n    }\r\n\r\n    function addDomLoadEvent(fn) {\r\n        if (isDomLoaded) {\r\n            fn();\r\n        }\r\n        else {\r\n            domLoadFnArr[domLoadFnArr.length] = fn; // Array.push() is only available in IE5.5+\r\n        }\r\n    }\r\n\r\n    /* Cross-browser onload\r\n        - Based on James Edwards' solution: http://brothercake.com/site/resources/scripts/onload/\r\n        - Will fire an event as soon as a web page including all of its assets are loaded\r\n     */\r\n    function addLoadEvent(fn) {\r\n        if (typeof win.addEventListener !== UNDEF) {\r\n            win.addEventListener(\"load\", fn, false);\r\n        }\r\n        else if (typeof doc.addEventListener !== UNDEF) {\r\n            doc.addEventListener(\"load\", fn, false);\r\n        }\r\n        else if (typeof win.attachEvent !== UNDEF) {\r\n            addListener(win, \"onload\", fn);\r\n        }\r\n        else if (typeof win.onload === \"function\") {\r\n            var fnOld = win.onload;\r\n            win.onload = function () {\r\n                fnOld();\r\n                fn();\r\n            };\r\n        }\r\n        else {\r\n            win.onload = fn;\r\n        }\r\n    }\r\n\r\n    /* Detect the Flash Player version for non-Internet Explorer browsers\r\n        - Detecting the plug-in version via the object element is more precise than using the plugins collection item's description:\r\n          a. Both release and build numbers can be detected\r\n          b. Avoid wrong descriptions by corrupt installers provided by Adobe\r\n          c. Avoid wrong descriptions by multiple Flash Player entries in the plugin Array, caused by incorrect browser imports\r\n        - Disadvantage of this method is that it depends on the availability of the DOM, while the plugins collection is immediately available\r\n    */\r\n    function testPlayerVersion() {\r\n        var b = doc.getElementsByTagName(\"body\")[0];\r\n        var o = createElement(OBJECT);\r\n        o.setAttribute(\"style\", \"visibility: hidden;\");\r\n        o.setAttribute(\"type\", FLASH_MIME_TYPE);\r\n        var t = b.appendChild(o);\r\n        if (t) {\r\n            var counter = 0;\r\n            (function checkGetVariable() {\r\n                if (typeof t.GetVariable !== UNDEF) {\r\n                    try {\r\n                        var d = t.GetVariable(\"$version\");\r\n                        if (d) {\r\n                            d = d.split(\" \")[1].split(\",\");\r\n                            ua.pv = [toInt(d[0]), toInt(d[1]), toInt(d[2])];\r\n                        }\r\n                    } catch (e) {\r\n                        //t.GetVariable(\"$version\") is known to fail in Flash Player 8 on Firefox\r\n                        //If this error is encountered, assume FP8 or lower. Time to upgrade.\r\n                        ua.pv = [8, 0, 0];\r\n                    }\r\n                }\r\n                else if (counter < 10) {\r\n                    counter++;\r\n                    setTimeout(checkGetVariable, 10);\r\n                    return;\r\n                }\r\n                b.removeChild(o);\r\n                t = null;\r\n                matchVersions();\r\n            }());\r\n        }\r\n        else {\r\n            matchVersions();\r\n        }\r\n    }\r\n\r\n    /* Perform Flash Player and SWF version matching; static publishing only\r\n    */\r\n    function matchVersions() {\r\n        var rl = regObjArr.length;\r\n        if (rl > 0) {\r\n            for (var i = 0; i < rl; i++) { // for each registered object element\r\n                var id = regObjArr[i].id;\r\n                var cb = regObjArr[i].callbackFn;\r\n                var cbObj = {success: false, id: id};\r\n                if (ua.pv[0] > 0) {\r\n                    var obj = getElementById(id);\r\n                    if (obj) {\r\n                        if (hasPlayerVersion(regObjArr[i].swfVersion) && !(ua.wk && ua.wk < 312)) { // Flash Player version >= published SWF version: Houston, we have a match!\r\n                            setVisibility(id, true);\r\n                            if (cb) {\r\n                                cbObj.success = true;\r\n                                cbObj.ref = getObjectById(id);\r\n                                cbObj.id = id;\r\n                                cb(cbObj);\r\n                            }\r\n                        }\r\n                        else if (regObjArr[i].expressInstall && canExpressInstall()) { // show the Adobe Express Install dialog if set by the web page author and if supported\r\n                            var att = {};\r\n                            att.data = regObjArr[i].expressInstall;\r\n                            att.width = obj.getAttribute(\"width\") || \"0\";\r\n                            att.height = obj.getAttribute(\"height\") || \"0\";\r\n                            if (obj.getAttribute(\"class\")) { att.styleclass = obj.getAttribute(\"class\"); }\r\n                            if (obj.getAttribute(\"align\")) { att.align = obj.getAttribute(\"align\"); }\r\n                            // parse HTML object param element's name-value pairs\r\n                            var par = {};\r\n                            var p = obj.getElementsByTagName(\"param\");\r\n                            var pl = p.length;\r\n                            for (var j = 0; j < pl; j++) {\r\n                                if (p[j].getAttribute(\"name\").toLowerCase() !== \"movie\") {\r\n                                    par[p[j].getAttribute(\"name\")] = p[j].getAttribute(\"value\");\r\n                                }\r\n                            }\r\n                            showExpressInstall(att, par, id, cb);\r\n                        }\r\n                        else { // Flash Player and SWF version mismatch or an older Webkit engine that ignores the HTML object element's nested param elements: display fallback content instead of SWF\r\n                            displayFbContent(obj);\r\n                            if (cb) { cb(cbObj); }\r\n                        }\r\n                    }\r\n                }\r\n                else { // if no Flash Player is installed or the fp version cannot be detected we let the HTML object element do its job (either show a SWF or fallback content)\r\n                    setVisibility(id, true);\r\n                    if (cb) {\r\n                        var o = getObjectById(id); // test whether there is an HTML object element or not\r\n                        if (o && typeof o.SetVariable !== UNDEF) {\r\n                            cbObj.success = true;\r\n                            cbObj.ref = o;\r\n                            cbObj.id = o.id;\r\n                        }\r\n                        cb(cbObj);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /* Main function\r\n        - Will preferably execute onDomLoad, otherwise onload (as a fallback)\r\n    */\r\n    domLoadFnArr[0] = function () {\r\n        if (plugin) {\r\n            testPlayerVersion();\r\n        }\r\n        else {\r\n            matchVersions();\r\n        }\r\n    };\r\n\r\n    function getObjectById(objectIdStr) {\r\n        var r = null,\r\n            o = getElementById(objectIdStr);\r\n\r\n        if (o && o.nodeName.toUpperCase() === \"OBJECT\") {\r\n            //If targeted object is valid Flash file\r\n            if (typeof o.SetVariable !== UNDEF) {\r\n                r = o;\r\n            } else {\r\n                //If SetVariable is not working on targeted object but a nested object is\r\n                //available, assume classic nested object markup. Return nested object.\r\n\r\n                //If SetVariable is not working on targeted object and there is no nested object,\r\n                //return the original object anyway. This is probably new simplified markup.\r\n\r\n                r = o.getElementsByTagName(OBJECT)[0] || o;\r\n            }\r\n        }\r\n\r\n        return r;\r\n    }\r\n\r\n    /* Requirements for Adobe Express Install\r\n        - only one instance can be active at a time\r\n        - fp 6.0.65 or higher\r\n        - Win/Mac OS only\r\n        - no Webkit engines older than version 312\r\n    */\r\n    function canExpressInstall() {\r\n        return !isExpressInstallActive && hasPlayerVersion(\"6.0.65\") && (ua.win || ua.mac) && !(ua.wk && ua.wk < 312);\r\n    }\r\n\r\n    /* Show the Adobe Express Install dialog\r\n        - Reference: http://www.adobe.com/cfusion/knowledgebase/index.cfm?id=6a253b75\r\n    */\r\n    function showExpressInstall(att, par, replaceElemIdStr, callbackFn) {\r\n\r\n        var obj = getElementById(replaceElemIdStr);\r\n\r\n        //Ensure that replaceElemIdStr is really a string and not an element\r\n        replaceElemIdStr = getId(replaceElemIdStr);\r\n\r\n        isExpressInstallActive = true;\r\n        storedCallbackFn = callbackFn || null;\r\n        storedCallbackObj = {success: false, id: replaceElemIdStr};\r\n\r\n        if (obj) {\r\n            if (obj.nodeName.toUpperCase() === \"OBJECT\") { // static publishing\r\n                storedFbContent = abstractFbContent(obj);\r\n                storedFbContentId = null;\r\n            }\r\n            else { // dynamic publishing\r\n                storedFbContent = obj;\r\n                storedFbContentId = replaceElemIdStr;\r\n            }\r\n            att.id = EXPRESS_INSTALL_ID;\r\n            if (typeof att.width === UNDEF || (!/%$/.test(att.width) && toInt(att.width) < 310)) { att.width = \"310\"; }\r\n            if (typeof att.height === UNDEF || (!/%$/.test(att.height) && toInt(att.height) < 137)) { att.height = \"137\"; }\r\n            var pt = ua.ie ? \"ActiveX\" : \"PlugIn\",\r\n                fv = \"MMredirectURL=\" + encodeURIComponent(win.location.toString().replace(/&/g, \"%26\")) + \"&MMplayerType=\" + pt + \"&MMdoctitle=\" + encodeURIComponent(doc.title.slice(0, 47) + \" - Flash Player Installation\");\r\n            if (typeof par.flashvars !== UNDEF) {\r\n                par.flashvars += \"&\" + fv;\r\n            }\r\n            else {\r\n                par.flashvars = fv;\r\n            }\r\n            // IE only: when a SWF is loading (AND: not available in cache) wait for the readyState of the object element to become 4 before removing it,\r\n            // because you cannot properly cancel a loading SWF file without breaking browser load references, also obj.onreadystatechange doesn't work\r\n            if (ua.ie && obj.readyState != 4) {\r\n                var newObj = createElement(\"div\");\r\n                replaceElemIdStr += \"SWFObjectNew\";\r\n                newObj.setAttribute(\"id\", replaceElemIdStr);\r\n                obj.parentNode.insertBefore(newObj, obj); // insert placeholder div that will be replaced by the object element that loads expressinstall.swf\r\n                obj.style.display = \"none\";\r\n                removeSWF(obj); //removeSWF accepts elements now\r\n            }\r\n            createSWF(att, par, replaceElemIdStr);\r\n        }\r\n    }\r\n\r\n    /* Functions to abstract and display fallback content\r\n    */\r\n    function displayFbContent(obj) {\r\n        if (ua.ie && obj.readyState != 4) {\r\n            // IE only: when a SWF is loading (AND: not available in cache) wait for the readyState of the object element to become 4 before removing it,\r\n            // because you cannot properly cancel a loading SWF file without breaking browser load references, also obj.onreadystatechange doesn't work\r\n            obj.style.display = \"none\";\r\n            var el = createElement(\"div\");\r\n            obj.parentNode.insertBefore(el, obj); // insert placeholder div that will be replaced by the fallback content\r\n            el.parentNode.replaceChild(abstractFbContent(obj), el);\r\n            removeSWF(obj); //removeSWF accepts elements now\r\n        }\r\n        else {\r\n            obj.parentNode.replaceChild(abstractFbContent(obj), obj);\r\n        }\r\n    }\r\n\r\n    function abstractFbContent(obj) {\r\n        var ac = createElement(\"div\");\r\n        if (ua.win && ua.ie) {\r\n            ac.innerHTML = obj.innerHTML;\r\n        }\r\n        else {\r\n            var nestedObj = obj.getElementsByTagName(OBJECT)[0];\r\n            if (nestedObj) {\r\n                var c = nestedObj.childNodes;\r\n                if (c) {\r\n                    var cl = c.length;\r\n                    for (var i = 0; i < cl; i++) {\r\n                        if (!(c[i].nodeType == 1 && c[i].nodeName === \"PARAM\") && !(c[i].nodeType == 8)) {\r\n                            ac.appendChild(c[i].cloneNode(true));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return ac;\r\n    }\r\n\r\n    function createIeObject(url, paramStr) {\r\n        var div = createElement(\"div\");\r\n        div.innerHTML = \"<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='\" + url + \"'>\" + paramStr + \"</object>\";\r\n        return div.firstChild;\r\n    }\r\n\r\n    /* Cross-browser dynamic SWF creation\r\n    */\r\n    function createSWF(attObj, parObj, id) {\r\n        var r, el = getElementById(id);\r\n        id = getId(id); // ensure id is truly an ID and not an element\r\n\r\n        if (ua.wk && ua.wk < 312) { return r; }\r\n\r\n        if (el) {\r\n            var o = (ua.ie) ? createElement(\"div\") : createElement(OBJECT),\r\n                attr,\r\n                attrLower,\r\n                param;\r\n\r\n            if (typeof attObj.id === UNDEF) { // if no 'id' is defined for the object element, it will inherit the 'id' from the fallback content\r\n                attObj.id = id;\r\n            }\r\n\r\n            //Add params\r\n            for (param in parObj) {\r\n                //filter out prototype additions from other potential libraries and IE specific param element\r\n                if (parObj.hasOwnProperty(param) && param.toLowerCase() !== \"movie\") {\r\n                    createObjParam(o, param, parObj[param]);\r\n                }\r\n            }\r\n\r\n            //Create IE object, complete with param nodes\r\n            if (ua.ie) { o = createIeObject(attObj.data, o.innerHTML); }\r\n\r\n            //Add attributes to object\r\n            for (attr in attObj) {\r\n                if (attObj.hasOwnProperty(attr)) { // filter out prototype additions from other potential libraries\r\n                    attrLower = attr.toLowerCase();\r\n\r\n                    // 'class' is an ECMA4 reserved keyword\r\n                    if (attrLower === \"styleclass\") {\r\n                        o.setAttribute(\"class\", attObj[attr]);\r\n                    } else if (attrLower !== \"classid\" && attrLower !== \"data\") {\r\n                        o.setAttribute(attr, attObj[attr]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (ua.ie) {\r\n                objIdArr[objIdArr.length] = attObj.id; // stored to fix object 'leaks' on unload (dynamic publishing only)\r\n            } else {\r\n                o.setAttribute(\"type\", FLASH_MIME_TYPE);\r\n                o.setAttribute(\"data\", attObj.data);\r\n            }\r\n\r\n            el.parentNode.replaceChild(o, el);\r\n            r = o;\r\n        }\r\n\r\n        return r;\r\n    }\r\n\r\n    function createObjParam(el, pName, pValue) {\r\n        var p = createElement(\"param\");\r\n        p.setAttribute(\"name\", pName);\r\n        p.setAttribute(\"value\", pValue);\r\n        el.appendChild(p);\r\n    }\r\n\r\n    /* Cross-browser SWF removal\r\n        - Especially needed to safely and completely remove a SWF in Internet Explorer\r\n    */\r\n    function removeSWF(id) {\r\n        var obj = getElementById(id);\r\n        if (obj && obj.nodeName.toUpperCase() === \"OBJECT\") {\r\n            if (ua.ie) {\r\n                obj.style.display = \"none\";\r\n                (function removeSWFInIE() {\r\n                    if (obj.readyState == 4) {\r\n                        //This step prevents memory leaks in Internet Explorer\r\n                        for (var i in obj) {\r\n                            if (typeof obj[i] === \"function\") {\r\n                                obj[i] = null;\r\n                            }\r\n                        }\r\n                        obj.parentNode.removeChild(obj);\r\n                    } else {\r\n                        setTimeout(removeSWFInIE, 10);\r\n                    }\r\n                }());\r\n            }\r\n            else {\r\n                obj.parentNode.removeChild(obj);\r\n            }\r\n        }\r\n    }\r\n\r\n    function isElement(id) {\r\n        return (id && id.nodeType && id.nodeType === 1);\r\n    }\r\n\r\n    function getId(thing) {\r\n        return (isElement(thing)) ? thing.id : thing;\r\n    }\r\n\r\n    /* Functions to optimize JavaScript compression\r\n    */\r\n    function getElementById(id) {\r\n\r\n        //Allow users to pass an element OR an element's ID\r\n        if (isElement(id)) { return id; }\r\n\r\n        var el = null;\r\n        try {\r\n            el = doc.getElementById(id);\r\n        }\r\n        catch (e) {}\r\n        return el;\r\n    }\r\n\r\n    function createElement(el) {\r\n        return doc.createElement(el);\r\n    }\r\n\r\n    //To aid compression; replaces 14 instances of pareseInt with radix\r\n    function toInt(str) {\r\n        return parseInt(str, 10);\r\n    }\r\n\r\n    /* Updated attachEvent function for Internet Explorer\r\n        - Stores attachEvent information in an Array, so on unload the detachEvent functions can be called to avoid memory leaks\r\n    */\r\n    function addListener(target, eventType, fn) {\r\n        target.attachEvent(eventType, fn);\r\n        listenersArr[listenersArr.length] = [target, eventType, fn];\r\n    }\r\n\r\n    /* Flash Player and SWF content version matching\r\n    */\r\n    function hasPlayerVersion(rv) {\r\n        rv += \"\"; //Coerce number to string, if needed.\r\n        var pv = ua.pv, v = rv.split(\".\");\r\n        v[0] = toInt(v[0]);\r\n        v[1] = toInt(v[1]) || 0; // supports short notation, e.g. \"9\" instead of \"9.0.0\"\r\n        v[2] = toInt(v[2]) || 0;\r\n        return (pv[0] > v[0] || (pv[0] == v[0] && pv[1] > v[1]) || (pv[0] == v[0] && pv[1] == v[1] && pv[2] >= v[2])) ? true : false;\r\n    }\r\n\r\n    /* Cross-browser dynamic CSS creation\r\n        - Based on Bobby van der Sluis' solution: http://www.bobbyvandersluis.com/articles/dynamicCSS.php\r\n    */\r\n    function createCSS(sel, decl, media, newStyle) {\r\n        var h = doc.getElementsByTagName(\"head\")[0];\r\n        if (!h) { return; } // to also support badly authored HTML pages that lack a head element\r\n        var m = (typeof media === \"string\") ? media : \"screen\";\r\n        if (newStyle) {\r\n            dynamicStylesheet = null;\r\n            dynamicStylesheetMedia = null;\r\n        }\r\n        if (!dynamicStylesheet || dynamicStylesheetMedia != m) {\r\n            // create dynamic stylesheet + get a global reference to it\r\n            var s = createElement(\"style\");\r\n            s.setAttribute(\"type\", \"text/css\");\r\n            s.setAttribute(\"media\", m);\r\n            dynamicStylesheet = h.appendChild(s);\r\n            if (ua.ie && typeof doc.styleSheets !== UNDEF && doc.styleSheets.length > 0) {\r\n                dynamicStylesheet = doc.styleSheets[doc.styleSheets.length - 1];\r\n            }\r\n            dynamicStylesheetMedia = m;\r\n        }\r\n        // add style rule\r\n        if (dynamicStylesheet) {\r\n            if (typeof dynamicStylesheet.addRule !== UNDEF) {\r\n                dynamicStylesheet.addRule(sel, decl);\r\n            } else if (typeof doc.createTextNode !== UNDEF) {\r\n                dynamicStylesheet.appendChild(doc.createTextNode(sel + \" {\" + decl + \"}\"));\r\n            }\r\n        }\r\n    }\r\n\r\n    function setVisibility(id, isVisible) {\r\n        if (!autoHideShow) { return; }\r\n        var v = isVisible ? \"visible\" : \"hidden\",\r\n            el = getElementById(id);\r\n        if (isDomLoaded && el) {\r\n            el.style.visibility = v;\r\n        } else if (typeof id === \"string\") {\r\n            createCSS(\"#\" + id, \"visibility:\" + v);\r\n        }\r\n    }\r\n\r\n    /* Filter to avoid XSS attacks\r\n    */\r\n    function urlEncodeIfNecessary(s) {\r\n        var regex = /[\\\\\\\"<>\\.;]/;\r\n        var hasBadChars = regex.exec(s) !== null;\r\n        return hasBadChars && typeof encodeURIComponent !== UNDEF ? encodeURIComponent(s) : s;\r\n    }\r\n\r\n    /* Release memory to avoid memory leaks caused by closures, fix hanging audio/video threads and force open sockets/NetConnections to disconnect (Internet Explorer only)\r\n    */\r\n    var cleanup = function () {\r\n        if (ua.ie) {\r\n            window.attachEvent(\"onunload\", function () {\r\n                // remove listeners to avoid memory leaks\r\n                var ll = listenersArr.length;\r\n                for (var i = 0; i < ll; i++) {\r\n                    listenersArr[i][0].detachEvent(listenersArr[i][1], listenersArr[i][2]);\r\n                }\r\n                // cleanup dynamically embedded objects to fix audio/video threads and force open sockets and NetConnections to disconnect\r\n                var il = objIdArr.length;\r\n                for (var j = 0; j < il; j++) {\r\n                    removeSWF(objIdArr[j]);\r\n                }\r\n                // cleanup library's main closures to avoid memory leaks\r\n                for (var k in ua) {\r\n                    ua[k] = null;\r\n                }\r\n                ua = null;\r\n                for (var l in swfobject) {\r\n                    swfobject[l] = null;\r\n                }\r\n                swfobject = null;\r\n            });\r\n        }\r\n    }();\r\n\r\n    return {\r\n        /* Public API\r\n            - Reference: http://code.google.com/p/swfobject/wiki/documentation\r\n        */\r\n        registerObject: function (objectIdStr, swfVersionStr, xiSwfUrlStr, callbackFn) {\r\n            if (ua.w3 && objectIdStr && swfVersionStr) {\r\n                var regObj = {};\r\n                regObj.id = objectIdStr;\r\n                regObj.swfVersion = swfVersionStr;\r\n                regObj.expressInstall = xiSwfUrlStr;\r\n                regObj.callbackFn = callbackFn;\r\n                regObjArr[regObjArr.length] = regObj;\r\n                setVisibility(objectIdStr, false);\r\n            }\r\n            else if (callbackFn) {\r\n                callbackFn({success: false, id: objectIdStr});\r\n            }\r\n        },\r\n\r\n        getObjectById: function (objectIdStr) {\r\n            if (ua.w3) {\r\n                return getObjectById(objectIdStr);\r\n            }\r\n        },\r\n\r\n        embedSWF: function (swfUrlStr, replaceElemIdStr, widthStr, heightStr, swfVersionStr, xiSwfUrlStr, flashvarsObj, parObj, attObj, callbackFn) {\r\n\r\n            var id = getId(replaceElemIdStr),\r\n                callbackObj = {success: false, id: id};\r\n\r\n            if (ua.w3 && !(ua.wk && ua.wk < 312) && swfUrlStr && replaceElemIdStr && widthStr && heightStr && swfVersionStr) {\r\n                setVisibility(id, false);\r\n                addDomLoadEvent(function () {\r\n                    widthStr += \"\"; // auto-convert to string\r\n                    heightStr += \"\";\r\n                    var att = {};\r\n                    if (attObj && typeof attObj === OBJECT) {\r\n                        for (var i in attObj) { // copy object to avoid the use of references, because web authors often reuse attObj for multiple SWFs\r\n                            att[i] = attObj[i];\r\n                        }\r\n                    }\r\n                    att.data = swfUrlStr;\r\n                    att.width = widthStr;\r\n                    att.height = heightStr;\r\n                    var par = {};\r\n                    if (parObj && typeof parObj === OBJECT) {\r\n                        for (var j in parObj) { // copy object to avoid the use of references, because web authors often reuse parObj for multiple SWFs\r\n                            par[j] = parObj[j];\r\n                        }\r\n                    }\r\n                    if (flashvarsObj && typeof flashvarsObj === OBJECT) {\r\n                        for (var k in flashvarsObj) { // copy object to avoid the use of references, because web authors often reuse flashvarsObj for multiple SWFs\r\n                            if (flashvarsObj.hasOwnProperty(k)) {\r\n\r\n                                var key = (encodeURIEnabled) ? encodeURIComponent(k) : k,\r\n                                    value = (encodeURIEnabled) ? encodeURIComponent(flashvarsObj[k]) : flashvarsObj[k];\r\n\r\n                                if (typeof par.flashvars !== UNDEF) {\r\n                                    par.flashvars += \"&\" + key + \"=\" + value;\r\n                                }\r\n                                else {\r\n                                    par.flashvars = key + \"=\" + value;\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasPlayerVersion(swfVersionStr)) { // create SWF\r\n                        var obj = createSWF(att, par, replaceElemIdStr);\r\n                        if (att.id == id) {\r\n                            setVisibility(id, true);\r\n                        }\r\n                        callbackObj.success = true;\r\n                        callbackObj.ref = obj;\r\n                        callbackObj.id = obj.id;\r\n                    }\r\n                    else if (xiSwfUrlStr && canExpressInstall()) { // show Adobe Express Install\r\n                        att.data = xiSwfUrlStr;\r\n                        showExpressInstall(att, par, replaceElemIdStr, callbackFn);\r\n                        return;\r\n                    }\r\n                    else { // show fallback content\r\n                        setVisibility(id, true);\r\n                    }\r\n                    if (callbackFn) { callbackFn(callbackObj); }\r\n                });\r\n            }\r\n            else if (callbackFn) { callbackFn(callbackObj); }\r\n        },\r\n\r\n        switchOffAutoHideShow: function () {\r\n            autoHideShow = false;\r\n        },\r\n\r\n        enableUriEncoding: function (bool) {\r\n            encodeURIEnabled = (typeof bool === UNDEF) ? true : bool;\r\n        },\r\n\r\n        ua: ua,\r\n\r\n        getFlashPlayerVersion: function () {\r\n            return {major: ua.pv[0], minor: ua.pv[1], release: ua.pv[2]};\r\n        },\r\n\r\n        hasFlashPlayerVersion: hasPlayerVersion,\r\n\r\n        createSWF: function (attObj, parObj, replaceElemIdStr) {\r\n            if (ua.w3) {\r\n                return createSWF(attObj, parObj, replaceElemIdStr);\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        },\r\n\r\n        showExpressInstall: function (att, par, replaceElemIdStr, callbackFn) {\r\n            if (ua.w3 && canExpressInstall()) {\r\n                showExpressInstall(att, par, replaceElemIdStr, callbackFn);\r\n            }\r\n        },\r\n\r\n        removeSWF: function (objElemIdStr) {\r\n            if (ua.w3) {\r\n                removeSWF(objElemIdStr);\r\n            }\r\n        },\r\n\r\n        createCSS: function (selStr, declStr, mediaStr, newStyleBoolean) {\r\n            if (ua.w3) {\r\n                createCSS(selStr, declStr, mediaStr, newStyleBoolean);\r\n            }\r\n        },\r\n\r\n        addDomLoadEvent: addDomLoadEvent,\r\n\r\n        addLoadEvent: addLoadEvent,\r\n\r\n        getQueryParamValue: function (param) {\r\n            var q = doc.location.search || doc.location.hash;\r\n            if (q) {\r\n                if (/\\?/.test(q)) { q = q.split(\"?\")[1]; } // strip question mark\r\n                if (!param) {\r\n                    return urlEncodeIfNecessary(q);\r\n                }\r\n                var pairs = q.split(\"&\");\r\n                for (var i = 0; i < pairs.length; i++) {\r\n                    if (pairs[i].substring(0, pairs[i].indexOf(\"=\")) == param) {\r\n                        return urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf(\"=\") + 1)));\r\n                    }\r\n                }\r\n            }\r\n            return \"\";\r\n        },\r\n\r\n        // For internal usage only\r\n        expressInstallCallback: function () {\r\n            if (isExpressInstallActive) {\r\n                var obj = getElementById(EXPRESS_INSTALL_ID);\r\n                if (obj && storedFbContent) {\r\n                    obj.parentNode.replaceChild(storedFbContent, obj);\r\n                    if (storedFbContentId) {\r\n                        setVisibility(storedFbContentId, true);\r\n                        if (ua.ie) { storedFbContent.style.display = \"block\"; }\r\n                    }\r\n                    if (storedCallbackFn) { storedCallbackFn(storedCallbackObj); }\r\n                }\r\n                isExpressInstallActive = false;\r\n            }\r\n        },\r\n\r\n        version: \"2.3\"\r\n\r\n    };\r\n}));\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9JVlBBSURBZFVuaXQuanMiLCJqcy9WUEFJREFkVW5pdC5qcyIsImpzL1ZQQUlERkxBU0hDbGllbnQuanMiLCJqcy9mbGFzaFRlc3Rlci5qcyIsImpzL2pzRmxhc2hCcmlkZ2UuanMiLCJqcy9qc0ZsYXNoQnJpZGdlUmVnaXN0cnkuanMiLCJqcy9yZWdpc3RyeS5qcyIsImpzL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL3N3Zm9iamVjdC9zd2ZvYmplY3Qvc3JjL3N3Zm9iamVjdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDRUE7Ozs7Ozs7Ozs7SUFDTyxZLFdBQUEsWTs7Ozs7Ozs7O0FBRUg7QUFDQTsyQ0FDbUU7QUFBQSxnQkFBbEQsa0JBQWtELHVFQUFuRSxLQUFtRTtBQUFBLGdCQUF0QixRQUFzQix1RUFBbkUsU0FBbUU7QUFBRTs7QUFFckU7Ozs7K0JBQ0EsSyxFQUFBLE0sRUFBQSxRLEVBQUEsYyxFQUE0STtBQUFBLGdCQUEzRixZQUEyRix1RUFBNUUsRUFBQyxjQUFqRSxFQUFnRSxFQUE0RTtBQUFBLGdCQUF6RCxlQUF5RCx1RUFBdkMsRUFBQyxXQUF0RyxFQUFxRyxFQUF1QztBQUFBLGdCQUF0QixRQUFzQix1RUFBNUksU0FBNEk7QUFBRTs7O2lDQUM5SSxLLEVBQUEsTSxFQUFBLFEsRUFBd0Q7QUFBQSxnQkFBdEIsUUFBc0IsdUVBQXhELFNBQXdEO0FBQUU7OztrQ0FFNUI7QUFBQSxnQkFBdEIsUUFBc0IsdUVBQTlCLFNBQThCO0FBQUU7OztpQ0FDSDtBQUFBLGdCQUF0QixRQUFzQix1RUFBN0IsU0FBNkI7QUFBRTs7O2tDQUNEO0FBQUEsZ0JBQXRCLFFBQXNCLHVFQUE5QixTQUE4QjtBQUFFOzs7bUNBQ0Q7QUFBQSxnQkFBdEIsUUFBc0IsdUVBQS9CLFNBQStCO0FBQUU7OzttQ0FDRjtBQUFBLGdCQUF0QixRQUFzQix1RUFBL0IsU0FBK0I7QUFBRTs7O3FDQUNBO0FBQUEsZ0JBQXRCLFFBQXNCLHVFQUFqQyxTQUFpQztBQUFFOzs7aUNBQ047QUFBQSxnQkFBdEIsUUFBc0IsdUVBQTdCLFNBQTZCO0FBQUU7O0FBRS9COzs7O29DQUNBLFEsRUFBc0IsQ0FBRTs7O21DQUN4QixRLEVBQXFCLENBQUU7OztvQ0FDdkIsUSxFQUFzQixDQUFFOzs7c0NBQ3hCLFEsRUFBd0IsQ0FBRTs7OzRDQUMxQixRLEVBQThCLENBQUU7OzsyQ0FDaEMsUSxFQUE2QixDQUFFOzs7c0NBQy9CLFEsRUFBd0IsQ0FBRTs7O29DQUMxQixXLEVBQStDO0FBQUEsZ0JBQXRCLFFBQXNCLHVFQUEvQyxTQUErQztBQUFFOzs7b0NBQ2pELFEsRUFBc0IsQ0FBRTs7O3dDQUN4QixRLEVBQTBCLENBQUU7OzttQ0FDNUIsUSxFQUFxQixDQUFFOzs7Ozs7QUFHM0IsT0FBQSxjQUFBLENBQUEsWUFBQSxFQUFBLFFBQUEsRUFBOEM7QUFDMUMsY0FEMEMsS0FBQTtBQUUxQyxrQkFGMEMsS0FBQTtBQUcxQyxXQUFPLENBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxXQUFBLEVBQUEsV0FBQSxFQUFBLHdCQUFBLEVBS3VCO0FBTHZCLGtCQUFBLEVBTWE7QUFOYixvQkFBQSxFQUFBLGtCQUFBLEVBUWlCO0FBUmpCLHNCQUFBLEVBQUEsdUJBQUEsRUFVc0I7QUFWdEIsb0JBQUEsRUFBQSxjQUFBLEVBQUEsY0FBQSxFQUFBLHNCQUFBLEVBQUEsaUJBQUEsRUFBQSxzQkFBQSxFQUFBLGlCQUFBLEVBQUEsYUFBQSxFQUFBLGVBQUEsRUFtQmM7QUFuQmQsNEJBQUEsRUFBQSxnQkFBQSxFQUFBLGFBQUEsRUFBQSxVQUFBLEVBQUEsV0FBQSxFQUFBLE9BQUEsRUFBQSxTQUFBO0FBSG1DLENBQTlDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2pDQSxJQUFJLGVBQWUsUUFBQSxnQkFBQSxFQUFuQixZQUFBO0FBQ0EsSUFBSSxvQkFBb0IsT0FBQSxtQkFBQSxDQUEyQixhQUEzQixTQUFBLEVBQUEsTUFBQSxDQUEwRCxVQUFBLFFBQUEsRUFBb0I7QUFDbEcsV0FBTyxDQUFBLGFBQUEsRUFBQSxPQUFBLENBQUEsUUFBQSxNQUFzQyxDQUE3QyxDQUFBO0FBREosQ0FBd0IsQ0FBeEI7O0lBSU8sVyxXQUFBLFc7OztBQUNILHlCQUFBLEtBQUEsRUFBb0I7QUFBQTs7QUFBQTs7QUFFaEIsY0FBQSxVQUFBLEdBQUEsS0FBQTtBQUNBLGNBQUEsTUFBQSxHQUFBLEtBQUE7QUFIZ0I7QUFJbkI7Ozs7bUNBRVU7QUFBQTs7QUFDUCxpQkFBQSxVQUFBLEdBQUEsSUFBQTtBQUNBLDhCQUFBLE9BQUEsQ0FBMEIsc0JBQWdCO0FBQ3RDLHVCQUFBLE1BQUEsQ0FBQSwwQkFBQSxDQUFBLFVBQUE7QUFESixhQUFBO0FBR0EseUJBQUEsTUFBQSxDQUFBLE9BQUEsQ0FBNEIsaUJBQVc7QUFDbkMsdUJBQUEsTUFBQSxDQUFBLFFBQUEsQ0FBQSxLQUFBO0FBREosYUFBQTs7QUFJQSxpQkFBQSxNQUFBLEdBQUEsSUFBQTtBQUNIOzs7c0NBRWM7QUFDWCxtQkFBTyxLQUFQLFVBQUE7QUFDSDs7OzJCQUVELFMsRUFBQSxRLEVBQXdCO0FBQ3BCLGlCQUFBLE1BQUEsQ0FBQSxFQUFBLENBQUEsU0FBQSxFQUFBLFFBQUE7QUFDSDs7OzRCQUVELFMsRUFBQSxRLEVBQXlCO0FBQ3JCLGlCQUFBLE1BQUEsQ0FBQSxHQUFBLENBQUEsU0FBQSxFQUFBLFFBQUE7QUFDSDs7QUFFRDs7OzsyQ0FDbUU7QUFBQSxnQkFBbEQsa0JBQWtELHVFQUFuRSxLQUFtRTtBQUFBLGdCQUF0QixRQUFzQix1RUFBbkUsU0FBbUU7O0FBQy9ELGlCQUFBLE1BQUEsQ0FBQSxlQUFBLENBQUEsa0JBQUEsRUFBZ0QsQ0FBaEQsa0JBQWdELENBQWhELEVBQUEsUUFBQTtBQUNIOzs7K0JBQ0QsSyxFQUFBLE0sRUFBQSxRLEVBQUEsYyxFQUE2STtBQUFBLGdCQUE1RixZQUE0Rix1RUFBN0UsRUFBQyxjQUFqRSxFQUFnRSxFQUE2RTtBQUFBLGdCQUF6RCxlQUF5RCx1RUFBdkMsRUFBQyxXQUF2RyxFQUFzRyxFQUF1QztBQUFBLGdCQUF0QixRQUFzQix1RUFBN0ksU0FBNkk7O0FBQ3pJO0FBQ0EsaUJBQUEsTUFBQSxDQUFBLE9BQUEsQ0FBQSxLQUFBLEVBQUEsTUFBQTtBQUNBLDJCQUFlLGdCQUFnQixFQUFDLGNBQWhDLEVBQStCLEVBQS9CO0FBQ0EsOEJBQWtCLG1CQUFtQixFQUFDLFdBQXRDLEVBQXFDLEVBQXJDOztBQUVBLGlCQUFBLE1BQUEsQ0FBQSxlQUFBLENBQUEsUUFBQSxFQUFzQyxDQUFDLEtBQUEsTUFBQSxDQUFELFFBQUMsRUFBRCxFQUF5QixLQUFBLE1BQUEsQ0FBekIsU0FBeUIsRUFBekIsRUFBQSxRQUFBLEVBQUEsY0FBQSxFQUE0RSxhQUFBLFlBQUEsSUFBNUUsRUFBQSxFQUE2RyxnQkFBQSxTQUFBLElBQW5KLEVBQXNDLENBQXRDLEVBQUEsUUFBQTtBQUNIOzs7aUNBQ0QsSyxFQUFBLE0sRUFBQSxRLEVBQXdEO0FBQUEsZ0JBQXRCLFFBQXNCLHVFQUF4RCxTQUF3RDs7QUFDcEQ7QUFDQSxpQkFBQSxNQUFBLENBQUEsT0FBQSxDQUFBLEtBQUEsRUFBQSxNQUFBOztBQUVBO0FBQ0EsaUJBQUEsTUFBQSxDQUFBLGVBQUEsQ0FBQSxVQUFBLEVBQXdDLENBQUMsS0FBQSxNQUFBLENBQUQsUUFBQyxFQUFELEVBQXlCLEtBQUEsTUFBQSxDQUF6QixTQUF5QixFQUF6QixFQUF4QyxRQUF3QyxDQUF4QyxFQUFBLFFBQUE7QUFDSDs7O2tDQUM2QjtBQUFBLGdCQUF0QixRQUFzQix1RUFBOUIsU0FBOEI7O0FBQzFCLGlCQUFBLE1BQUEsQ0FBQSxlQUFBLENBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBO0FBQ0g7OztpQ0FDNEI7QUFBQSxnQkFBdEIsUUFBc0IsdUVBQTdCLFNBQTZCOztBQUN6QixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQTtBQUNIOzs7a0NBQzZCO0FBQUEsZ0JBQXRCLFFBQXNCLHVFQUE5QixTQUE4Qjs7QUFDMUIsaUJBQUEsTUFBQSxDQUFBLGVBQUEsQ0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUE7QUFDSDs7O21DQUM4QjtBQUFBLGdCQUF0QixRQUFzQix1RUFBL0IsU0FBK0I7O0FBQzNCLGlCQUFBLE1BQUEsQ0FBQSxlQUFBLENBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBO0FBQ0g7OzttQ0FDOEI7QUFBQSxnQkFBdEIsUUFBc0IsdUVBQS9CLFNBQStCOztBQUMzQixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQTtBQUNIOzs7cUNBQ2dDO0FBQUEsZ0JBQXRCLFFBQXNCLHVFQUFqQyxTQUFpQzs7QUFDN0IsaUJBQUEsTUFBQSxDQUFBLGVBQUEsQ0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUE7QUFDSDs7O2lDQUM0QjtBQUFBLGdCQUF0QixRQUFzQix1RUFBN0IsU0FBNkI7O0FBQ3pCLGlCQUFBLE1BQUEsQ0FBQSxlQUFBLENBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBO0FBQ0g7O0FBRUQ7Ozs7b0NBQ0EsUSxFQUFzQjtBQUNsQixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLGFBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQTtBQUNIOzs7bUNBQ0QsUSxFQUFxQjtBQUNqQixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQTtBQUNIOzs7b0NBQ0QsUSxFQUFzQjtBQUNsQixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLGFBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQTtBQUNIOzs7c0NBQ0QsUSxFQUF3QjtBQUNwQixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLGVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQTtBQUNIOzs7NENBQ0QsUSxFQUE4QjtBQUMxQixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLHFCQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUE7QUFDSDs7OzJDQUNELFEsRUFBNkI7QUFDekIsaUJBQUEsTUFBQSxDQUFBLGVBQUEsQ0FBQSxvQkFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBO0FBQ0g7OztzQ0FDRCxRLEVBQXdCO0FBQ3BCLGlCQUFBLE1BQUEsQ0FBQSxlQUFBLENBQUEsZUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBO0FBQ0g7OztvQ0FDRCxNLEVBQTBDO0FBQUEsZ0JBQXRCLFFBQXNCLHVFQUExQyxTQUEwQzs7QUFDdEMsaUJBQUEsTUFBQSxDQUFBLGVBQUEsQ0FBQSxhQUFBLEVBQTJDLENBQTNDLE1BQTJDLENBQTNDLEVBQUEsUUFBQTtBQUNIOzs7b0NBQ0QsUSxFQUFzQjtBQUNsQixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLGFBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQTtBQUNIOzs7d0NBQ0QsUSxFQUEwQjtBQUN0QixpQkFBQSxNQUFBLENBQUEsZUFBQSxDQUFBLGlCQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUE7QUFDSDs7O21DQUNELFEsRUFBcUI7QUFDakIsaUJBQUEsTUFBQSxDQUFBLGVBQUEsQ0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUE7QUFDSDs7OztFQXpHRSxZOzs7Ozs7Ozs7QUNMUCxJQUFNLFlBQVksUUFBbEIsV0FBa0IsQ0FBbEI7O0FBRUEsSUFBTSxnQkFBZ0IsUUFBQSxpQkFBQSxFQUF0QixhQUFBO0FBQ0EsSUFBTSxjQUFjLFFBQUEsZUFBQSxFQUFwQixXQUFBOztBQUVBLElBQU0sT0FBTyxRQUFBLFNBQUEsRUFBYixJQUFBO0FBQ0EsSUFBTSxrQkFBa0IsUUFBQSxTQUFBLEVBQXhCLGVBQUE7QUFDQSxJQUFNLGdCQUFnQixRQUFBLFNBQUEsRUFBdEIsYUFBQTtBQUNBLElBQU0sc0JBQXNCLFFBQUEsU0FBQSxFQUE1QixtQkFBQTtBQUNBLElBQU0sY0FBYyxRQUFBLFNBQUEsRUFBQSxNQUFBLENBQXBCLE9BQW9CLENBQXBCO0FBQ0EsSUFBTSxvQkFBb0IsUUFBQSxrQkFBQSxFQUExQixpQkFBQTs7QUFFQSxJQUFNLFFBQU4sT0FBQTtBQUNBLElBQU0sZ0JBQU4sUUFBQTs7QUFFQSxJQUFJLGNBQWMsRUFBQyxhQUFhO0FBQUEsZUFBaEMsSUFBZ0M7QUFBQSxLQUFkLEVBQWxCLEMsQ0FBNEM7O0lBRTVDLGdCO0FBQ0ksOEJBQUEsYUFBQSxFQUFBLFFBQUEsRUFBOFM7QUFBQSxZQUF4USxTQUF3USx1RUFBNVAsRUFBQyxNQUFELGdCQUFBLEVBQXlCLE9BQXpCLEdBQUEsRUFBcUMsUUFBdkYsR0FBa0QsRUFBNFA7O0FBQUE7O0FBQUEsWUFBek0sTUFBeU0sdUVBQWhNLEVBQUUsT0FBRixhQUFBLEVBQXdCLFFBQXhCLElBQUEsRUFBc0MsT0FBdEMsTUFBQSxFQUFxRCxtQkFBckQsUUFBQSxFQUFrRixPQUFsRixTQUFBLEVBQW9HLGlCQUFwRyxNQUFBLEVBQTZILFNBQTNPLE1BQThHLEVBQWdNO0FBQUEsWUFBakQsWUFBaUQsdUVBQWxDLEVBQUUsT0FBRixLQUFBLEVBQWdCLFNBQTVSLEtBQTRRLEVBQWtDOztBQUFBOztBQUUxUyxZQUFJLEtBQUosSUFBQTs7QUFFQSxhQUFBLGNBQUEsR0FBQSxhQUFBO0FBQ0EsYUFBQSxRQUFBLEdBQUEsYUFBQTtBQUNBLGFBQUEsVUFBQSxHQUFBLEtBQUE7QUFDQSxtQkFBVyxZQUFYLElBQUE7O0FBRUEsa0JBQUEsS0FBQSxHQUFrQixjQUFjLFVBQWQsS0FBQSxFQUFsQixHQUFrQixDQUFsQjtBQUNBLGtCQUFBLE1BQUEsR0FBbUIsY0FBYyxVQUFkLE1BQUEsRUFBbkIsR0FBbUIsQ0FBbkI7O0FBRUEsNEJBQUEsYUFBQSxFQUFtQyxLQUFuQyxRQUFBLEVBQUEsSUFBQTs7QUFFQSxlQUFBLEtBQUEsR0FBZSxVQUFmLElBQUE7QUFDQSxlQUFBLFNBQUEsZ0JBQThCLEtBQUssUUFBbkMsaUJBQXVELGNBQWMsbUJBQXJFLGVBQWtHLGFBQWEsS0FBL0csZ0JBQStILE9BQS9ILE1BQUE7O0FBRUEsWUFBSSxDQUFDLGlCQUFMLFdBQUssRUFBTCxFQUFxQztBQUNqQyxtQkFBTyxRQUFRLHNGQUFmLGFBQU8sQ0FBUDtBQUNIOztBQUVELGFBQUEsRUFBQSxHQUFVLFVBQUEsU0FBQSxDQUFBLFNBQUEsRUFBQSxNQUFBLEVBQXVDLEtBQWpELFFBQVUsQ0FBVjs7QUFFQSxZQUFJLENBQUMsS0FBTCxFQUFBLEVBQWM7QUFDVixtQkFBTyxRQUFQLDhDQUFPLENBQVA7QUFDSDs7QUFFRCxZQUFJLFVBQVUsZ0JBQWdCLGFBQWhCLE9BQUEsRUFDVixVQUFBLEdBQUEsRUFBQSxJQUFBLEVBQWU7QUFDWCw4QkFBQSxJQUFBLENBQUEsS0FBQTtBQUNBLHFCQUFBLEdBQUEsRUFBQSxJQUFBO0FBSE0sU0FBQSxFQUlQLFlBQU07QUFDTCxxQkFBUyw4QkFBOEIsYUFBdkMsT0FBQTtBQUxSLFNBQWMsQ0FBZDs7QUFTQSxhQUFBLE1BQUEsR0FBYyxJQUFBLGFBQUEsQ0FBa0IsS0FBbEIsRUFBQSxFQUEyQixVQUEzQixJQUFBLEVBQTJDLEtBQTNDLFFBQUEsRUFBMEQsVUFBMUQsS0FBQSxFQUEyRSxVQUEzRSxNQUFBLEVBQWQsT0FBYyxDQUFkOztBQUVBLGlCQUFBLE9BQUEsQ0FBQSxLQUFBLEVBQXdCO0FBQ3BCLHVCQUFXLFlBQU07QUFDYix5QkFBUyxJQUFBLEtBQUEsQ0FBVCxLQUFTLENBQVQ7QUFESixhQUFBLEVBQUEsQ0FBQTtBQUdBLG1CQUFBLEVBQUE7QUFDSDtBQUVKOzs7O2tDQUVVO0FBQ1AsaUJBQUEsY0FBQTs7QUFFQSxnQkFBSSxLQUFKLE1BQUEsRUFBaUI7QUFDYixxQkFBQSxNQUFBLENBQUEsT0FBQTtBQUNBLHFCQUFBLE1BQUEsR0FBQSxJQUFBO0FBQ0g7QUFDRCxpQkFBQSxFQUFBLEdBQUEsSUFBQTtBQUNBLGlCQUFBLFVBQUEsR0FBQSxJQUFBO0FBQ0g7OztzQ0FFYztBQUNYLG1CQUFPLEtBQVAsVUFBQTtBQUNIOzs7eUNBRWdCO0FBQ2IsbUJBQU8sS0FBUCxVQUFBOztBQUVBLGdCQUFJLEtBQUosV0FBQSxFQUFzQjtBQUNsQixxQkFBQSxXQUFBLEdBQUEsSUFBQTtBQUNBLHFCQUFBLE1BQUEsQ0FBQSxjQUFBLENBQTJCLEtBQTNCLFdBQUE7QUFDSDs7QUFFRCxnQkFBSSxLQUFKLE9BQUEsRUFBa0I7QUFDZCxxQkFBQSxPQUFBLENBQUEsUUFBQTtBQUNBLHFCQUFBLE9BQUEsR0FBQSxJQUFBO0FBQ0g7QUFDSjs7O21DQUVELEssRUFBQSxRLEVBQTRCO0FBQUE7O0FBQ3hCLDhCQUFBLElBQUEsQ0FBQSxJQUFBOztBQUVBLGdCQUFJLEtBQUosT0FBQSxFQUFrQjtBQUNkLHFCQUFBLGNBQUE7QUFDSDs7QUFFRCxnQkFBSSxLQUFBLE1BQUEsQ0FBSixPQUFJLEVBQUosRUFBMkI7QUFDdkIscUJBQUEsV0FBQSxHQUFtQixVQUFBLEdBQUEsRUFBQSxPQUFBLEVBQWtCO0FBQ2pDLHdCQUFJLENBQUosR0FBQSxFQUFVO0FBQ04sK0JBQUEsT0FBQSxHQUFlLElBQUEsV0FBQSxDQUFnQixPQUEvQixNQUFlLENBQWY7QUFDSDtBQUNELDJCQUFBLFdBQUEsR0FBQSxJQUFBO0FBQ0EsNkJBQUEsR0FBQSxFQUFjLE9BQWQsT0FBQTtBQUxKLGlCQUFBOztBQVFBLHFCQUFBLE1BQUEsQ0FBQSxlQUFBLENBQUEsWUFBQSxFQUEwQyxDQUExQyxLQUEwQyxDQUExQyxFQUFtRCxLQUFuRCxXQUFBO0FBVEosYUFBQSxNQVVNO0FBQ0YscUJBQUEsVUFBQSxHQUFrQixFQUFDLEtBQUQsS0FBQSxFQUFsQixrQkFBa0IsRUFBbEI7QUFDSDtBQUNKOzs7dUNBRWtDO0FBQUEsZ0JBQXRCLFFBQXNCLHVFQUFuQyxTQUFtQzs7QUFDL0IsOEJBQUEsSUFBQSxDQUFBLElBQUE7O0FBRUEsaUJBQUEsY0FBQTtBQUNBLGlCQUFBLE1BQUEsQ0FBQSxlQUFBLENBQUEsY0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBO0FBQ0g7OztxQ0FDWTtBQUNULDhCQUFBLElBQUEsQ0FBQSxJQUFBO0FBQ0EsbUJBQU8sS0FBQSxNQUFBLENBQVAsVUFBTyxFQUFQO0FBQ0g7OztzQ0FDYTtBQUNWLDhCQUFBLElBQUEsQ0FBQSxJQUFBO0FBQ0EsbUJBQU8sS0FBQSxNQUFBLENBQVAsV0FBTyxFQUFQO0FBQ0g7Ozs7OztBQUdMLGtCQUFBLGFBQUEsRUFBaUMsWUFBTTtBQUNuQyxXQUFPLFVBQUEscUJBQUEsQ0FBQSxhQUFBLEtBQWtELFlBQXpELFdBQXlELEVBQXpEO0FBREosQ0FBQSxFQUFBLElBQUE7O0FBSUEsa0JBQUEsY0FBQSxFQUFrQyxxQkFBZTtBQUM3QyxrQkFBYyxrQkFBa0IsU0FBbEIsSUFBQSxFQUFkLFNBQWMsQ0FBZDtBQURKLENBQUE7O0FBSUEsU0FBQSxpQkFBQSxHQUE2QjtBQUN6QixRQUFHLEtBQUgsVUFBQSxFQUFvQjtBQUNoQixjQUFNLElBQUEsS0FBQSxDQUFOLDhCQUFNLENBQU47QUFDSDtBQUNKOztBQUVELFNBQUEsaUJBQUEsR0FBNkI7QUFDekIsUUFBSSxLQUFKLFVBQUEsRUFBcUI7QUFDakIsYUFBQSxVQUFBLENBQWdCLEtBQUEsVUFBQSxDQUFoQixHQUFBLEVBQXFDLEtBQUEsVUFBQSxDQUFyQyxRQUFBO0FBQ0EsZUFBTyxLQUFQLFVBQUE7QUFDSDtBQUNKOztBQUVELFNBQUEsaUJBQUEsQ0FBQSxZQUFBLEVBQUEsS0FBQSxFQUFrRTtBQUFBLFFBQWxCLFFBQWtCLHVFQUFsRSxLQUFrRTs7QUFDOUQsV0FBQSxjQUFBLENBQUEsZ0JBQUEsRUFBQSxZQUFBLEVBQXNEO0FBQ2xELGtCQURrRCxRQUFBO0FBRWxELHNCQUZrRCxLQUFBO0FBR2xELGVBQU87QUFIMkMsS0FBdEQ7QUFLSDs7QUFFRCxpQkFBQSxTQUFBLEdBQUEsU0FBQTs7QUFFQSxPQUFBLE9BQUEsR0FBQSxnQkFBQTs7Ozs7Ozs7Ozs7OztBQ25LQSxJQUFNLFlBQVksUUFBbEIsV0FBa0IsQ0FBbEI7O0FBRUEsSUFBTSxhQUFOLDBCQUFBO0FBQ0EsSUFBTSxnQkFBTiw2QkFBQTtBQUNBLElBQU0sZ0JBQWdCLFFBQUEsaUJBQUEsRUFBdEIsYUFBQTtBQUNBLElBQU0sUUFBUSxRQUFkLFNBQWMsQ0FBZDtBQUNBLElBQU0seUJBQXlCLFFBQUEsWUFBQSxFQUEvQixzQkFBQTs7SUFFQSxXO0FBQ0kseUJBQUEsTUFBQSxFQUFtRjtBQUFBOztBQUFBLFlBQS9ELFNBQStELHVFQUFuRCxFQUFDLE1BQUQsZ0JBQUEsRUFBeUIsT0FBekIsR0FBQSxFQUFxQyxRQUFyRSxHQUFnQyxFQUFtRDs7QUFBQTs7QUFDL0UsYUFBQSxRQUFBLEdBQWdCLE1BQUEsbUJBQUEsQ0FBQSxNQUFBLEVBRCtELGFBQy9ELENBQWhCLENBRCtFLENBQ2I7QUFDbEUsY0FBQSxXQUFBLENBQWtCLEtBQWxCLFFBQUE7QUFDQSxZQUFJLFNBQUosRUFBQTtBQUNBLGVBQUEsS0FBQSxHQUFlLFVBQWYsSUFBQTtBQUNBLGVBQUEsU0FBQSxnQkFBOEIsYUFBOUIsaUJBQXVELGNBQXZELG1CQUFBO0FBQ0EsZUFBQSxpQkFBQSxHQUFBLFFBQUE7O0FBRUEsYUFBQSxFQUFBLEdBQVUsVUFBQSxTQUFBLENBQUEsU0FBQSxFQUFBLE1BQUEsRUFBVixhQUFVLENBQVY7QUFDQSxhQUFBLFNBQUEsR0FBaUIsSUFBakIsc0JBQWlCLEVBQWpCO0FBQ0EsYUFBQSxZQUFBLEdBQUEsS0FBQTtBQUNBLFlBQUksS0FBSixFQUFBLEVBQWE7QUFDVCxrQkFBQSxXQUFBLENBQWtCLEtBQWxCLEVBQUE7QUFDQSxpQkFBQSxNQUFBLEdBQWMsSUFBQSxhQUFBLENBQWtCLEtBQWxCLEVBQUEsRUFBMkIsVUFBM0IsSUFBQSxFQUFBLGFBQUEsRUFBMEQsVUFBMUQsS0FBQSxFQUEyRSxVQUEzRSxNQUFBLEVBQTZGLFlBQUs7QUFDNUcsb0JBQU0sVUFBTixJQUFBO0FBQ0Esc0JBQUEsWUFBQSxHQUFBLE9BQUE7QUFDQSxzQkFBQSxTQUFBLENBQUEsR0FBQSxDQUFBLFFBQUEsRUFBQSxPQUFBLENBQXFDLG9CQUFjO0FBQy9DLCtCQUFXLFlBQUs7QUFDWixpQ0FBQSxRQUFBLEVBQUEsT0FBQTtBQURKLHFCQUFBLEVBQUEsQ0FBQTtBQURKLGlCQUFBO0FBSEosYUFBYyxDQUFkO0FBU0g7QUFDSjs7OztzQ0FDYTtBQUNWLG1CQUFPLEtBQVAsWUFBQTtBQUNIOzs7MkJBQ0QsUyxFQUFBLFEsRUFBd0I7QUFDcEIsaUJBQUEsU0FBQSxDQUFBLEdBQUEsQ0FBQSxTQUFBLEVBQUEsUUFBQTtBQUNIOzs7Ozs7QUFHRSxJQUFJLGdEQUFvQixTQUFBLGlCQUFBLENBQUEsRUFBQSxFQUFBLFNBQUEsRUFBMEM7QUFDckUsUUFBSSxDQUFDLE9BQUwsVUFBSyxDQUFMLEVBQXlCO0FBQ3JCLGVBQUEsVUFBQSxJQUFxQixJQUFBLFdBQUEsQ0FBQSxFQUFBLEVBQXJCLFNBQXFCLENBQXJCO0FBQ0g7QUFDRCxXQUFPLE9BQVAsVUFBTyxDQUFQO0FBSkcsQ0FBQTs7Ozs7Ozs7Ozs7OztBQ3pDUCxJQUFJLFNBQVMsUUFBQSxTQUFBLEVBQWIsTUFBQTtBQUNBLElBQUksZ0JBQWdCLFFBQUEsU0FBQSxFQUFwQixhQUFBO0FBQ0EsSUFBSSxpQkFBaUIsUUFBQSxTQUFBLEVBQXJCLGNBQUE7QUFDQSxJQUFJLHNCQUFzQixRQUFBLFlBQUEsRUFBMUIsbUJBQUE7QUFDQSxJQUFJLHlCQUF5QixRQUFBLFlBQUEsRUFBN0Isc0JBQUE7QUFDQSxJQUFNLFdBQVcsUUFBakIseUJBQWlCLENBQWpCO0FBQ0EsSUFBTSxzQkFBTiwyQkFBQTtBQUNBLElBQU0sUUFBTixTQUFBOztJQUVPLGEsV0FBQSxhO0FBQ0gsMkJBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxhQUFBLEVBQWtFO0FBQUE7O0FBQzlELGFBQUEsR0FBQSxHQUFBLEVBQUE7QUFDQSxhQUFBLFFBQUEsR0FBQSxPQUFBO0FBQ0EsYUFBQSxTQUFBLEdBQUEsUUFBQTtBQUNBLGFBQUEsTUFBQSxHQUFBLEtBQUE7QUFDQSxhQUFBLE9BQUEsR0FBQSxNQUFBO0FBQ0EsYUFBQSxTQUFBLEdBQWlCLElBQWpCLHNCQUFpQixFQUFqQjtBQUNBLGFBQUEsVUFBQSxHQUFrQixJQUFsQixtQkFBa0IsRUFBbEI7QUFDQSxhQUFBLHVCQUFBLEdBQStCLE9BQU8sS0FBdEMsUUFBK0IsQ0FBL0I7QUFDQSxhQUFBLE1BQUEsR0FBQSxLQUFBO0FBQ0EsYUFBQSxpQkFBQSxHQUFBLGFBQUE7O0FBRUEsaUJBQUEsV0FBQSxDQUFxQixLQUFyQixRQUFBLEVBQUEsSUFBQTtBQUNIOzs7OzJCQUVELFMsRUFBQSxRLEVBQXdCO0FBQ3BCLGlCQUFBLFNBQUEsQ0FBQSxHQUFBLENBQUEsU0FBQSxFQUFBLFFBQUE7QUFDSDs7OzRCQUVELFMsRUFBQSxRLEVBQXlCO0FBQ3JCLG1CQUFPLEtBQUEsU0FBQSxDQUFBLE1BQUEsQ0FBQSxTQUFBLEVBQVAsUUFBTyxDQUFQO0FBQ0g7OztpQ0FFRCxTLEVBQW9CO0FBQ2hCLG1CQUFPLEtBQUEsU0FBQSxDQUFBLFdBQUEsQ0FBUCxTQUFPLENBQVA7QUFDSDs7O2lDQUVRO0FBQ0wsbUJBQU8sS0FBQSxTQUFBLENBQVAsU0FBTyxFQUFQO0FBQ0g7Ozt3Q0FFRCxVLEVBQTZEO0FBQUEsZ0JBQWpDLElBQWlDLHVFQUE3RCxFQUE2RDtBQUFBLGdCQUF0QixRQUFzQix1RUFBN0QsU0FBNkQ7O0FBQ3pELGdCQUFJLGFBQUosRUFBQTtBQUNBO0FBQ0EsZ0JBQUEsUUFBQSxFQUFjO0FBQ1YsNkJBQWdCLEtBQUEsdUJBQUEsRUFBaEIsU0FBQSxVQUFBO0FBQ0EscUJBQUEsVUFBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLEVBQUEsUUFBQTtBQUNIOztBQUdELGdCQUFJO0FBQ0E7QUFDQTtBQUNBLHFCQUFBLEdBQUEsQ0FBQSxVQUFBLEVBQXFCLENBQUEsVUFBQSxFQUFBLE1BQUEsQ0FBckIsSUFBcUIsQ0FBckI7QUFISixhQUFBLENBS0UsT0FBQSxDQUFBLEVBQVU7QUFDUixvQkFBQSxRQUFBLEVBQWM7QUFDVixtQ0FBQSxJQUFBLENBQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxDQUFBO0FBREosaUJBQUEsTUFFTzs7QUFFSDtBQUNBLHlCQUFBLFFBQUEsQ0FBQSxLQUFBLEVBQUEsQ0FBQTtBQUNIO0FBQ0o7QUFDSjs7O3VDQUVELFEsRUFBeUI7QUFDckIsbUJBQU8sS0FBQSxVQUFBLENBQUEsYUFBQSxDQUFQLFFBQU8sQ0FBUDtBQUNIOzs7bURBRUQsTSxFQUFtQztBQUFBOztBQUMvQixpQkFBQSxVQUFBLENBQUEsVUFBQSxDQUEyQixlQUFTO0FBQ2hDLHVCQUFPLGVBQUEsR0FBQSxFQUFQLE1BQU8sQ0FBUDtBQURKLGFBQUEsRUFBQSxPQUFBLENBRVcsZUFBUztBQUNoQixzQkFBQSxVQUFBLENBQUEsTUFBQSxDQUFBLEdBQUE7QUFISixhQUFBO0FBS0g7Ozs2Q0FFb0I7QUFDakIsbUJBQU8sS0FBQSxVQUFBLENBQVAsU0FBTyxFQUFQO0FBQ0g7OztpQ0FFRCxTLEVBQUEsSyxFQUEyQjtBQUFBOztBQUN2QixpQkFBQSxTQUFBLENBQUEsR0FBQSxDQUFBLFNBQUEsRUFBQSxPQUFBLENBQXNDLG9CQUFjO0FBQ2hEO0FBQ0Esb0JBQUksY0FBSixhQUFBLEVBQWlDO0FBQzdCLDZCQUFBLEtBQUE7QUFESixpQkFBQSxNQUVPO0FBQ0gsK0JBQVcsWUFBTTtBQUNiLDRCQUFJLE9BQUEsU0FBQSxDQUFBLEdBQUEsQ0FBQSxTQUFBLEVBQUEsTUFBQSxHQUFKLENBQUEsRUFBOEM7QUFDMUMscUNBQUEsS0FBQTtBQUNIO0FBSEwscUJBQUEsRUFBQSxDQUFBO0FBS0g7QUFWTCxhQUFBO0FBWUg7OztzQ0FFRCxVLEVBQUEsVSxFQUFBLEcsRUFBQSxNLEVBQW1EOztBQUUvQyxnQkFBSSxXQUFXLEtBQUEsVUFBQSxDQUFBLEdBQUEsQ0FBZixVQUFlLENBQWY7O0FBRUE7QUFDQTtBQUNBLGdCQUFJLENBQUosUUFBQSxFQUFlO0FBQ1gsb0JBQUksT0FBTyxlQUFYLEVBQUEsRUFBOEI7QUFDMUIseUJBQUEsT0FBQSxDQUFBLEtBQUEsRUFBQSxHQUFBO0FBQ0g7QUFDRDtBQUNIOztBQUVELDJCQUFBLElBQUEsQ0FBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBO0FBRUg7OzttQ0FFRCxHLEVBQUEsSSxFQUFzQjtBQUNsQixpQkFBQSxNQUFBLEdBQUEsSUFBQTtBQUNBLGdCQUFJLEtBQUosaUJBQUEsRUFBNEI7QUFDeEIscUJBQUEsaUJBQUEsQ0FBQSxHQUFBLEVBQUEsSUFBQTtBQUNBLHVCQUFPLEtBQVAsaUJBQUE7QUFDSDtBQUNKOztBQUVEOzs7O2tDQUNVO0FBQ04sbUJBQU8sRUFBQyxPQUFPLEtBQVIsTUFBQSxFQUFxQixRQUFRLEtBQXBDLE9BQU8sRUFBUDtBQUNIOzs7Z0NBQ0QsUSxFQUFBLFMsRUFBNkI7QUFDekIsaUJBQUEsTUFBQSxHQUFjLGNBQUEsUUFBQSxFQUF3QixLQUF0QyxNQUFjLENBQWQ7QUFDQSxpQkFBQSxPQUFBLEdBQWUsY0FBQSxTQUFBLEVBQXlCLEtBQXhDLE9BQWUsQ0FBZjtBQUNBLGlCQUFBLEdBQUEsQ0FBQSxZQUFBLENBQUEsT0FBQSxFQUErQixLQUEvQixNQUFBO0FBQ0EsaUJBQUEsR0FBQSxDQUFBLFlBQUEsQ0FBQSxRQUFBLEVBQWdDLEtBQWhDLE9BQUE7QUFDSDs7O21DQUNVO0FBQ1AsbUJBQU8sS0FBUCxNQUFBO0FBQ0g7OztpQ0FDRCxRLEVBQW1CO0FBQ2YsaUJBQUEsT0FBQSxDQUFBLFFBQUEsRUFBdUIsS0FBdkIsT0FBQTtBQUNIOzs7b0NBQ1c7QUFDUixtQkFBTyxLQUFQLE9BQUE7QUFDSDs7O2tDQUNELFMsRUFBcUI7QUFDakIsaUJBQUEsT0FBQSxDQUFhLEtBQWIsTUFBQSxFQUFBLFNBQUE7QUFDSDs7O3FDQUNZO0FBQ1QsbUJBQU8sS0FBUCxRQUFBO0FBQ0g7OztzQ0FDYTtBQUNWLG1CQUFPLEtBQVAsU0FBQTtBQUNIOzs7a0NBQ1M7QUFDTixtQkFBTyxLQUFQLE1BQUE7QUFDSDs7O2tDQUNTO0FBQ04saUJBQUEsTUFBQTtBQUNBLGlCQUFBLGtCQUFBO0FBQ0EscUJBQUEsa0JBQUEsQ0FBNEIsS0FBNUIsUUFBQTtBQUNBLGdCQUFJLEtBQUEsR0FBQSxDQUFKLGFBQUEsRUFBNEI7QUFDeEIscUJBQUEsR0FBQSxDQUFBLGFBQUEsQ0FBQSxXQUFBLENBQW1DLEtBQW5DLEdBQUE7QUFDSDtBQUNKOzs7Ozs7QUFHTCxTQUFBLGNBQUEsQ0FBQSxVQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBaUQ7QUFBQTs7QUFDN0MsZUFBVyxZQUFNO0FBQ2IsWUFBSSxXQUFXLE9BQUEsVUFBQSxDQUFBLEdBQUEsQ0FBZixVQUFlLENBQWY7QUFDQSxZQUFBLFFBQUEsRUFBYztBQUNWLG1CQUFBLFVBQUEsQ0FBQSxNQUFBLENBQUEsVUFBQTtBQUNBLHFCQUFBLEdBQUEsRUFBQSxNQUFBO0FBQ0g7QUFMTCxLQUFBLEVBQUEsQ0FBQTtBQU9IOztBQUVELE9BQUEsY0FBQSxDQUFBLGFBQUEsRUFBQSxxQkFBQSxFQUE0RDtBQUN4RCxjQUR3RCxLQUFBO0FBRXhELGtCQUZ3RCxLQUFBO0FBR3hELFdBQU87QUFIaUQsQ0FBNUQ7O0FBTUE7Ozs7Ozs7Ozs7QUFVQSxPQUFBLG1CQUFBLElBQThCLFVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQXdEO0FBQ2xGLFFBQUksV0FBVyxTQUFBLGVBQUEsQ0FBZixPQUFlLENBQWY7QUFDQSxRQUFJLENBQUosUUFBQSxFQUFlO0FBQ2YsUUFBSSxhQUFKLFdBQUEsRUFBOEI7QUFDMUIsaUJBQUEsVUFBQSxDQUFBLEtBQUEsRUFBQSxJQUFBO0FBREosS0FBQSxNQUVPO0FBQ0gsWUFBSSxXQUFKLE9BQUEsRUFBd0I7QUFDcEIscUJBQUEsYUFBQSxDQUFBLFFBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBLElBQUE7QUFESixTQUFBLE1BRU87QUFDSCxxQkFBQSxRQUFBLENBQUEsUUFBQSxFQUFBLElBQUE7QUFDSDtBQUNKO0FBWEwsQ0FBQTs7Ozs7QUM3TEEsSUFBSSxzQkFBc0IsUUFBQSxZQUFBLEVBQTFCLG1CQUFBO0FBQ0EsSUFBSSxZQUFZLElBQWhCLG1CQUFnQixFQUFoQjs7QUFFQSxJQUFNLHdCQUFOLEVBQUE7QUFDQSxPQUFBLGNBQUEsQ0FBQSxxQkFBQSxFQUFBLGFBQUEsRUFBNEQ7QUFDeEQsY0FEd0QsS0FBQTtBQUV4RCxrQkFGd0QsS0FBQTtBQUd4RCxXQUFPLGVBQUEsRUFBQSxFQUFBLFFBQUEsRUFBd0I7QUFDM0Isa0JBQUEsR0FBQSxDQUFBLEVBQUEsRUFBQSxRQUFBO0FBQ0g7QUFMdUQsQ0FBNUQ7O0FBUUEsT0FBQSxjQUFBLENBQUEscUJBQUEsRUFBQSxpQkFBQSxFQUFnRTtBQUM1RCxjQUQ0RCxLQUFBO0FBRTVELGtCQUY0RCxLQUFBO0FBRzVELFdBQU8sZUFBQSxFQUFBLEVBQWM7QUFDakIsZUFBTyxVQUFBLEdBQUEsQ0FBUCxFQUFPLENBQVA7QUFDSDtBQUwyRCxDQUFoRTs7QUFRQSxPQUFBLGNBQUEsQ0FBQSxxQkFBQSxFQUFBLG9CQUFBLEVBQW1FO0FBQy9ELGNBRCtELEtBQUE7QUFFL0Qsa0JBRitELEtBQUE7QUFHL0QsV0FBTyxlQUFBLEVBQUEsRUFBYztBQUNqQixlQUFPLFVBQUEsTUFBQSxDQUFQLEVBQU8sQ0FBUDtBQUNIO0FBTDhELENBQW5FOztBQVFBLE9BQUEsT0FBQSxHQUFBLHFCQUFBOzs7Ozs7Ozs7Ozs7O0lDNUJPLHNCLFdBQUEsc0I7QUFDSCxzQ0FBZTtBQUFBOztBQUNYLGFBQUEsV0FBQSxHQUFBLEVBQUE7QUFDSDs7Ozs0QkFDRCxFLEVBQUEsSyxFQUFnQjtBQUNaLGdCQUFJLENBQUMsS0FBQSxXQUFBLENBQUwsRUFBSyxDQUFMLEVBQTJCO0FBQ3ZCLHFCQUFBLFdBQUEsQ0FBQSxFQUFBLElBQUEsRUFBQTtBQUNIO0FBQ0QsZ0JBQUksS0FBQSxXQUFBLENBQUEsRUFBQSxFQUFBLE9BQUEsQ0FBQSxLQUFBLE1BQXdDLENBQTVDLENBQUEsRUFBZ0Q7QUFDNUMscUJBQUEsV0FBQSxDQUFBLEVBQUEsRUFBQSxJQUFBLENBQUEsS0FBQTtBQUNIO0FBQ0o7Ozs0QkFDRCxFLEVBQVM7QUFDTCxtQkFBTyxLQUFBLFdBQUEsQ0FBQSxFQUFBLEtBQVAsRUFBQTtBQUNIOzs7bUNBQ0QsTyxFQUFxQjtBQUNqQixtQkFBTyxPQUFBLElBQUEsQ0FBWSxLQUFaLFdBQUEsRUFBQSxNQUFBLENBQVAsT0FBTyxDQUFQO0FBQ0g7OztvQ0FDRCxLLEVBQW9CO0FBQUE7O0FBQ2hCLGdCQUFJLE9BQU8sT0FBQSxJQUFBLENBQVksS0FBWixXQUFBLEVBQUEsTUFBQSxDQUFxQyxlQUFTO0FBQ3JELHVCQUFPLE1BQUEsV0FBQSxDQUFBLEdBQUEsRUFBQSxPQUFBLENBQUEsS0FBQSxNQUF5QyxDQUFoRCxDQUFBO0FBREosYUFBVyxDQUFYOztBQUlBLG1CQUFBLElBQUE7QUFDSDs7OytCQUNELEcsRUFBQSxLLEVBQW1CO0FBQ2YsZ0JBQUksQ0FBQyxLQUFBLFdBQUEsQ0FBTCxHQUFLLENBQUwsRUFBNEI7QUFBRTtBQUFTOztBQUV2QyxnQkFBSSxRQUFRLEtBQUEsV0FBQSxDQUFBLEdBQUEsRUFBQSxPQUFBLENBQVosS0FBWSxDQUFaOztBQUVBLGdCQUFJLFFBQUosQ0FBQSxFQUFlO0FBQUU7QUFBUztBQUMxQixtQkFBTyxLQUFBLFdBQUEsQ0FBQSxHQUFBLEVBQUEsTUFBQSxDQUFBLEtBQUEsRUFBUCxDQUFPLENBQVA7QUFDSDs7O29DQUNELEUsRUFBaUI7QUFDYixnQkFBSSxNQUFNLEtBQUEsV0FBQSxDQUFWLEVBQVUsQ0FBVjtBQUNBLG1CQUFPLEtBQUEsV0FBQSxDQUFQLEVBQU8sQ0FBUDtBQUNBLG1CQUFBLEdBQUE7QUFDSDs7O3NDQUNELEssRUFBc0I7QUFBQTs7QUFDbEIsZ0JBQUksT0FBTyxLQUFBLFdBQUEsQ0FBWCxLQUFXLENBQVg7QUFDQSxtQkFBTyxLQUFBLEdBQUEsQ0FBUyxlQUFTO0FBQ3JCLHVCQUFPLE9BQUEsTUFBQSxDQUFBLEdBQUEsRUFBUCxLQUFPLENBQVA7QUFESixhQUFPLENBQVA7QUFHSDs7O29DQUNXO0FBQ1IsZ0JBQUksTUFBTSxLQUFWLFdBQUE7QUFDQSxpQkFBQSxXQUFBLEdBQUEsRUFBQTtBQUNBLG1CQUFBLEdBQUE7QUFDSDs7OytCQUNNO0FBQ0gsbUJBQU8sT0FBQSxJQUFBLENBQVksS0FBWixXQUFBLEVBQVAsTUFBQTtBQUNIOzs7Ozs7SUFHRSxtQixXQUFBLG1CO0FBQ0gsbUNBQWU7QUFBQTs7QUFDWCxhQUFBLFdBQUEsR0FBQSxFQUFBO0FBQ0g7Ozs7NEJBQ0QsRSxFQUFBLEssRUFBZ0I7QUFDWixpQkFBQSxXQUFBLENBQUEsRUFBQSxJQUFBLEtBQUE7QUFDSDs7OzRCQUNELEUsRUFBUztBQUNMLG1CQUFPLEtBQUEsV0FBQSxDQUFQLEVBQU8sQ0FBUDtBQUNIOzs7bUNBQ0QsTyxFQUFxQjtBQUNqQixtQkFBTyxPQUFBLElBQUEsQ0FBWSxLQUFaLFdBQUEsRUFBQSxNQUFBLENBQVAsT0FBTyxDQUFQO0FBQ0g7OztvQ0FDRCxLLEVBQW9CO0FBQUE7O0FBQ2hCLGdCQUFJLE9BQU8sT0FBQSxJQUFBLENBQVksS0FBWixXQUFBLEVBQUEsTUFBQSxDQUFxQyxlQUFTO0FBQ3JELHVCQUFPLE9BQUEsV0FBQSxDQUFBLEdBQUEsTUFBUCxLQUFBO0FBREosYUFBVyxDQUFYOztBQUlBLG1CQUFBLElBQUE7QUFDSDs7OytCQUNELEUsRUFBWTtBQUNSLGdCQUFJLE1BQU0sS0FBQSxXQUFBLENBQVYsRUFBVSxDQUFWO0FBQ0EsbUJBQU8sS0FBQSxXQUFBLENBQVAsRUFBTyxDQUFQO0FBQ0EsbUJBQUEsR0FBQTtBQUNIOzs7c0NBQ0QsSyxFQUFzQjtBQUFBOztBQUNsQixnQkFBSSxPQUFPLEtBQUEsV0FBQSxDQUFYLEtBQVcsQ0FBWDtBQUNBLG1CQUFPLEtBQUEsR0FBQSxDQUFTLGVBQVM7QUFDckIsdUJBQU8sT0FBQSxNQUFBLENBQVAsR0FBTyxDQUFQO0FBREosYUFBTyxDQUFQO0FBR0g7OztvQ0FDVztBQUNSLGdCQUFJLE1BQU0sS0FBVixXQUFBO0FBQ0EsaUJBQUEsV0FBQSxHQUFBLEVBQUE7QUFDQSxtQkFBQSxHQUFBO0FBQ0g7OzsrQkFDTTtBQUNILG1CQUFPLE9BQUEsSUFBQSxDQUFZLEtBQVosV0FBQSxFQUFQLE1BQUE7QUFDSDs7Ozs7Ozs7Ozs7O1FDNUZFLE0sR0FBQSxNO1FBT0EsSSxHQUFBLEk7UUFJQSxlLEdBQUEsZTtRQWdCQSxtQixHQUFBLG1CO1FBVUEsYSxHQUFBLGE7UUFpQkEsYyxHQUFBLGM7UUFJQSxXLEdBQUEsVztBQTFEQSxTQUFBLE1BQUEsQ0FBQSxNQUFBLEVBQXdCO0FBQzNCLFFBQUksUUFBUSxDQUFaLENBQUE7QUFDQSxXQUFPLGFBQUs7QUFDUixlQUFVLE1BQVYsU0FBb0IsRUFBcEIsS0FBQTtBQURKLEtBQUE7QUFHSDs7QUFFTSxTQUFBLElBQUEsR0FBZ0IsQ0FDdEI7O0FBR00sU0FBQSxlQUFBLENBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEVBQXNEOztBQUV6RCxRQUFJLFVBQVUsV0FBVyxZQUFNOztBQUUzQixvQkFBQSxJQUFBO0FBQ0E7QUFIVSxLQUFBLEVBQWQsS0FBYyxDQUFkOztBQU9BLFdBQU8sWUFBWTtBQUNmLHFCQUFBLE9BQUE7QUFDQSxrQkFBQSxLQUFBLENBQUEsSUFBQSxFQUFBLFNBQUE7QUFGSixLQUFBO0FBSUg7O0FBR00sU0FBQSxtQkFBQSxDQUFBLE1BQUEsRUFBQSxFQUFBLEVBQStEO0FBQUEsUUFBdEIsWUFBc0IsdUVBQS9ELEtBQStEOztBQUNsRSxRQUFJLE1BQU0sU0FBQSxhQUFBLENBQVYsS0FBVSxDQUFWO0FBQ0EsUUFBQSxFQUFBLEdBQUEsRUFBQTtBQUNBLFFBQUEsWUFBQSxFQUFrQjtBQUNkLGVBQUEsU0FBQSxHQUFBLEVBQUE7QUFDSDtBQUNELFdBQUEsV0FBQSxDQUFBLEdBQUE7QUFDQSxXQUFBLEdBQUE7QUFDSDs7QUFFTSxTQUFBLGFBQUEsQ0FBQSxNQUFBLEVBQUEsTUFBQSxFQUF1QztBQUMxQyxXQUFPLENBQUMsTUFBTSxXQUFQLE1BQU8sQ0FBTixDQUFELElBQThCLFNBQTlCLE1BQThCLENBQTlCLElBQWtELFNBQWxELENBQUEsR0FBQSxNQUFBLEdBQVAsTUFBQTtBQUNIOztBQUVELElBQUksV0FBWSxZQUFZO0FBQ3hCLFFBQUksT0FBQSxTQUFBLENBQUosUUFBQSxFQUErQixPQUFPLE9BQUEsU0FBQSxDQUFQLFFBQUE7QUFDL0IsV0FBTyxTQUFBLFFBQUEsQ0FBQSxZQUFBLEVBQUEsUUFBQSxFQUEyQztBQUM5QyxZQUFJLGdCQUFnQixLQUFwQixRQUFvQixFQUFwQjtBQUNBLFlBQUksYUFBQSxTQUFBLElBQTBCLFdBQVcsY0FBekMsTUFBQSxFQUErRDtBQUMzRCx1QkFBVyxjQUFYLE1BQUE7QUFDSDtBQUNELG9CQUFZLGFBQVosTUFBQTtBQUNBLFlBQUksWUFBWSxjQUFBLE9BQUEsQ0FBQSxZQUFBLEVBQWhCLFFBQWdCLENBQWhCO0FBQ0EsZUFBTyxjQUFjLENBQWQsQ0FBQSxJQUFvQixjQUEzQixRQUFBO0FBUEosS0FBQTtBQUZKLENBQWdCLEVBQWhCOztBQWFPLFNBQUEsY0FBQSxDQUFBLE1BQUEsRUFBQSxNQUFBLEVBQXdDO0FBQzNDLFdBQU8sU0FBQSxJQUFBLENBQUEsTUFBQSxFQUFQLE1BQU8sQ0FBUDtBQUNIOztBQUVNLFNBQUEsV0FBQSxDQUFBLEVBQUEsRUFBeUI7QUFDNUI7QUFDQSxPQUFBLEtBQUEsQ0FBQSxRQUFBLEdBQUEsVUFBQTtBQUNBLE9BQUEsS0FBQSxDQUFBLElBQUEsR0FBQSxNQUFBO0FBQ0EsT0FBQSxLQUFBLENBQUEsR0FBQSxHQUFBLE1BQUE7QUFDQSxPQUFBLEtBQUEsQ0FBQSxLQUFBLEdBQUEsS0FBQTtBQUNBLE9BQUEsS0FBQSxDQUFBLE1BQUEsR0FBQSxLQUFBO0FBQ0g7OztBQ25FRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnO1xuXG4vL3NpbXBsZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgQVBJXG5leHBvcnQgY2xhc3MgSVZQQUlEQWRVbml0IHtcblxuICAgIC8vYWxsIG1ldGhvZHMgYmVsb3dcbiAgICAvL2FyZSBhc3luYyBtZXRob2RzXG4gICAgaGFuZHNoYWtlVmVyc2lvbihwbGF5ZXJWUEFJRFZlcnNpb24gPSAnMi4wJywgY2FsbGJhY2sgPSB1bmRlZmluZWQpIHt9XG5cbiAgICAvL2NyZWF0aXZlRGF0YSBpcyBhbiBvYmplY3QgdG8gYmUgY29uc2lzdGVudCB3aXRoIFZQQUlESFRNTFxuICAgIGluaXRBZCAod2lkdGgsIGhlaWdodCwgdmlld01vZGUsIGRlc2lyZWRCaXRyYXRlLCBjcmVhdGl2ZURhdGEgPSB7QWRQYXJhbWV0ZXJzOicnfSwgZW52aXJvbm1lbnRWYXJzID0ge2ZsYXNoVmFyczogJyd9LCBjYWxsYmFjayA9IHVuZGVmaW5lZCkge31cbiAgICByZXNpemVBZCh3aWR0aCwgaGVpZ2h0LCB2aWV3TW9kZSwgY2FsbGJhY2sgPSB1bmRlZmluZWQpIHt9XG5cbiAgICBzdGFydEFkKGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7fVxuICAgIHN0b3BBZChjYWxsYmFjayA9IHVuZGVmaW5lZCkge31cbiAgICBwYXVzZUFkKGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7fVxuICAgIHJlc3VtZUFkKGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7fVxuICAgIGV4cGFuZEFkKGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7fVxuICAgIGNvbGxhcHNlQWQoY2FsbGJhY2sgPSB1bmRlZmluZWQpIHt9XG4gICAgc2tpcEFkKGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7fVxuXG4gICAgLy9wcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSB0cmVhdCBhcyBhc3luYyBtZXRob2RzXG4gICAgZ2V0QWRMaW5lYXIoY2FsbGJhY2spIHt9XG4gICAgZ2V0QWRXaWR0aChjYWxsYmFjaykge31cbiAgICBnZXRBZEhlaWdodChjYWxsYmFjaykge31cbiAgICBnZXRBZEV4cGFuZGVkKGNhbGxiYWNrKSB7fVxuICAgIGdldEFkU2tpcHBhYmxlU3RhdGUoY2FsbGJhY2spIHt9XG4gICAgZ2V0QWRSZW1haW5pbmdUaW1lKGNhbGxiYWNrKSB7fVxuICAgIGdldEFkRHVyYXRpb24oY2FsbGJhY2spIHt9XG4gICAgc2V0QWRWb2x1bWUoc291bmRWb2x1bWUsIGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7fVxuICAgIGdldEFkVm9sdW1lKGNhbGxiYWNrKSB7fVxuICAgIGdldEFkQ29tcGFuaW9ucyhjYWxsYmFjaykge31cbiAgICBnZXRBZEljb25zKGNhbGxiYWNrKSB7fVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSVZQQUlEQWRVbml0LCAnRVZFTlRTJywge1xuICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIHZhbHVlOiBbXG4gICAgICAgICdBZExvYWRlZCcsXG4gICAgICAgICdBZFN0YXJ0ZWQnLFxuICAgICAgICAnQWRTdG9wcGVkJyxcbiAgICAgICAgJ0FkU2tpcHBlZCcsXG4gICAgICAgICdBZFNraXBwYWJsZVN0YXRlQ2hhbmdlJywgLy8gVlBBSUQgMi4wIG5ldyBldmVudFxuICAgICAgICAnQWRTaXplQ2hhbmdlJywgLy8gVlBBSUQgMi4wIG5ldyBldmVudFxuICAgICAgICAnQWRMaW5lYXJDaGFuZ2UnLFxuICAgICAgICAnQWREdXJhdGlvbkNoYW5nZScsIC8vIFZQQUlEIDIuMCBuZXcgZXZlbnRcbiAgICAgICAgJ0FkRXhwYW5kZWRDaGFuZ2UnLFxuICAgICAgICAnQWRSZW1haW5pbmdUaW1lQ2hhbmdlJywgLy8gW0RlcHJlY2F0ZWQgaW4gMi4wXSBidXQgd2lsbCBiZSBzdGlsbCBmaXJlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgJ0FkVm9sdW1lQ2hhbmdlJyxcbiAgICAgICAgJ0FkSW1wcmVzc2lvbicsXG4gICAgICAgICdBZFZpZGVvU3RhcnQnLFxuICAgICAgICAnQWRWaWRlb0ZpcnN0UXVhcnRpbGUnLFxuICAgICAgICAnQWRWaWRlb01pZHBvaW50JyxcbiAgICAgICAgJ0FkVmlkZW9UaGlyZFF1YXJ0aWxlJyxcbiAgICAgICAgJ0FkVmlkZW9Db21wbGV0ZScsXG4gICAgICAgICdBZENsaWNrVGhydScsXG4gICAgICAgICdBZEludGVyYWN0aW9uJywgLy8gVlBBSUQgMi4wIG5ldyBldmVudFxuICAgICAgICAnQWRVc2VyQWNjZXB0SW52aXRhdGlvbicsXG4gICAgICAgICdBZFVzZXJNaW5pbWl6ZScsXG4gICAgICAgICdBZFVzZXJDbG9zZScsXG4gICAgICAgICdBZFBhdXNlZCcsXG4gICAgICAgICdBZFBsYXlpbmcnLFxuICAgICAgICAnQWRMb2cnLFxuICAgICAgICAnQWRFcnJvcidcbiAgICBdXG59KTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgSVZQQUlEQWRVbml0ID0gcmVxdWlyZSgnLi9JVlBBSURBZFVuaXQnKS5JVlBBSURBZFVuaXQ7XG5sZXQgQUxMX1ZQQUlEX01FVEhPRFMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhJVlBBSURBZFVuaXQucHJvdG90eXBlKS5maWx0ZXIoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIFsnY29uc3RydWN0b3InXS5pbmRleE9mKHByb3BlcnR5KSA9PT0gLTE7XG59KTtcblxuZXhwb3J0IGNsYXNzIFZQQUlEQWRVbml0IGV4dGVuZHMgSVZQQUlEQWRVbml0IHtcbiAgICBjb25zdHJ1Y3RvciAoZmxhc2gpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2ZsYXNoID0gZmxhc2g7XG4gICAgfVxuXG4gICAgX2Rlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIEFMTF9WUEFJRF9NRVRIT0RTLmZvckVhY2goKG1ldGhvZE5hbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYXNoLnJlbW92ZUNhbGxiYWNrQnlNZXRob2ROYW1lKG1ldGhvZE5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgSVZQQUlEQWRVbml0LkVWRU5UUy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZmxhc2gub2ZmRXZlbnQoZXZlbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9mbGFzaCA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNEZXN0cm95ZWQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cblxuICAgIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZmxhc2gub24oZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZmxhc2gub2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8vVlBBSUQgaW50ZXJmYWNlXG4gICAgaGFuZHNoYWtlVmVyc2lvbihwbGF5ZXJWUEFJRFZlcnNpb24gPSAnMi4wJywgY2FsbGJhY2sgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fZmxhc2guY2FsbEZsYXNoTWV0aG9kKCdoYW5kc2hha2VWZXJzaW9uJywgW3BsYXllclZQQUlEVmVyc2lvbl0sIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgaW5pdEFkICh3aWR0aCwgaGVpZ2h0LCB2aWV3TW9kZSwgZGVzaXJlZEJpdHJhdGUsIGNyZWF0aXZlRGF0YSA9IHtBZFBhcmFtZXRlcnM6ICcnfSwgZW52aXJvbm1lbnRWYXJzID0ge2ZsYXNoVmFyczogJyd9LCBjYWxsYmFjayA9IHVuZGVmaW5lZCkge1xuICAgICAgICAvL3Jlc2l6ZSBlbGVtZW50IHRoYXQgaGFzIHRoZSBmbGFzaCBvYmplY3RcbiAgICAgICAgdGhpcy5fZmxhc2guc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY3JlYXRpdmVEYXRhID0gY3JlYXRpdmVEYXRhIHx8IHtBZFBhcmFtZXRlcnM6ICcnfTtcbiAgICAgICAgZW52aXJvbm1lbnRWYXJzID0gZW52aXJvbm1lbnRWYXJzIHx8IHtmbGFzaFZhcnM6ICcnfTtcblxuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ2luaXRBZCcsIFt0aGlzLl9mbGFzaC5nZXRXaWR0aCgpLCB0aGlzLl9mbGFzaC5nZXRIZWlnaHQoKSwgdmlld01vZGUsIGRlc2lyZWRCaXRyYXRlLCBjcmVhdGl2ZURhdGEuQWRQYXJhbWV0ZXJzIHx8ICcnLCBlbnZpcm9ubWVudFZhcnMuZmxhc2hWYXJzIHx8ICcnXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICByZXNpemVBZCh3aWR0aCwgaGVpZ2h0LCB2aWV3TW9kZSwgY2FsbGJhY2sgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy9yZXNpemUgZWxlbWVudCB0aGF0IGhhcyB0aGUgZmxhc2ggb2JqZWN0XG4gICAgICAgIHRoaXMuX2ZsYXNoLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLy9yZXNpemUgYWQgaW5zaWRlIHRoZSBmbGFzaFxuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ3Jlc2l6ZUFkJywgW3RoaXMuX2ZsYXNoLmdldFdpZHRoKCksIHRoaXMuX2ZsYXNoLmdldEhlaWdodCgpLCB2aWV3TW9kZV0sIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgc3RhcnRBZChjYWxsYmFjayA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ3N0YXJ0QWQnLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBzdG9wQWQoY2FsbGJhY2sgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fZmxhc2guY2FsbEZsYXNoTWV0aG9kKCdzdG9wQWQnLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBwYXVzZUFkKGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgncGF1c2VBZCcsIFtdLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIHJlc3VtZUFkKGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgncmVzdW1lQWQnLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBleHBhbmRBZChjYWxsYmFjayA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ2V4cGFuZEFkJywgW10sIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgY29sbGFwc2VBZChjYWxsYmFjayA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ2NvbGxhcHNlQWQnLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBza2lwQWQoY2FsbGJhY2sgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fZmxhc2guY2FsbEZsYXNoTWV0aG9kKCdza2lwQWQnLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8vcHJvcGVydGllcyB0aGF0IHdpbGwgYmUgdHJlYXQgYXMgYXN5bmMgbWV0aG9kc1xuICAgIGdldEFkTGluZWFyKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgnZ2V0QWRMaW5lYXInLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBnZXRBZFdpZHRoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgnZ2V0QWRXaWR0aCcsIFtdLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldEFkSGVpZ2h0KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgnZ2V0QWRIZWlnaHQnLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBnZXRBZEV4cGFuZGVkKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgnZ2V0QWRFeHBhbmRlZCcsIFtdLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldEFkU2tpcHBhYmxlU3RhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZmxhc2guY2FsbEZsYXNoTWV0aG9kKCdnZXRBZFNraXBwYWJsZVN0YXRlJywgW10sIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0QWRSZW1haW5pbmdUaW1lKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgnZ2V0QWRSZW1haW5pbmdUaW1lJywgW10sIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0QWREdXJhdGlvbihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ2dldEFkRHVyYXRpb24nLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBzZXRBZFZvbHVtZSh2b2x1bWUsIGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgnc2V0QWRWb2x1bWUnLCBbdm9sdW1lXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBnZXRBZFZvbHVtZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ2dldEFkVm9sdW1lJywgW10sIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0QWRDb21wYW5pb25zKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgnZ2V0QWRDb21wYW5pb25zJywgW10sIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0QWRJY29ucyhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ2dldEFkSWNvbnMnLCBbXSwgY2FsbGJhY2spO1xuICAgIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBzd2ZvYmplY3QgPSByZXF1aXJlKCdzd2ZvYmplY3QnKTtcblxuY29uc3QgSlNGbGFzaEJyaWRnZSA9IHJlcXVpcmUoJy4vanNGbGFzaEJyaWRnZScpLkpTRmxhc2hCcmlkZ2U7XG5jb25zdCBWUEFJREFkVW5pdCA9IHJlcXVpcmUoJy4vVlBBSURBZFVuaXQnKS5WUEFJREFkVW5pdDtcblxuY29uc3Qgbm9vcCA9IHJlcXVpcmUoJy4vdXRpbHMnKS5ub29wO1xuY29uc3QgY2FsbGJhY2tUaW1lb3V0ID0gcmVxdWlyZSgnLi91dGlscycpLmNhbGxiYWNrVGltZW91dDtcbmNvbnN0IGlzUG9zaXRpdmVJbnQgPSByZXF1aXJlKCcuL3V0aWxzJykuaXNQb3NpdGl2ZUludDtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRXaXRoSUQgPSByZXF1aXJlKCcuL3V0aWxzJykuY3JlYXRlRWxlbWVudFdpdGhJRDtcbmNvbnN0IHVuaXF1ZVZQQUlEID0gcmVxdWlyZSgnLi91dGlscycpLnVuaXF1ZSgndnBhaWQnKTtcbmNvbnN0IGNyZWF0ZUZsYXNoVGVzdGVyID0gcmVxdWlyZSgnLi9mbGFzaFRlc3Rlci5qcycpLmNyZWF0ZUZsYXNoVGVzdGVyO1xuXG5jb25zdCBFUlJPUiA9ICdlcnJvcic7XG5jb25zdCBGTEFTSF9WRVJTSU9OID0gJzEwLjEuMCc7XG5cbmxldCBmbGFzaFRlc3RlciA9IHtpc1N1cHBvcnRlZDogKCk9PiB0cnVlfTsgLy8gaWYgdGhlIHJ1bkZsYXNoVGVzdCBpcyBub3QgcnVuIHRoZSBmbGFzaFRlc3RlciB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZVxuXG5jbGFzcyBWUEFJREZMQVNIQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvciAodnBhaWRQYXJlbnRFbCwgY2FsbGJhY2ssIHN3ZkNvbmZpZyA9IHtkYXRhOiAnVlBBSURGbGFzaC5zd2YnLCB3aWR0aDogODAwLCBoZWlnaHQ6IDQwMH0sIHBhcmFtcyA9IHsgd21vZGU6ICd0cmFuc3BhcmVudCcsIHNhbGlnbjogJ3RsJywgYWxpZ246ICdsZWZ0JywgYWxsb3dTY3JpcHRBY2Nlc3M6ICdhbHdheXMnLCBzY2FsZTogJ25vU2NhbGUnLCBhbGxvd0Z1bGxTY3JlZW46ICd0cnVlJywgcXVhbGl0eTogJ2hpZ2gnfSwgdnBhaWRPcHRpb25zID0geyBkZWJ1ZzogZmFsc2UsIHRpbWVvdXQ6IDEwMDAwIH0pIHtcblxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3ZwYWlkUGFyZW50RWwgPSB2cGFpZFBhcmVudEVsO1xuICAgICAgICB0aGlzLl9mbGFzaElEID0gdW5pcXVlVlBBSUQoKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgbm9vcDtcblxuICAgICAgICBzd2ZDb25maWcud2lkdGggPSBpc1Bvc2l0aXZlSW50KHN3ZkNvbmZpZy53aWR0aCwgODAwKTtcbiAgICAgICAgc3dmQ29uZmlnLmhlaWdodCA9IGlzUG9zaXRpdmVJbnQoc3dmQ29uZmlnLmhlaWdodCwgNDAwKTtcblxuICAgICAgICBjcmVhdGVFbGVtZW50V2l0aElEKHZwYWlkUGFyZW50RWwsIHRoaXMuX2ZsYXNoSUQsIHRydWUpO1xuXG4gICAgICAgIHBhcmFtcy5tb3ZpZSA9IHN3ZkNvbmZpZy5kYXRhO1xuICAgICAgICBwYXJhbXMuRmxhc2hWYXJzID0gYGZsYXNoaWQ9JHt0aGlzLl9mbGFzaElEfSZoYW5kbGVyPSR7SlNGbGFzaEJyaWRnZS5WUEFJRF9GTEFTSF9IQU5ETEVSfSZkZWJ1Zz0ke3ZwYWlkT3B0aW9ucy5kZWJ1Z30mc2FsaWduPSR7cGFyYW1zLnNhbGlnbn1gO1xuXG4gICAgICAgIGlmICghVlBBSURGTEFTSENsaWVudC5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb25FcnJvcigndXNlciBkb25cXCd0IHN1cHBvcnQgZmxhc2ggb3IgZG9lc25cXCd0IGhhdmUgdGhlIG1pbmltdW0gcmVxdWlyZWQgdmVyc2lvbiBvZiBmbGFzaCAnICsgRkxBU0hfVkVSU0lPTik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsID0gc3dmb2JqZWN0LmNyZWF0ZVNXRihzd2ZDb25maWcsIHBhcmFtcywgdGhpcy5fZmxhc2hJRCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gb25FcnJvciggJ3N3Zm9iamVjdCBmYWlsZWQgdG8gY3JlYXRlIG9iamVjdCBpbiBlbGVtZW50JyApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXIgPSBjYWxsYmFja1RpbWVvdXQodnBhaWRPcHRpb25zLnRpbWVvdXQsXG4gICAgICAgICAgICAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgJGxvYWRQZW5kZWRBZFVuaXQuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIGRhdGEpO1xuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCd2cGFpZCBmbGFzaCBsb2FkIHRpbWVvdXQgJyArIHZwYWlkT3B0aW9ucy50aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9mbGFzaCA9IG5ldyBKU0ZsYXNoQnJpZGdlKHRoaXMuZWwsIHN3ZkNvbmZpZy5kYXRhLCB0aGlzLl9mbGFzaElELCBzd2ZDb25maWcud2lkdGgsIHN3ZkNvbmZpZy5oZWlnaHQsIGhhbmRsZXIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihlcnJvcikpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm4gbWU7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGRlc3Ryb3kgKCkge1xuICAgICAgICB0aGlzLl9kZXN0cm95QWRVbml0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZsYXNoKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFzaC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9mbGFzaCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaXNEZXN0cm95ZWQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cblxuICAgIF9kZXN0cm95QWRVbml0KCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fbG9hZExhdGVyO1xuXG4gICAgICAgIGlmICh0aGlzLl9hZFVuaXRMb2FkKSB7XG4gICAgICAgICAgICB0aGlzLl9hZFVuaXRMb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2ZsYXNoLnJlbW92ZUNhbGxiYWNrKHRoaXMuX2FkVW5pdExvYWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2FkVW5pdCkge1xuICAgICAgICAgICAgdGhpcy5fYWRVbml0Ll9kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9hZFVuaXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZEFkVW5pdChhZFVSTCwgY2FsbGJhY2spIHtcbiAgICAgICAgJHRocm93SWZEZXN0cm95ZWQuY2FsbCh0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5fYWRVbml0KSB7XG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95QWRVbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZmxhc2guaXNSZWFkeSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9hZFVuaXRMb2FkID0gKGVyciwgbWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkVW5pdCA9IG5ldyBWUEFJREFkVW5pdCh0aGlzLl9mbGFzaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2FkVW5pdExvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgdGhpcy5fYWRVbml0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuX2ZsYXNoLmNhbGxGbGFzaE1ldGhvZCgnbG9hZEFkVW5pdCcsIFthZFVSTF0sIHRoaXMuX2FkVW5pdExvYWQpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkTGF0ZXIgPSB7dXJsOiBhZFVSTCwgY2FsbGJhY2t9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5sb2FkQWRVbml0KGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICR0aHJvd0lmRGVzdHJveWVkLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveUFkVW5pdCgpO1xuICAgICAgICB0aGlzLl9mbGFzaC5jYWxsRmxhc2hNZXRob2QoJ3VubG9hZEFkVW5pdCcsIFtdLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldEZsYXNoSUQoKSB7XG4gICAgICAgICR0aHJvd0lmRGVzdHJveWVkLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9mbGFzaC5nZXRGbGFzaElEKCk7XG4gICAgfVxuICAgIGdldEZsYXNoVVJMKCkge1xuICAgICAgICAkdGhyb3dJZkRlc3Ryb3llZC5jYWxsKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZmxhc2guZ2V0Rmxhc2hVUkwoKTtcbiAgICB9XG59XG5cbnNldFN0YXRpY1Byb3BlcnR5KCdpc1N1cHBvcnRlZCcsICgpID0+IHtcbiAgICByZXR1cm4gc3dmb2JqZWN0Lmhhc0ZsYXNoUGxheWVyVmVyc2lvbihGTEFTSF9WRVJTSU9OKSAmJiBmbGFzaFRlc3Rlci5pc1N1cHBvcnRlZCgpO1xufSwgdHJ1ZSk7XG5cbnNldFN0YXRpY1Byb3BlcnR5KCdydW5GbGFzaFRlc3QnLCAoc3dmQ29uZmlnKSA9PiB7XG4gICAgZmxhc2hUZXN0ZXIgPSBjcmVhdGVGbGFzaFRlc3Rlcihkb2N1bWVudC5ib2R5LCBzd2ZDb25maWcpO1xufSk7XG5cbmZ1bmN0aW9uICR0aHJvd0lmRGVzdHJveWVkKCkge1xuICAgIGlmKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZQQUlERmxhc2hUb0pTIGlzIGRlc3Ryb3llZCEnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uICRsb2FkUGVuZGVkQWRVbml0KCkge1xuICAgIGlmICh0aGlzLl9sb2FkTGF0ZXIpIHtcbiAgICAgICAgdGhpcy5sb2FkQWRVbml0KHRoaXMuX2xvYWRMYXRlci51cmwsIHRoaXMuX2xvYWRMYXRlci5jYWxsYmFjayk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sb2FkTGF0ZXI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRTdGF0aWNQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHZhbHVlLCB3cml0YWJsZSA9IGZhbHNlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZQQUlERkxBU0hDbGllbnQsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICB3cml0YWJsZTogd3JpdGFibGUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH0pO1xufVxuXG5WUEFJREZMQVNIQ2xpZW50LnN3Zm9iamVjdCA9IHN3Zm9iamVjdDtcblxubW9kdWxlLmV4cG9ydHMgPSBWUEFJREZMQVNIQ2xpZW50O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBzd2ZvYmplY3QgPSByZXF1aXJlKCdzd2ZvYmplY3QnKTtcblxuY29uc3QgRkxBU0hfVEVTVCA9ICd2cGFpZF92aWRlb19mbGFzaF90ZXN0ZXInO1xuY29uc3QgRkxBU0hfVEVTVF9FTCA9ICd2cGFpZF92aWRlb19mbGFzaF90ZXN0ZXJfZWwnO1xuY29uc3QgSlNGbGFzaEJyaWRnZSA9IHJlcXVpcmUoJy4vanNGbGFzaEJyaWRnZScpLkpTRmxhc2hCcmlkZ2U7XG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbmNvbnN0IE11bHRpcGxlVmFsdWVzUmVnaXN0cnkgPSByZXF1aXJlKCcuL3JlZ2lzdHJ5JykuTXVsdGlwbGVWYWx1ZXNSZWdpc3RyeTtcblxuY2xhc3MgRmxhc2hUZXN0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgc3dmQ29uZmlnID0ge2RhdGE6ICdWUEFJREZsYXNoLnN3ZicsIHdpZHRoOiA4MDAsIGhlaWdodDogNDAwfSkge1xuICAgICAgICB0aGlzLnBhcmVudEVsID0gdXRpbHMuY3JlYXRlRWxlbWVudFdpdGhJRChwYXJlbnQsIEZMQVNIX1RFU1RfRUwpOyAvLyBzb21lIGJyb3dzZXJzIGNyZWF0ZSBnbG9iYWwgdmFyaWFibGVzIHVzaW5nIHRoZSBlbGVtZW50IGlkIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQzNDI3OC9kby1kb20tdHJlZS1lbGVtZW50cy13aXRoLWlkcy1iZWNvbWUtZ2xvYmFsLXZhcmlhYmxlc1xuICAgICAgICB1dGlscy5oaWRlRmxhc2hFbCh0aGlzLnBhcmVudEVsKTtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgICBwYXJhbXMubW92aWUgPSBzd2ZDb25maWcuZGF0YTtcbiAgICAgICAgcGFyYW1zLkZsYXNoVmFycyA9IGBmbGFzaGlkPSR7RkxBU0hfVEVTVF9FTH0maGFuZGxlcj0ke0pTRmxhc2hCcmlkZ2UuVlBBSURfRkxBU0hfSEFORExFUn1gO1xuICAgICAgICBwYXJhbXMuYWxsb3dTY3JpcHRBY2Nlc3MgPSAnYWx3YXlzJztcblxuICAgICAgICB0aGlzLmVsID0gc3dmb2JqZWN0LmNyZWF0ZVNXRihzd2ZDb25maWcsIHBhcmFtcywgRkxBU0hfVEVTVF9FTCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0gbmV3IE11bHRpcGxlVmFsdWVzUmVnaXN0cnkoKTtcbiAgICAgICAgdGhpcy5faXNTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZWwpIHtcbiAgICAgICAgICAgIHV0aWxzLmhpZGVGbGFzaEVsKHRoaXMuZWwpO1xuICAgICAgICAgICAgdGhpcy5fZmxhc2ggPSBuZXcgSlNGbGFzaEJyaWRnZSh0aGlzLmVsLCBzd2ZDb25maWcuZGF0YSwgRkxBU0hfVEVTVF9FTCwgc3dmQ29uZmlnLndpZHRoLCBzd2ZDb25maWcuaGVpZ2h0LCAoKT0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBwb3J0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1N1cHBvcnRlZCA9IHN1cHBvcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMuZ2V0KCdjaGFuZ2UnKS5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soJ2NoYW5nZScsIHN1cHBvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTdXBwb3J0ZWQ7XG4gICAgfVxuICAgIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5faGFuZGxlcnMuYWRkKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIH1cbn1cblxuZXhwb3J0IHZhciBjcmVhdGVGbGFzaFRlc3RlciA9IGZ1bmN0aW9uIGNyZWF0ZUZsYXNoVGVzdGVyKGVsLCBzd2ZDb25maWcpIHtcbiAgICBpZiAoIXdpbmRvd1tGTEFTSF9URVNUXSkge1xuICAgICAgICB3aW5kb3dbRkxBU0hfVEVTVF0gPSBuZXcgRmxhc2hUZXN0ZXIoZWwsIHN3ZkNvbmZpZyk7XG4gICAgfVxuICAgIHJldHVybiB3aW5kb3dbRkxBU0hfVEVTVF07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgdW5pcXVlID0gcmVxdWlyZSgnLi91dGlscycpLnVuaXF1ZTtcbmxldCBpc1Bvc2l0aXZlSW50ID0gcmVxdWlyZSgnLi91dGlscycpLmlzUG9zaXRpdmVJbnQ7XG5sZXQgc3RyaW5nRW5kc1dpdGggPSByZXF1aXJlKCcuL3V0aWxzJykuc3RyaW5nRW5kc1dpdGg7XG5sZXQgU2luZ2xlVmFsdWVSZWdpc3RyeSA9IHJlcXVpcmUoJy4vcmVnaXN0cnknKS5TaW5nbGVWYWx1ZVJlZ2lzdHJ5O1xubGV0IE11bHRpcGxlVmFsdWVzUmVnaXN0cnkgPSByZXF1aXJlKCcuL3JlZ2lzdHJ5JykuTXVsdGlwbGVWYWx1ZXNSZWdpc3RyeTtcbmNvbnN0IHJlZ2lzdHJ5ID0gcmVxdWlyZSgnLi9qc0ZsYXNoQnJpZGdlUmVnaXN0cnknKTtcbmNvbnN0IFZQQUlEX0ZMQVNIX0hBTkRMRVIgPSAndnBhaWRfdmlkZW9fZmxhc2hfaGFuZGxlcic7XG5jb25zdCBFUlJPUiA9ICdBZEVycm9yJztcblxuZXhwb3J0IGNsYXNzIEpTRmxhc2hCcmlkZ2Uge1xuICAgIGNvbnN0cnVjdG9yIChlbCwgZmxhc2hVUkwsIGZsYXNoSUQsIHdpZHRoLCBoZWlnaHQsIGxvYWRIYW5kU2hha2UpIHtcbiAgICAgICAgdGhpcy5fZWwgPSBlbDtcbiAgICAgICAgdGhpcy5fZmxhc2hJRCA9IGZsYXNoSUQ7XG4gICAgICAgIHRoaXMuX2ZsYXNoVVJMID0gZmxhc2hVUkw7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSBuZXcgTXVsdGlwbGVWYWx1ZXNSZWdpc3RyeSgpO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSBuZXcgU2luZ2xlVmFsdWVSZWdpc3RyeSgpO1xuICAgICAgICB0aGlzLl91bmlxdWVNZXRob2RJZGVudGlmaWVyID0gdW5pcXVlKHRoaXMuX2ZsYXNoSUQpO1xuICAgICAgICB0aGlzLl9yZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9oYW5kU2hha2VIYW5kbGVyID0gbG9hZEhhbmRTaGFrZTtcblxuICAgICAgICByZWdpc3RyeS5hZGRJbnN0YW5jZSh0aGlzLl9mbGFzaElELCB0aGlzKTtcbiAgICB9XG5cbiAgICBvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzLmFkZChldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlcnMucmVtb3ZlKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIG9mZkV2ZW50KGV2ZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlcnMucmVtb3ZlQnlLZXkoZXZlbnROYW1lKTtcbiAgICB9XG5cbiAgICBvZmZBbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVycy5yZW1vdmVBbGwoKTtcbiAgICB9XG5cbiAgICBjYWxsRmxhc2hNZXRob2QobWV0aG9kTmFtZSwgYXJncyA9IFtdLCBjYWxsYmFjayA9IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY2FsbGJhY2tJRCA9ICcnO1xuICAgICAgICAvLyBpZiBubyBjYWxsYmFjaywgc29tZSBtZXRob2RzIHRoZSByZXR1cm4gaXMgdm9pZCBzbyB0aGV5IGRvbid0IG5lZWQgY2FsbGJhY2tcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFja0lEID0gYCR7dGhpcy5fdW5pcXVlTWV0aG9kSWRlbnRpZmllcigpfV8ke21ldGhvZE5hbWV9YDtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2tJRCwgY2FsbGJhY2spO1xuICAgICAgICB9XG5cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy9tZXRob2RzIGFyZSBjcmVhdGVkIGJ5IEV4dGVybmFsSW50ZXJmYWNlLmFkZENhbGxiYWNrIGluIGFzMyBjb2RlLCBpZiBmb3Igc29tZSByZWFzb24gaXQgZmFpbGVkXG4gICAgICAgICAgICAvL3RoaXMgY29kZSB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICAgICAgICB0aGlzLl9lbFttZXRob2ROYW1lXShbY2FsbGJhY2tJRF0uY29uY2F0KGFyZ3MpKTtcblxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAkYXN5bmNDYWxsYmFjay5jYWxsKHRoaXMsIGNhbGxiYWNrSUQsIGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIC8vaWYgdGhlcmUgaXNuJ3QgYW55IGNhbGxiYWNrIHRvIHJldHVybiBlcnJvciB1c2UgZXJyb3IgZXZlbnQgaGFuZGxlclxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoRVJST1IsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrcy5yZW1vdmVCeVZhbHVlKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZW1vdmVDYWxsYmFja0J5TWV0aG9kTmFtZShzdWZmaXgpIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmZpbHRlcktleXMoKGtleSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0VuZHNXaXRoKGtleSwgc3VmZml4KTtcbiAgICAgICAgfSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3MucmVtb3ZlKGtleSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbW92ZUFsbENhbGxiYWNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrcy5yZW1vdmVBbGwoKTtcbiAgICB9XG5cbiAgICBfdHJpZ2dlcihldmVudE5hbWUsIGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzLmdldChldmVudE5hbWUpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAvL2NsaWNrVGhydSBoYXMgdG8gYmUgc3luYywgaWYgbm90IHdpbGwgYmUgYmxvY2sgYnkgdGhlIHBvcHVwYmxvY2tlclxuICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gJ0FkQ2xpY2tUaHJ1Jykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5nZXQoZXZlbnROYW1lKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NhbGxDYWxsYmFjayhtZXRob2ROYW1lLCBjYWxsYmFja0lELCBlcnIsIHJlc3VsdCkge1xuXG4gICAgICAgIGxldCBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrcy5nZXQoY2FsbGJhY2tJRCk7XG5cbiAgICAgICAgLy9ub3QgYWxsIG1ldGhvZHMgY2FsbGJhY2sncyBhcmUgbWFuZGF0b3J5XG4gICAgICAgIC8vYnV0IGlmIHRoZXJlIGV4aXN0IGFuIGVycm9yLCBmaXJlIHRoZSBlcnJvciBldmVudFxuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoZXJyICYmIGNhbGxiYWNrSUQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKEVSUk9SLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJGFzeW5jQ2FsbGJhY2suY2FsbCh0aGlzLCBjYWxsYmFja0lELCBlcnIsIHJlc3VsdCk7XG5cbiAgICB9XG5cbiAgICBfaGFuZFNoYWtlKGVyciwgZGF0YSkge1xuICAgICAgICB0aGlzLl9yZWFkeSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kU2hha2VIYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kU2hha2VIYW5kbGVyKGVyciwgZGF0YSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faGFuZFNoYWtlSGFuZGxlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vbWV0aG9kcyBsaWtlIHByb3BlcnRpZXMgc3BlY2lmaWMgdG8gdGhpcyBpbXBsZW1lbnRhdGlvbiBvZiBWUEFJRFxuICAgIGdldFNpemUoKSB7XG4gICAgICAgIHJldHVybiB7d2lkdGg6IHRoaXMuX3dpZHRoLCBoZWlnaHQ6IHRoaXMuX2hlaWdodH07XG4gICAgfVxuICAgIHNldFNpemUobmV3V2lkdGgsIG5ld0hlaWdodCkge1xuICAgICAgICB0aGlzLl93aWR0aCA9IGlzUG9zaXRpdmVJbnQobmV3V2lkdGgsIHRoaXMuX3dpZHRoKTtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaXNQb3NpdGl2ZUludChuZXdIZWlnaHQsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLl93aWR0aCk7XG4gICAgICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5faGVpZ2h0KTtcbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICB9XG4gICAgc2V0V2lkdGgobmV3V2lkdGgpIHtcbiAgICAgICAgdGhpcy5zZXRTaXplKG5ld1dpZHRoLCB0aGlzLl9oZWlnaHQpO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuICAgIHNldEhlaWdodChuZXdIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5zZXRTaXplKHRoaXMuX3dpZHRoLCBuZXdIZWlnaHQpO1xuICAgIH1cbiAgICBnZXRGbGFzaElEKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmxhc2hJRDtcbiAgICB9XG4gICAgZ2V0Rmxhc2hVUkwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mbGFzaFVSTDtcbiAgICB9XG4gICAgaXNSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLm9mZkFsbCgpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbENhbGxiYWNrcygpO1xuICAgICAgICByZWdpc3RyeS5yZW1vdmVJbnN0YW5jZUJ5SUQodGhpcy5fZmxhc2hJRCk7XG4gICAgICAgIGlmICh0aGlzLl9lbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9lbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX2VsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gJGFzeW5jQ2FsbGJhY2soY2FsbGJhY2tJRCwgZXJyLCByZXN1bHQpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbGV0IGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2tzLmdldChjYWxsYmFja0lEKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3MucmVtb3ZlKGNhbGxiYWNrSUQpO1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgfSwgMCk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShKU0ZsYXNoQnJpZGdlLCAnVlBBSURfRkxBU0hfSEFORExFUicsIHtcbiAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogVlBBSURfRkxBU0hfSEFORExFUlxufSk7XG5cbi8qKlxuICogRXh0ZXJuYWwgaW50ZXJmYWNlIGhhbmRsZXJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmxhc2hJRCBpZGVudGlmaWVyIG9mIHRoZSBmbGFzaCB3aG8gY2FsbCB0aGlzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZUlEIHdoYXQgdHlwZSBvZiBtZXNzYWdlIGlzLCBjYW4gYmUgJ2V2ZW50JyBvciAnY2FsbGJhY2snXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZU5hbWUgaWYgdGhlIHR5cGVJRCBpcyBhIGV2ZW50IHRoZSB0eXBlTmFtZSB3aWxsIGJlIHRoZSBldmVudE5hbWUsIGlmIGlzIGEgY2FsbGJhY2sgdGhlIHR5cGVJRCBpcyB0aGUgbWV0aG9kTmFtZSB0aGF0IGlzIHJlbGF0ZWQgdGhpcyBjYWxsYmFja1xuICogQHBhcmFtIHtzdHJpbmd9IGNhbGxiYWNrSUQgb25seSBhcHBsaWVzIHdoZW4gdGhlIHR5cGVJRCBpcyAnY2FsbGJhY2snLCBpZGVudGlmaWVyIG9mIHRoZSBjYWxsYmFjayB0byBjYWxsXG4gKiBAcGFyYW0ge29iamVjdH0gZXJyb3IgZXJyb3Igb2JqZWN0XG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YVxuICovXG53aW5kb3dbVlBBSURfRkxBU0hfSEFORExFUl0gPSAoZmxhc2hJRCwgdHlwZUlELCB0eXBlTmFtZSwgY2FsbGJhY2tJRCwgZXJyb3IsIGRhdGEpID0+IHtcbiAgICBsZXQgaW5zdGFuY2UgPSByZWdpc3RyeS5nZXRJbnN0YW5jZUJ5SUQoZmxhc2hJRCk7XG4gICAgaWYgKCFpbnN0YW5jZSkgcmV0dXJuO1xuICAgIGlmICh0eXBlTmFtZSA9PT0gJ2hhbmRTaGFrZScpIHtcbiAgICAgICAgaW5zdGFuY2UuX2hhbmRTaGFrZShlcnJvciwgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVJRCAhPT0gJ2V2ZW50Jykge1xuICAgICAgICAgICAgaW5zdGFuY2UuX2NhbGxDYWxsYmFjayh0eXBlTmFtZSwgY2FsbGJhY2tJRCwgZXJyb3IsIGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2UuX3RyaWdnZXIodHlwZU5hbWUsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgU2luZ2xlVmFsdWVSZWdpc3RyeSA9IHJlcXVpcmUoJy4vcmVnaXN0cnknKS5TaW5nbGVWYWx1ZVJlZ2lzdHJ5O1xubGV0IGluc3RhbmNlcyA9IG5ldyBTaW5nbGVWYWx1ZVJlZ2lzdHJ5KCk7XG5cbmNvbnN0IEpTRmxhc2hCcmlkZ2VSZWdpc3RyeSA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEpTRmxhc2hCcmlkZ2VSZWdpc3RyeSwgJ2FkZEluc3RhbmNlJywge1xuICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoaWQsIGluc3RhbmNlKSB7XG4gICAgICAgIGluc3RhbmNlcy5hZGQoaWQsIGluc3RhbmNlKTtcbiAgICB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEpTRmxhc2hCcmlkZ2VSZWdpc3RyeSwgJ2dldEluc3RhbmNlQnlJRCcsIHtcbiAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZXMuZ2V0KGlkKTtcbiAgICB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEpTRmxhc2hCcmlkZ2VSZWdpc3RyeSwgJ3JlbW92ZUluc3RhbmNlQnlJRCcsIHtcbiAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZXMucmVtb3ZlKGlkKTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBKU0ZsYXNoQnJpZGdlUmVnaXN0cnk7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNsYXNzIE11bHRpcGxlVmFsdWVzUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5fcmVnaXN0cmllcyA9IHt9O1xuICAgIH1cbiAgICBhZGQgKGlkLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlZ2lzdHJpZXNbaWRdKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWdpc3RyaWVzW2lkXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZWdpc3RyaWVzW2lkXS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdHJpZXNbaWRdLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdHJpZXNbaWRdIHx8IFtdO1xuICAgIH1cbiAgICBmaWx0ZXJLZXlzIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9yZWdpc3RyaWVzKS5maWx0ZXIoaGFuZGxlcik7XG4gICAgfVxuICAgIGZpbmRCeVZhbHVlICh2YWx1ZSkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3JlZ2lzdHJpZXMpLmZpbHRlcigoa2V5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cmllc1trZXldLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgfVxuICAgIHJlbW92ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmVnaXN0cmllc1trZXldKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3JlZ2lzdHJpZXNba2V5XS5pbmRleE9mKHZhbHVlKTtcblxuICAgICAgICBpZiAoaW5kZXggPCAwKSB7IHJldHVybjsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cmllc1trZXldLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJlbW92ZUJ5S2V5IChpZCkge1xuICAgICAgICBsZXQgb2xkID0gdGhpcy5fcmVnaXN0cmllc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yZWdpc3RyaWVzW2lkXTtcbiAgICAgICAgcmV0dXJuIG9sZDtcbiAgICB9XG4gICAgcmVtb3ZlQnlWYWx1ZSAodmFsdWUpIHtcbiAgICAgICAgbGV0IGtleXMgPSB0aGlzLmZpbmRCeVZhbHVlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGtleXMubWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbW92ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZUFsbCgpIHtcbiAgICAgICAgbGV0IG9sZCA9IHRoaXMuX3JlZ2lzdHJpZXM7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJpZXMgPSB7fTtcbiAgICAgICAgcmV0dXJuIG9sZDtcbiAgICB9XG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3JlZ2lzdHJpZXMpLmxlbmd0aDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaW5nbGVWYWx1ZVJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJpZXMgPSB7fTtcbiAgICB9XG4gICAgYWRkIChpZCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcmVnaXN0cmllc1tpZF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cmllc1tpZF07XG4gICAgfVxuICAgIGZpbHRlcktleXMgKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3JlZ2lzdHJpZXMpLmZpbHRlcihoYW5kbGVyKTtcbiAgICB9XG4gICAgZmluZEJ5VmFsdWUgKHZhbHVlKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fcmVnaXN0cmllcykuZmlsdGVyKChrZXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RyaWVzW2tleV0gPT09IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9XG4gICAgcmVtb3ZlIChpZCkge1xuICAgICAgICBsZXQgb2xkID0gdGhpcy5fcmVnaXN0cmllc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yZWdpc3RyaWVzW2lkXTtcbiAgICAgICAgcmV0dXJuIG9sZDtcbiAgICB9XG4gICAgcmVtb3ZlQnlWYWx1ZSAodmFsdWUpIHtcbiAgICAgICAgbGV0IGtleXMgPSB0aGlzLmZpbmRCeVZhbHVlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGtleXMubWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbW92ZShrZXkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlQWxsKCkge1xuICAgICAgICBsZXQgb2xkID0gdGhpcy5fcmVnaXN0cmllcztcbiAgICAgICAgdGhpcy5fcmVnaXN0cmllcyA9IHt9O1xuICAgICAgICByZXR1cm4gb2xkO1xuICAgIH1cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fcmVnaXN0cmllcykubGVuZ3RoO1xuICAgIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gdW5pcXVlKHByZWZpeCkge1xuICAgIGxldCBjb3VudCA9IC0xO1xuICAgIHJldHVybiBmID0+IHtcbiAgICAgICAgcmV0dXJuIGAke3ByZWZpeH1fJHsrK2NvdW50fWA7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGxiYWNrVGltZW91dCh0aW1lciwgb25TdWNjZXNzLCBvblRpbWVvdXQpIHtcblxuICAgIGxldCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICAgICAgb25TdWNjZXNzID0gbm9vcDtcbiAgICAgICAgb25UaW1lb3V0KCk7XG5cbiAgICB9LCB0aW1lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIG9uU3VjY2Vzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoSUQocGFyZW50LCBpZCwgY2xlYW5Db250ZW50ID0gZmFsc2UpIHtcbiAgICB2YXIgbkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbkVsLmlkID0gaWQ7XG4gICAgaWYgKGNsZWFuQ29udGVudCkge1xuICAgICAgICBwYXJlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICAgIHBhcmVudC5hcHBlbmRDaGlsZChuRWwpO1xuICAgIHJldHVybiBuRWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Bvc2l0aXZlSW50KG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG5ld1ZhbCkpICYmIGlzRmluaXRlKG5ld1ZhbCkgJiYgbmV3VmFsID4gMCA/IG5ld1ZhbCA6IG9sZFZhbDtcbn1cblxubGV0IGVuZHNXaXRoID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCkgcmV0dXJuIFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGg7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGVuZHNXaXRoIChzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBzdWJqZWN0U3RyaW5nID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN1YmplY3RTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHN1YmplY3RTdHJpbmcubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gICAgICAgIHZhciBsYXN0SW5kZXggPSBzdWJqZWN0U3RyaW5nLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gICAgICAgIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG4gICAgfTtcbn0pKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdFbmRzV2l0aChzdHJpbmcsIHNlYXJjaCkge1xuICAgIHJldHVybiBlbmRzV2l0aC5jYWxsKHN0cmluZywgc2VhcmNoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVGbGFzaEVsKGVsKSB7XG4gICAgLy8gY2FuJ3QgdXNlIGRpc3BsYXkgbm9uZSBvciB2aXNpYmlsaXR5IG5vbmUgYmVjYXVzZSB3aWxsIGJsb2NrIGZsYXNoIGluIHNvbWUgYnJvd3NlcnNcbiAgICBlbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZWwuc3R5bGUubGVmdCA9ICctMXB4JztcbiAgICBlbC5zdHlsZS50b3AgPSAnLTFweCc7XG4gICAgZWwuc3R5bGUud2lkdGggPSAnMXB4JztcbiAgICBlbC5zdHlsZS5oZWlnaHQgPSAnMXB4Jztcbn1cbiIsIi8qISAgICBTV0ZPYmplY3QgdjIuMy4yMDEzMDUyMSA8aHR0cDovL2dpdGh1Yi5jb20vc3dmb2JqZWN0L3N3Zm9iamVjdD5cclxuICAgIGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSA8aHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHA+XHJcbiovXHJcblxyXG4vKiBnbG9iYWwgQWN0aXZlWE9iamVjdDogZmFsc2UgKi9cclxuXHJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgIC8vIEFNRFxyXG4gICAgZGVmaW5lKGZhY3RvcnkpO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICAgIC8vIE5vZGUsIENvbW1vbkpTLWxpa2VcclxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxyXG4gICAgcm9vdC5zd2ZvYmplY3QgPSBmYWN0b3J5KCk7XHJcbiAgfVxyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgVU5ERUYgPSBcInVuZGVmaW5lZFwiLFxyXG4gICAgICAgIE9CSkVDVCA9IFwib2JqZWN0XCIsXHJcbiAgICAgICAgU0hPQ0tXQVZFX0ZMQVNIID0gXCJTaG9ja3dhdmUgRmxhc2hcIixcclxuICAgICAgICBTSE9DS1dBVkVfRkxBU0hfQVggPSBcIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoXCIsXHJcbiAgICAgICAgRkxBU0hfTUlNRV9UWVBFID0gXCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiLFxyXG4gICAgICAgIEVYUFJFU1NfSU5TVEFMTF9JRCA9IFwiU1dGT2JqZWN0RXhwckluc3RcIixcclxuICAgICAgICBPTl9SRUFEWV9TVEFURV9DSEFOR0UgPSBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLFxyXG5cclxuICAgICAgICB3aW4gPSB3aW5kb3csXHJcbiAgICAgICAgZG9jID0gZG9jdW1lbnQsXHJcbiAgICAgICAgbmF2ID0gbmF2aWdhdG9yLFxyXG5cclxuICAgICAgICBwbHVnaW4gPSBmYWxzZSxcclxuICAgICAgICBkb21Mb2FkRm5BcnIgPSBbXSxcclxuICAgICAgICByZWdPYmpBcnIgPSBbXSxcclxuICAgICAgICBvYmpJZEFyciA9IFtdLFxyXG4gICAgICAgIGxpc3RlbmVyc0FyciA9IFtdLFxyXG4gICAgICAgIHN0b3JlZEZiQ29udGVudCxcclxuICAgICAgICBzdG9yZWRGYkNvbnRlbnRJZCxcclxuICAgICAgICBzdG9yZWRDYWxsYmFja0ZuLFxyXG4gICAgICAgIHN0b3JlZENhbGxiYWNrT2JqLFxyXG4gICAgICAgIGlzRG9tTG9hZGVkID0gZmFsc2UsXHJcbiAgICAgICAgaXNFeHByZXNzSW5zdGFsbEFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgIGR5bmFtaWNTdHlsZXNoZWV0LFxyXG4gICAgICAgIGR5bmFtaWNTdHlsZXNoZWV0TWVkaWEsXHJcbiAgICAgICAgYXV0b0hpZGVTaG93ID0gdHJ1ZSxcclxuICAgICAgICBlbmNvZGVVUklFbmFibGVkID0gZmFsc2UsXHJcblxyXG4gICAgLyogQ2VudHJhbGl6ZWQgZnVuY3Rpb24gZm9yIGJyb3dzZXIgZmVhdHVyZSBkZXRlY3Rpb25cclxuICAgICAgICAtIFVzZXIgYWdlbnQgc3RyaW5nIGRldGVjdGlvbiBpcyBvbmx5IHVzZWQgd2hlbiBubyBnb29kIGFsdGVybmF0aXZlIGlzIHBvc3NpYmxlXHJcbiAgICAgICAgLSBJcyBleGVjdXRlZCBkaXJlY3RseSBmb3Igb3B0aW1hbCBwZXJmb3JtYW5jZVxyXG4gICAgKi9cclxuICAgIHVhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB3M2Nkb20gPSB0eXBlb2YgZG9jLmdldEVsZW1lbnRCeUlkICE9PSBVTkRFRiAmJiB0eXBlb2YgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBVTkRFRiAmJiB0eXBlb2YgZG9jLmNyZWF0ZUVsZW1lbnQgIT09IFVOREVGLFxyXG4gICAgICAgICAgICB1ID0gbmF2LnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICBwID0gbmF2LnBsYXRmb3JtLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgIHdpbmRvd3MgPSBwID8gL3dpbi8udGVzdChwKSA6IC93aW4vLnRlc3QodSksXHJcbiAgICAgICAgICAgIG1hYyA9IHAgPyAvbWFjLy50ZXN0KHApIDogL21hYy8udGVzdCh1KSxcclxuICAgICAgICAgICAgd2Via2l0ID0gL3dlYmtpdC8udGVzdCh1KSA/IHBhcnNlRmxvYXQodS5yZXBsYWNlKC9eLip3ZWJraXRcXC8oXFxkKyhcXC5cXGQrKT8pLiokLywgXCIkMVwiKSkgOiBmYWxzZSwgLy8gcmV0dXJucyBlaXRoZXIgdGhlIHdlYmtpdCB2ZXJzaW9uIG9yIGZhbHNlIGlmIG5vdCB3ZWJraXRcclxuICAgICAgICAgICAgaWUgPSBuYXYuYXBwTmFtZSA9PT0gXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIixcclxuICAgICAgICAgICAgcGxheWVyVmVyc2lvbiA9IFswLCAwLCAwXSxcclxuICAgICAgICAgICAgZCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYXYucGx1Z2lucyAhPT0gVU5ERUYgJiYgdHlwZW9mIG5hdi5wbHVnaW5zW1NIT0NLV0FWRV9GTEFTSF0gPT09IE9CSkVDVCkge1xyXG4gICAgICAgICAgICBkID0gbmF2LnBsdWdpbnNbU0hPQ0tXQVZFX0ZMQVNIXS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgLy8gbmF2Lm1pbWVUeXBlc1tcImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCJdLmVuYWJsZWRQbHVnaW4gaW5kaWNhdGVzIHdoZXRoZXIgcGx1Zy1pbnMgYXJlIGVuYWJsZWQgb3IgZGlzYWJsZWQgaW4gU2FmYXJpIDMrXHJcbiAgICAgICAgICAgIGlmIChkICYmICh0eXBlb2YgbmF2Lm1pbWVUeXBlcyAhPT0gVU5ERUYgJiYgbmF2Lm1pbWVUeXBlc1tGTEFTSF9NSU1FX1RZUEVdICYmIG5hdi5taW1lVHlwZXNbRkxBU0hfTUlNRV9UWVBFXS5lbmFibGVkUGx1Z2luKSkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGllID0gZmFsc2U7IC8vIGNhc2NhZGVkIGZlYXR1cmUgZGV0ZWN0aW9uIGZvciBJbnRlcm5ldCBFeHBsb3JlclxyXG4gICAgICAgICAgICAgICAgZCA9IGQucmVwbGFjZSgvXi4qXFxzKyhcXFMrXFxzK1xcUyskKS8sIFwiJDFcIik7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJWZXJzaW9uWzBdID0gdG9JbnQoZC5yZXBsYWNlKC9eKC4qKVxcLi4qJC8sIFwiJDFcIikpO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyVmVyc2lvblsxXSA9IHRvSW50KGQucmVwbGFjZSgvXi4qXFwuKC4qKVxccy4qJC8sIFwiJDFcIikpO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyVmVyc2lvblsyXSA9IC9bYS16QS1aXS8udGVzdChkKSA/IHRvSW50KGQucmVwbGFjZSgvXi4qW2EtekEtWl0rKC4qKSQvLCBcIiQxXCIpKSA6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbi5BY3RpdmVYT2JqZWN0ICE9PSBVTkRFRikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPSBuZXcgQWN0aXZlWE9iamVjdChTSE9DS1dBVkVfRkxBU0hfQVgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGEpIHsgLy8gYSB3aWxsIHJldHVybiBudWxsIHdoZW4gQWN0aXZlWCBpcyBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgIGQgPSBhLkdldFZhcmlhYmxlKFwiJHZlcnNpb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWUgPSB0cnVlOyAvLyBjYXNjYWRlZCBmZWF0dXJlIGRldGVjdGlvbiBmb3IgSW50ZXJuZXQgRXhwbG9yZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGQuc3BsaXQoXCIgXCIpWzFdLnNwbGl0KFwiLFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVmVyc2lvbiA9IFt0b0ludChkWzBdKSwgdG9JbnQoZFsxXSksIHRvSW50KGRbMl0pXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7dzM6IHczY2RvbSwgcHY6IHBsYXllclZlcnNpb24sIHdrOiB3ZWJraXQsIGllOiBpZSwgd2luOiB3aW5kb3dzLCBtYWM6IG1hY307XHJcbiAgICB9KCksXHJcblxyXG4gICAgLyogQ3Jvc3MtYnJvd3NlciBvbkRvbUxvYWRcclxuICAgICAgICAtIFdpbGwgZmlyZSBhbiBldmVudCBhcyBzb29uIGFzIHRoZSBET00gb2YgYSB3ZWIgcGFnZSBpcyBsb2FkZWRcclxuICAgICAgICAtIEludGVybmV0IEV4cGxvcmVyIHdvcmthcm91bmQgYmFzZWQgb24gRGllZ28gUGVyaW5pJ3Mgc29sdXRpb246IGh0dHA6Ly9qYXZhc2NyaXB0Lm53Ym94LmNvbS9JRUNvbnRlbnRMb2FkZWQvXHJcbiAgICAgICAgLSBSZWd1bGFyIG9ubG9hZCBzZXJ2ZXMgYXMgZmFsbGJhY2tcclxuICAgICovXHJcbiAgICBvbkRvbUxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF1YS53MykgeyByZXR1cm47IH1cclxuICAgICAgICBpZiAoKHR5cGVvZiBkb2MucmVhZHlTdGF0ZSAhPT0gVU5ERUYgJiYgKGRvYy5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHwgZG9jLnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIikpIHx8ICh0eXBlb2YgZG9jLnJlYWR5U3RhdGUgPT09IFVOREVGICYmIChkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdIHx8IGRvYy5ib2R5KSkpIHsgLy8gZnVuY3Rpb24gaXMgZmlyZWQgYWZ0ZXIgb25sb2FkLCBlLmcuIHdoZW4gc2NyaXB0IGlzIGluc2VydGVkIGR5bmFtaWNhbGx5XHJcbiAgICAgICAgICAgIGNhbGxEb21Mb2FkRnVuY3Rpb25zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNEb21Mb2FkZWQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2MuYWRkRXZlbnRMaXN0ZW5lciAhPT0gVU5ERUYpIHtcclxuICAgICAgICAgICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBjYWxsRG9tTG9hZEZ1bmN0aW9ucywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh1YS5pZSkge1xyXG4gICAgICAgICAgICAgICAgZG9jLmF0dGFjaEV2ZW50KE9OX1JFQURZX1NUQVRFX0NIQU5HRSwgZnVuY3Rpb24gZGV0YWNoKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2MucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kZXRhY2hFdmVudChPTl9SRUFEWV9TVEFURV9DSEFOR0UsIGRldGFjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxEb21Mb2FkRnVuY3Rpb25zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luID09IHRvcCkgeyAvLyBpZiBub3QgaW5zaWRlIGFuIGlmcmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiBjaGVja0RvbUxvYWRlZElFKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNEb21Mb2FkZWQpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKFwibGVmdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChjaGVja0RvbUxvYWRlZElFLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsRG9tTG9hZEZ1bmN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0oKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHVhLndrKSB7XHJcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gY2hlY2tEb21Mb2FkZWRXSygpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEb21Mb2FkZWQpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGRvYy5yZWFkeVN0YXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNoZWNrRG9tTG9hZGVkV0ssIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxEb21Mb2FkRnVuY3Rpb25zKCk7XHJcbiAgICAgICAgICAgICAgICB9KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGxEb21Mb2FkRnVuY3Rpb25zKCkge1xyXG4gICAgICAgIGlmIChpc0RvbUxvYWRlZCB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdKSB7IHJldHVybjsgfVxyXG4gICAgICAgIHRyeSB7IC8vIHRlc3QgaWYgd2UgY2FuIHJlYWxseSBhZGQvcmVtb3ZlIGVsZW1lbnRzIHRvL2Zyb20gdGhlIERPTTsgd2UgZG9uJ3Qgd2FudCB0byBmaXJlIGl0IHRvbyBlYXJseVxyXG4gICAgICAgICAgICB2YXIgdCwgc3BhbiA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICBzcGFuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgLy9oaWRlIHRoZSBzcGFuIGluIGNhc2Ugc29tZW9uZSBoYXMgc3R5bGVkIHNwYW5zIHZpYSBDU1NcclxuICAgICAgICAgICAgdCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0uYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgIHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTtcclxuICAgICAgICAgICAgdCA9IG51bGw7IC8vY2xlYXIgdGhlIHZhcmlhYmxlc1xyXG4gICAgICAgICAgICBzcGFuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgaXNEb21Mb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBkbCA9IGRvbUxvYWRGbkFyci5sZW5ndGg7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRvbUxvYWRGbkFycltpXSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGREb21Mb2FkRXZlbnQoZm4pIHtcclxuICAgICAgICBpZiAoaXNEb21Mb2FkZWQpIHtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbUxvYWRGbkFycltkb21Mb2FkRm5BcnIubGVuZ3RoXSA9IGZuOyAvLyBBcnJheS5wdXNoKCkgaXMgb25seSBhdmFpbGFibGUgaW4gSUU1LjUrXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIENyb3NzLWJyb3dzZXIgb25sb2FkXHJcbiAgICAgICAgLSBCYXNlZCBvbiBKYW1lcyBFZHdhcmRzJyBzb2x1dGlvbjogaHR0cDovL2Jyb3RoZXJjYWtlLmNvbS9zaXRlL3Jlc291cmNlcy9zY3JpcHRzL29ubG9hZC9cclxuICAgICAgICAtIFdpbGwgZmlyZSBhbiBldmVudCBhcyBzb29uIGFzIGEgd2ViIHBhZ2UgaW5jbHVkaW5nIGFsbCBvZiBpdHMgYXNzZXRzIGFyZSBsb2FkZWRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWRkTG9hZEV2ZW50KGZuKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW4uYWRkRXZlbnRMaXN0ZW5lciAhPT0gVU5ERUYpIHtcclxuICAgICAgICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZuLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkb2MuYWRkRXZlbnRMaXN0ZW5lciAhPT0gVU5ERUYpIHtcclxuICAgICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZuLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW4uYXR0YWNoRXZlbnQgIT09IFVOREVGKSB7XHJcbiAgICAgICAgICAgIGFkZExpc3RlbmVyKHdpbiwgXCJvbmxvYWRcIiwgZm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luLm9ubG9hZCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHZhciBmbk9sZCA9IHdpbi5vbmxvYWQ7XHJcbiAgICAgICAgICAgIHdpbi5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmbk9sZCgpO1xyXG4gICAgICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbi5vbmxvYWQgPSBmbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyogRGV0ZWN0IHRoZSBGbGFzaCBQbGF5ZXIgdmVyc2lvbiBmb3Igbm9uLUludGVybmV0IEV4cGxvcmVyIGJyb3dzZXJzXHJcbiAgICAgICAgLSBEZXRlY3RpbmcgdGhlIHBsdWctaW4gdmVyc2lvbiB2aWEgdGhlIG9iamVjdCBlbGVtZW50IGlzIG1vcmUgcHJlY2lzZSB0aGFuIHVzaW5nIHRoZSBwbHVnaW5zIGNvbGxlY3Rpb24gaXRlbSdzIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgYS4gQm90aCByZWxlYXNlIGFuZCBidWlsZCBudW1iZXJzIGNhbiBiZSBkZXRlY3RlZFxyXG4gICAgICAgICAgYi4gQXZvaWQgd3JvbmcgZGVzY3JpcHRpb25zIGJ5IGNvcnJ1cHQgaW5zdGFsbGVycyBwcm92aWRlZCBieSBBZG9iZVxyXG4gICAgICAgICAgYy4gQXZvaWQgd3JvbmcgZGVzY3JpcHRpb25zIGJ5IG11bHRpcGxlIEZsYXNoIFBsYXllciBlbnRyaWVzIGluIHRoZSBwbHVnaW4gQXJyYXksIGNhdXNlZCBieSBpbmNvcnJlY3QgYnJvd3NlciBpbXBvcnRzXHJcbiAgICAgICAgLSBEaXNhZHZhbnRhZ2Ugb2YgdGhpcyBtZXRob2QgaXMgdGhhdCBpdCBkZXBlbmRzIG9uIHRoZSBhdmFpbGFiaWxpdHkgb2YgdGhlIERPTSwgd2hpbGUgdGhlIHBsdWdpbnMgY29sbGVjdGlvbiBpcyBpbW1lZGlhdGVseSBhdmFpbGFibGVcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiB0ZXN0UGxheWVyVmVyc2lvbigpIHtcclxuICAgICAgICB2YXIgYiA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF07XHJcbiAgICAgICAgdmFyIG8gPSBjcmVhdGVFbGVtZW50KE9CSkVDVCk7XHJcbiAgICAgICAgby5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcInZpc2liaWxpdHk6IGhpZGRlbjtcIik7XHJcbiAgICAgICAgby5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIEZMQVNIX01JTUVfVFlQRSk7XHJcbiAgICAgICAgdmFyIHQgPSBiLmFwcGVuZENoaWxkKG8pO1xyXG4gICAgICAgIGlmICh0KSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVyID0gMDtcclxuICAgICAgICAgICAgKGZ1bmN0aW9uIGNoZWNrR2V0VmFyaWFibGUoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHQuR2V0VmFyaWFibGUgIT09IFVOREVGKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSB0LkdldFZhcmlhYmxlKFwiJHZlcnNpb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gZC5zcGxpdChcIiBcIilbMV0uc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWEucHYgPSBbdG9JbnQoZFswXSksIHRvSW50KGRbMV0pLCB0b0ludChkWzJdKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdC5HZXRWYXJpYWJsZShcIiR2ZXJzaW9uXCIpIGlzIGtub3duIHRvIGZhaWwgaW4gRmxhc2ggUGxheWVyIDggb24gRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0lmIHRoaXMgZXJyb3IgaXMgZW5jb3VudGVyZWQsIGFzc3VtZSBGUDggb3IgbG93ZXIuIFRpbWUgdG8gdXBncmFkZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdWEucHYgPSBbOCwgMCwgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY291bnRlciA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoY2hlY2tHZXRWYXJpYWJsZSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGIucmVtb3ZlQ2hpbGQobyk7XHJcbiAgICAgICAgICAgICAgICB0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIG1hdGNoVmVyc2lvbnMoKTtcclxuICAgICAgICAgICAgfSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1hdGNoVmVyc2lvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyogUGVyZm9ybSBGbGFzaCBQbGF5ZXIgYW5kIFNXRiB2ZXJzaW9uIG1hdGNoaW5nOyBzdGF0aWMgcHVibGlzaGluZyBvbmx5XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gbWF0Y2hWZXJzaW9ucygpIHtcclxuICAgICAgICB2YXIgcmwgPSByZWdPYmpBcnIubGVuZ3RoO1xyXG4gICAgICAgIGlmIChybCA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBybDsgaSsrKSB7IC8vIGZvciBlYWNoIHJlZ2lzdGVyZWQgb2JqZWN0IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgIHZhciBpZCA9IHJlZ09iakFycltpXS5pZDtcclxuICAgICAgICAgICAgICAgIHZhciBjYiA9IHJlZ09iakFycltpXS5jYWxsYmFja0ZuO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNiT2JqID0ge3N1Y2Nlc3M6IGZhbHNlLCBpZDogaWR9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHVhLnB2WzBdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBnZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUGxheWVyVmVyc2lvbihyZWdPYmpBcnJbaV0uc3dmVmVyc2lvbikgJiYgISh1YS53ayAmJiB1YS53ayA8IDMxMikpIHsgLy8gRmxhc2ggUGxheWVyIHZlcnNpb24gPj0gcHVibGlzaGVkIFNXRiB2ZXJzaW9uOiBIb3VzdG9uLCB3ZSBoYXZlIGEgbWF0Y2ghXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRWaXNpYmlsaXR5KGlkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiT2JqLnN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiT2JqLnJlZiA9IGdldE9iamVjdEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiT2JqLmlkID0gaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IoY2JPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlZ09iakFycltpXS5leHByZXNzSW5zdGFsbCAmJiBjYW5FeHByZXNzSW5zdGFsbCgpKSB7IC8vIHNob3cgdGhlIEFkb2JlIEV4cHJlc3MgSW5zdGFsbCBkaWFsb2cgaWYgc2V0IGJ5IHRoZSB3ZWIgcGFnZSBhdXRob3IgYW5kIGlmIHN1cHBvcnRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0LmRhdGEgPSByZWdPYmpBcnJbaV0uZXhwcmVzc0luc3RhbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQud2lkdGggPSBvYmouZ2V0QXR0cmlidXRlKFwid2lkdGhcIikgfHwgXCIwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQuaGVpZ2h0ID0gb2JqLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSB8fCBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpIHsgYXR0LnN0eWxlY2xhc3MgPSBvYmouZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouZ2V0QXR0cmlidXRlKFwiYWxpZ25cIikpIHsgYXR0LmFsaWduID0gb2JqLmdldEF0dHJpYnV0ZShcImFsaWduXCIpOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJzZSBIVE1MIG9iamVjdCBwYXJhbSBlbGVtZW50J3MgbmFtZS12YWx1ZSBwYWlyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBvYmouZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJhbVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbCA9IHAubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwbDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBbal0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKS50b0xvd2VyQ2FzZSgpICE9PSBcIm1vdmllXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyW3Bbal0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0gPSBwW2pdLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFeHByZXNzSW5zdGFsbChhdHQsIHBhciwgaWQsIGNiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gRmxhc2ggUGxheWVyIGFuZCBTV0YgdmVyc2lvbiBtaXNtYXRjaCBvciBhbiBvbGRlciBXZWJraXQgZW5naW5lIHRoYXQgaWdub3JlcyB0aGUgSFRNTCBvYmplY3QgZWxlbWVudCdzIG5lc3RlZCBwYXJhbSBlbGVtZW50czogZGlzcGxheSBmYWxsYmFjayBjb250ZW50IGluc3RlYWQgb2YgU1dGXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5RmJDb250ZW50KG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2IpIHsgY2IoY2JPYmopOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gaWYgbm8gRmxhc2ggUGxheWVyIGlzIGluc3RhbGxlZCBvciB0aGUgZnAgdmVyc2lvbiBjYW5ub3QgYmUgZGV0ZWN0ZWQgd2UgbGV0IHRoZSBIVE1MIG9iamVjdCBlbGVtZW50IGRvIGl0cyBqb2IgKGVpdGhlciBzaG93IGEgU1dGIG9yIGZhbGxiYWNrIGNvbnRlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VmlzaWJpbGl0eShpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gZ2V0T2JqZWN0QnlJZChpZCk7IC8vIHRlc3Qgd2hldGhlciB0aGVyZSBpcyBhbiBIVE1MIG9iamVjdCBlbGVtZW50IG9yIG5vdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobyAmJiB0eXBlb2Ygby5TZXRWYXJpYWJsZSAhPT0gVU5ERUYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiT2JqLnN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JPYmoucmVmID0gbztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiT2JqLmlkID0gby5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYihjYk9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIE1haW4gZnVuY3Rpb25cclxuICAgICAgICAtIFdpbGwgcHJlZmVyYWJseSBleGVjdXRlIG9uRG9tTG9hZCwgb3RoZXJ3aXNlIG9ubG9hZCAoYXMgYSBmYWxsYmFjaylcclxuICAgICovXHJcbiAgICBkb21Mb2FkRm5BcnJbMF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHBsdWdpbikge1xyXG4gICAgICAgICAgICB0ZXN0UGxheWVyVmVyc2lvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWF0Y2hWZXJzaW9ucygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0T2JqZWN0QnlJZChvYmplY3RJZFN0cikge1xyXG4gICAgICAgIHZhciByID0gbnVsbCxcclxuICAgICAgICAgICAgbyA9IGdldEVsZW1lbnRCeUlkKG9iamVjdElkU3RyKTtcclxuXHJcbiAgICAgICAgaWYgKG8gJiYgby5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIk9CSkVDVFwiKSB7XHJcbiAgICAgICAgICAgIC8vSWYgdGFyZ2V0ZWQgb2JqZWN0IGlzIHZhbGlkIEZsYXNoIGZpbGVcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvLlNldFZhcmlhYmxlICE9PSBVTkRFRikge1xyXG4gICAgICAgICAgICAgICAgciA9IG87XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL0lmIFNldFZhcmlhYmxlIGlzIG5vdCB3b3JraW5nIG9uIHRhcmdldGVkIG9iamVjdCBidXQgYSBuZXN0ZWQgb2JqZWN0IGlzXHJcbiAgICAgICAgICAgICAgICAvL2F2YWlsYWJsZSwgYXNzdW1lIGNsYXNzaWMgbmVzdGVkIG9iamVjdCBtYXJrdXAuIFJldHVybiBuZXN0ZWQgb2JqZWN0LlxyXG5cclxuICAgICAgICAgICAgICAgIC8vSWYgU2V0VmFyaWFibGUgaXMgbm90IHdvcmtpbmcgb24gdGFyZ2V0ZWQgb2JqZWN0IGFuZCB0aGVyZSBpcyBubyBuZXN0ZWQgb2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gdGhlIG9yaWdpbmFsIG9iamVjdCBhbnl3YXkuIFRoaXMgaXMgcHJvYmFibHkgbmV3IHNpbXBsaWZpZWQgbWFya3VwLlxyXG5cclxuICAgICAgICAgICAgICAgIHIgPSBvLmdldEVsZW1lbnRzQnlUYWdOYW1lKE9CSkVDVClbMF0gfHwgbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcblxyXG4gICAgLyogUmVxdWlyZW1lbnRzIGZvciBBZG9iZSBFeHByZXNzIEluc3RhbGxcclxuICAgICAgICAtIG9ubHkgb25lIGluc3RhbmNlIGNhbiBiZSBhY3RpdmUgYXQgYSB0aW1lXHJcbiAgICAgICAgLSBmcCA2LjAuNjUgb3IgaGlnaGVyXHJcbiAgICAgICAgLSBXaW4vTWFjIE9TIG9ubHlcclxuICAgICAgICAtIG5vIFdlYmtpdCBlbmdpbmVzIG9sZGVyIHRoYW4gdmVyc2lvbiAzMTJcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBjYW5FeHByZXNzSW5zdGFsbCgpIHtcclxuICAgICAgICByZXR1cm4gIWlzRXhwcmVzc0luc3RhbGxBY3RpdmUgJiYgaGFzUGxheWVyVmVyc2lvbihcIjYuMC42NVwiKSAmJiAodWEud2luIHx8IHVhLm1hYykgJiYgISh1YS53ayAmJiB1YS53ayA8IDMxMik7XHJcbiAgICB9XHJcblxyXG4gICAgLyogU2hvdyB0aGUgQWRvYmUgRXhwcmVzcyBJbnN0YWxsIGRpYWxvZ1xyXG4gICAgICAgIC0gUmVmZXJlbmNlOiBodHRwOi8vd3d3LmFkb2JlLmNvbS9jZnVzaW9uL2tub3dsZWRnZWJhc2UvaW5kZXguY2ZtP2lkPTZhMjUzYjc1XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2hvd0V4cHJlc3NJbnN0YWxsKGF0dCwgcGFyLCByZXBsYWNlRWxlbUlkU3RyLCBjYWxsYmFja0ZuKSB7XHJcblxyXG4gICAgICAgIHZhciBvYmogPSBnZXRFbGVtZW50QnlJZChyZXBsYWNlRWxlbUlkU3RyKTtcclxuXHJcbiAgICAgICAgLy9FbnN1cmUgdGhhdCByZXBsYWNlRWxlbUlkU3RyIGlzIHJlYWxseSBhIHN0cmluZyBhbmQgbm90IGFuIGVsZW1lbnRcclxuICAgICAgICByZXBsYWNlRWxlbUlkU3RyID0gZ2V0SWQocmVwbGFjZUVsZW1JZFN0cik7XHJcblxyXG4gICAgICAgIGlzRXhwcmVzc0luc3RhbGxBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHN0b3JlZENhbGxiYWNrRm4gPSBjYWxsYmFja0ZuIHx8IG51bGw7XHJcbiAgICAgICAgc3RvcmVkQ2FsbGJhY2tPYmogPSB7c3VjY2VzczogZmFsc2UsIGlkOiByZXBsYWNlRWxlbUlkU3RyfTtcclxuXHJcbiAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiT0JKRUNUXCIpIHsgLy8gc3RhdGljIHB1Ymxpc2hpbmdcclxuICAgICAgICAgICAgICAgIHN0b3JlZEZiQ29udGVudCA9IGFic3RyYWN0RmJDb250ZW50KG9iaik7XHJcbiAgICAgICAgICAgICAgICBzdG9yZWRGYkNvbnRlbnRJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIGR5bmFtaWMgcHVibGlzaGluZ1xyXG4gICAgICAgICAgICAgICAgc3RvcmVkRmJDb250ZW50ID0gb2JqO1xyXG4gICAgICAgICAgICAgICAgc3RvcmVkRmJDb250ZW50SWQgPSByZXBsYWNlRWxlbUlkU3RyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF0dC5pZCA9IEVYUFJFU1NfSU5TVEFMTF9JRDtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHQud2lkdGggPT09IFVOREVGIHx8ICghLyUkLy50ZXN0KGF0dC53aWR0aCkgJiYgdG9JbnQoYXR0LndpZHRoKSA8IDMxMCkpIHsgYXR0LndpZHRoID0gXCIzMTBcIjsgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGF0dC5oZWlnaHQgPT09IFVOREVGIHx8ICghLyUkLy50ZXN0KGF0dC5oZWlnaHQpICYmIHRvSW50KGF0dC5oZWlnaHQpIDwgMTM3KSkgeyBhdHQuaGVpZ2h0ID0gXCIxMzdcIjsgfVxyXG4gICAgICAgICAgICB2YXIgcHQgPSB1YS5pZSA/IFwiQWN0aXZlWFwiIDogXCJQbHVnSW5cIixcclxuICAgICAgICAgICAgICAgIGZ2ID0gXCJNTXJlZGlyZWN0VVJMPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbi5sb2NhdGlvbi50b1N0cmluZygpLnJlcGxhY2UoLyYvZywgXCIlMjZcIikpICsgXCImTU1wbGF5ZXJUeXBlPVwiICsgcHQgKyBcIiZNTWRvY3RpdGxlPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRvYy50aXRsZS5zbGljZSgwLCA0NykgKyBcIiAtIEZsYXNoIFBsYXllciBJbnN0YWxsYXRpb25cIik7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyLmZsYXNodmFycyAhPT0gVU5ERUYpIHtcclxuICAgICAgICAgICAgICAgIHBhci5mbGFzaHZhcnMgKz0gXCImXCIgKyBmdjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhci5mbGFzaHZhcnMgPSBmdjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJRSBvbmx5OiB3aGVuIGEgU1dGIGlzIGxvYWRpbmcgKEFORDogbm90IGF2YWlsYWJsZSBpbiBjYWNoZSkgd2FpdCBmb3IgdGhlIHJlYWR5U3RhdGUgb2YgdGhlIG9iamVjdCBlbGVtZW50IHRvIGJlY29tZSA0IGJlZm9yZSByZW1vdmluZyBpdCxcclxuICAgICAgICAgICAgLy8gYmVjYXVzZSB5b3UgY2Fubm90IHByb3Blcmx5IGNhbmNlbCBhIGxvYWRpbmcgU1dGIGZpbGUgd2l0aG91dCBicmVha2luZyBicm93c2VyIGxvYWQgcmVmZXJlbmNlcywgYWxzbyBvYmoub25yZWFkeXN0YXRlY2hhbmdlIGRvZXNuJ3Qgd29ya1xyXG4gICAgICAgICAgICBpZiAodWEuaWUgJiYgb2JqLnJlYWR5U3RhdGUgIT0gNCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld09iaiA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgICAgICByZXBsYWNlRWxlbUlkU3RyICs9IFwiU1dGT2JqZWN0TmV3XCI7XHJcbiAgICAgICAgICAgICAgICBuZXdPYmouc2V0QXR0cmlidXRlKFwiaWRcIiwgcmVwbGFjZUVsZW1JZFN0cik7XHJcbiAgICAgICAgICAgICAgICBvYmoucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3T2JqLCBvYmopOyAvLyBpbnNlcnQgcGxhY2Vob2xkZXIgZGl2IHRoYXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgb2JqZWN0IGVsZW1lbnQgdGhhdCBsb2FkcyBleHByZXNzaW5zdGFsbC5zd2ZcclxuICAgICAgICAgICAgICAgIG9iai5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVTV0Yob2JqKTsgLy9yZW1vdmVTV0YgYWNjZXB0cyBlbGVtZW50cyBub3dcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjcmVhdGVTV0YoYXR0LCBwYXIsIHJlcGxhY2VFbGVtSWRTdHIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBGdW5jdGlvbnMgdG8gYWJzdHJhY3QgYW5kIGRpc3BsYXkgZmFsbGJhY2sgY29udGVudFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGRpc3BsYXlGYkNvbnRlbnQob2JqKSB7XHJcbiAgICAgICAgaWYgKHVhLmllICYmIG9iai5yZWFkeVN0YXRlICE9IDQpIHtcclxuICAgICAgICAgICAgLy8gSUUgb25seTogd2hlbiBhIFNXRiBpcyBsb2FkaW5nIChBTkQ6IG5vdCBhdmFpbGFibGUgaW4gY2FjaGUpIHdhaXQgZm9yIHRoZSByZWFkeVN0YXRlIG9mIHRoZSBvYmplY3QgZWxlbWVudCB0byBiZWNvbWUgNCBiZWZvcmUgcmVtb3ZpbmcgaXQsXHJcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgeW91IGNhbm5vdCBwcm9wZXJseSBjYW5jZWwgYSBsb2FkaW5nIFNXRiBmaWxlIHdpdGhvdXQgYnJlYWtpbmcgYnJvd3NlciBsb2FkIHJlZmVyZW5jZXMsIGFsc28gb2JqLm9ucmVhZHlzdGF0ZWNoYW5nZSBkb2Vzbid0IHdvcmtcclxuICAgICAgICAgICAgb2JqLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgdmFyIGVsID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgb2JqLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsLCBvYmopOyAvLyBpbnNlcnQgcGxhY2Vob2xkZXIgZGl2IHRoYXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgZmFsbGJhY2sgY29udGVudFxyXG4gICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhYnN0cmFjdEZiQ29udGVudChvYmopLCBlbCk7XHJcbiAgICAgICAgICAgIHJlbW92ZVNXRihvYmopOyAvL3JlbW92ZVNXRiBhY2NlcHRzIGVsZW1lbnRzIG5vd1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2JqLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGFic3RyYWN0RmJDb250ZW50KG9iaiksIG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFic3RyYWN0RmJDb250ZW50KG9iaikge1xyXG4gICAgICAgIHZhciBhYyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgaWYgKHVhLndpbiAmJiB1YS5pZSkge1xyXG4gICAgICAgICAgICBhYy5pbm5lckhUTUwgPSBvYmouaW5uZXJIVE1MO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIG5lc3RlZE9iaiA9IG9iai5nZXRFbGVtZW50c0J5VGFnTmFtZShPQkpFQ1QpWzBdO1xyXG4gICAgICAgICAgICBpZiAobmVzdGVkT2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IG5lc3RlZE9iai5jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2wgPSBjLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY1tpXS5ub2RlVHlwZSA9PSAxICYmIGNbaV0ubm9kZU5hbWUgPT09IFwiUEFSQU1cIikgJiYgIShjW2ldLm5vZGVUeXBlID09IDgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYy5hcHBlbmRDaGlsZChjW2ldLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFjO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUllT2JqZWN0KHVybCwgcGFyYW1TdHIpIHtcclxuICAgICAgICB2YXIgZGl2ID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCI8b2JqZWN0IGNsYXNzaWQ9J2Nsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCc+PHBhcmFtIG5hbWU9J21vdmllJyB2YWx1ZT0nXCIgKyB1cmwgKyBcIic+XCIgKyBwYXJhbVN0ciArIFwiPC9vYmplY3Q+XCI7XHJcbiAgICAgICAgcmV0dXJuIGRpdi5maXJzdENoaWxkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIENyb3NzLWJyb3dzZXIgZHluYW1pYyBTV0YgY3JlYXRpb25cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVTV0YoYXR0T2JqLCBwYXJPYmosIGlkKSB7XHJcbiAgICAgICAgdmFyIHIsIGVsID0gZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIGlkID0gZ2V0SWQoaWQpOyAvLyBlbnN1cmUgaWQgaXMgdHJ1bHkgYW4gSUQgYW5kIG5vdCBhbiBlbGVtZW50XHJcblxyXG4gICAgICAgIGlmICh1YS53ayAmJiB1YS53ayA8IDMxMikgeyByZXR1cm4gcjsgfVxyXG5cclxuICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgICAgdmFyIG8gPSAodWEuaWUpID8gY3JlYXRlRWxlbWVudChcImRpdlwiKSA6IGNyZWF0ZUVsZW1lbnQoT0JKRUNUKSxcclxuICAgICAgICAgICAgICAgIGF0dHIsXHJcbiAgICAgICAgICAgICAgICBhdHRyTG93ZXIsXHJcbiAgICAgICAgICAgICAgICBwYXJhbTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0T2JqLmlkID09PSBVTkRFRikgeyAvLyBpZiBubyAnaWQnIGlzIGRlZmluZWQgZm9yIHRoZSBvYmplY3QgZWxlbWVudCwgaXQgd2lsbCBpbmhlcml0IHRoZSAnaWQnIGZyb20gdGhlIGZhbGxiYWNrIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgIGF0dE9iai5pZCA9IGlkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0FkZCBwYXJhbXNcclxuICAgICAgICAgICAgZm9yIChwYXJhbSBpbiBwYXJPYmopIHtcclxuICAgICAgICAgICAgICAgIC8vZmlsdGVyIG91dCBwcm90b3R5cGUgYWRkaXRpb25zIGZyb20gb3RoZXIgcG90ZW50aWFsIGxpYnJhcmllcyBhbmQgSUUgc3BlY2lmaWMgcGFyYW0gZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKHBhck9iai5oYXNPd25Qcm9wZXJ0eShwYXJhbSkgJiYgcGFyYW0udG9Mb3dlckNhc2UoKSAhPT0gXCJtb3ZpZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlT2JqUGFyYW0obywgcGFyYW0sIHBhck9ialtwYXJhbV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0NyZWF0ZSBJRSBvYmplY3QsIGNvbXBsZXRlIHdpdGggcGFyYW0gbm9kZXNcclxuICAgICAgICAgICAgaWYgKHVhLmllKSB7IG8gPSBjcmVhdGVJZU9iamVjdChhdHRPYmouZGF0YSwgby5pbm5lckhUTUwpOyB9XHJcblxyXG4gICAgICAgICAgICAvL0FkZCBhdHRyaWJ1dGVzIHRvIG9iamVjdFxyXG4gICAgICAgICAgICBmb3IgKGF0dHIgaW4gYXR0T2JqKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0T2JqLmhhc093blByb3BlcnR5KGF0dHIpKSB7IC8vIGZpbHRlciBvdXQgcHJvdG90eXBlIGFkZGl0aW9ucyBmcm9tIG90aGVyIHBvdGVudGlhbCBsaWJyYXJpZXNcclxuICAgICAgICAgICAgICAgICAgICBhdHRyTG93ZXIgPSBhdHRyLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICdjbGFzcycgaXMgYW4gRUNNQTQgcmVzZXJ2ZWQga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyTG93ZXIgPT09IFwic3R5bGVjbGFzc1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYXR0T2JqW2F0dHJdKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJMb3dlciAhPT0gXCJjbGFzc2lkXCIgJiYgYXR0ckxvd2VyICE9PSBcImRhdGFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRPYmpbYXR0cl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHVhLmllKSB7XHJcbiAgICAgICAgICAgICAgICBvYmpJZEFycltvYmpJZEFyci5sZW5ndGhdID0gYXR0T2JqLmlkOyAvLyBzdG9yZWQgdG8gZml4IG9iamVjdCAnbGVha3MnIG9uIHVubG9hZCAoZHluYW1pYyBwdWJsaXNoaW5nIG9ubHkpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgRkxBU0hfTUlNRV9UWVBFKTtcclxuICAgICAgICAgICAgICAgIG8uc2V0QXR0cmlidXRlKFwiZGF0YVwiLCBhdHRPYmouZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG8sIGVsKTtcclxuICAgICAgICAgICAgciA9IG87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVPYmpQYXJhbShlbCwgcE5hbWUsIHBWYWx1ZSkge1xyXG4gICAgICAgIHZhciBwID0gY3JlYXRlRWxlbWVudChcInBhcmFtXCIpO1xyXG4gICAgICAgIHAuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBwTmFtZSk7XHJcbiAgICAgICAgcC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBwVmFsdWUpO1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIENyb3NzLWJyb3dzZXIgU1dGIHJlbW92YWxcclxuICAgICAgICAtIEVzcGVjaWFsbHkgbmVlZGVkIHRvIHNhZmVseSBhbmQgY29tcGxldGVseSByZW1vdmUgYSBTV0YgaW4gSW50ZXJuZXQgRXhwbG9yZXJcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmVTV0YoaWQpIHtcclxuICAgICAgICB2YXIgb2JqID0gZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIGlmIChvYmogJiYgb2JqLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiT0JKRUNUXCIpIHtcclxuICAgICAgICAgICAgaWYgKHVhLmllKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uIHJlbW92ZVNXRkluSUUoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yZWFkeVN0YXRlID09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9UaGlzIHN0ZXAgcHJldmVudHMgbWVtb3J5IGxlYWtzIGluIEludGVybmV0IEV4cGxvcmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtpXSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2ldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVtb3ZlU1dGSW5JRSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0oKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvYmoucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzRWxlbWVudChpZCkge1xyXG4gICAgICAgIHJldHVybiAoaWQgJiYgaWQubm9kZVR5cGUgJiYgaWQubm9kZVR5cGUgPT09IDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldElkKHRoaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIChpc0VsZW1lbnQodGhpbmcpKSA/IHRoaW5nLmlkIDogdGhpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyogRnVuY3Rpb25zIHRvIG9wdGltaXplIEphdmFTY3JpcHQgY29tcHJlc3Npb25cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRFbGVtZW50QnlJZChpZCkge1xyXG5cclxuICAgICAgICAvL0FsbG93IHVzZXJzIHRvIHBhc3MgYW4gZWxlbWVudCBPUiBhbiBlbGVtZW50J3MgSURcclxuICAgICAgICBpZiAoaXNFbGVtZW50KGlkKSkgeyByZXR1cm4gaWQ7IH1cclxuXHJcbiAgICAgICAgdmFyIGVsID0gbnVsbDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBlbCA9IGRvYy5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7fVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KGVsKTtcclxuICAgIH1cclxuXHJcbiAgICAvL1RvIGFpZCBjb21wcmVzc2lvbjsgcmVwbGFjZXMgMTQgaW5zdGFuY2VzIG9mIHBhcmVzZUludCB3aXRoIHJhZGl4XHJcbiAgICBmdW5jdGlvbiB0b0ludChzdHIpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoc3RyLCAxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVXBkYXRlZCBhdHRhY2hFdmVudCBmdW5jdGlvbiBmb3IgSW50ZXJuZXQgRXhwbG9yZXJcclxuICAgICAgICAtIFN0b3JlcyBhdHRhY2hFdmVudCBpbmZvcm1hdGlvbiBpbiBhbiBBcnJheSwgc28gb24gdW5sb2FkIHRoZSBkZXRhY2hFdmVudCBmdW5jdGlvbnMgY2FuIGJlIGNhbGxlZCB0byBhdm9pZCBtZW1vcnkgbGVha3NcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0YXJnZXQsIGV2ZW50VHlwZSwgZm4pIHtcclxuICAgICAgICB0YXJnZXQuYXR0YWNoRXZlbnQoZXZlbnRUeXBlLCBmbik7XHJcbiAgICAgICAgbGlzdGVuZXJzQXJyW2xpc3RlbmVyc0Fyci5sZW5ndGhdID0gW3RhcmdldCwgZXZlbnRUeXBlLCBmbl07XHJcbiAgICB9XHJcblxyXG4gICAgLyogRmxhc2ggUGxheWVyIGFuZCBTV0YgY29udGVudCB2ZXJzaW9uIG1hdGNoaW5nXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gaGFzUGxheWVyVmVyc2lvbihydikge1xyXG4gICAgICAgIHJ2ICs9IFwiXCI7IC8vQ29lcmNlIG51bWJlciB0byBzdHJpbmcsIGlmIG5lZWRlZC5cclxuICAgICAgICB2YXIgcHYgPSB1YS5wdiwgdiA9IHJ2LnNwbGl0KFwiLlwiKTtcclxuICAgICAgICB2WzBdID0gdG9JbnQodlswXSk7XHJcbiAgICAgICAgdlsxXSA9IHRvSW50KHZbMV0pIHx8IDA7IC8vIHN1cHBvcnRzIHNob3J0IG5vdGF0aW9uLCBlLmcuIFwiOVwiIGluc3RlYWQgb2YgXCI5LjAuMFwiXHJcbiAgICAgICAgdlsyXSA9IHRvSW50KHZbMl0pIHx8IDA7XHJcbiAgICAgICAgcmV0dXJuIChwdlswXSA+IHZbMF0gfHwgKHB2WzBdID09IHZbMF0gJiYgcHZbMV0gPiB2WzFdKSB8fCAocHZbMF0gPT0gdlswXSAmJiBwdlsxXSA9PSB2WzFdICYmIHB2WzJdID49IHZbMl0pKSA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBDcm9zcy1icm93c2VyIGR5bmFtaWMgQ1NTIGNyZWF0aW9uXHJcbiAgICAgICAgLSBCYXNlZCBvbiBCb2JieSB2YW4gZGVyIFNsdWlzJyBzb2x1dGlvbjogaHR0cDovL3d3dy5ib2JieXZhbmRlcnNsdWlzLmNvbS9hcnRpY2xlcy9keW5hbWljQ1NTLnBocFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNTUyhzZWwsIGRlY2wsIG1lZGlhLCBuZXdTdHlsZSkge1xyXG4gICAgICAgIHZhciBoID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuICAgICAgICBpZiAoIWgpIHsgcmV0dXJuOyB9IC8vIHRvIGFsc28gc3VwcG9ydCBiYWRseSBhdXRob3JlZCBIVE1MIHBhZ2VzIHRoYXQgbGFjayBhIGhlYWQgZWxlbWVudFxyXG4gICAgICAgIHZhciBtID0gKHR5cGVvZiBtZWRpYSA9PT0gXCJzdHJpbmdcIikgPyBtZWRpYSA6IFwic2NyZWVuXCI7XHJcbiAgICAgICAgaWYgKG5ld1N0eWxlKSB7XHJcbiAgICAgICAgICAgIGR5bmFtaWNTdHlsZXNoZWV0ID0gbnVsbDtcclxuICAgICAgICAgICAgZHluYW1pY1N0eWxlc2hlZXRNZWRpYSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZHluYW1pY1N0eWxlc2hlZXQgfHwgZHluYW1pY1N0eWxlc2hlZXRNZWRpYSAhPSBtKSB7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBkeW5hbWljIHN0eWxlc2hlZXQgKyBnZXQgYSBnbG9iYWwgcmVmZXJlbmNlIHRvIGl0XHJcbiAgICAgICAgICAgIHZhciBzID0gY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgICAgICBzLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0L2Nzc1wiKTtcclxuICAgICAgICAgICAgcy5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtKTtcclxuICAgICAgICAgICAgZHluYW1pY1N0eWxlc2hlZXQgPSBoLmFwcGVuZENoaWxkKHMpO1xyXG4gICAgICAgICAgICBpZiAodWEuaWUgJiYgdHlwZW9mIGRvYy5zdHlsZVNoZWV0cyAhPT0gVU5ERUYgJiYgZG9jLnN0eWxlU2hlZXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNTdHlsZXNoZWV0ID0gZG9jLnN0eWxlU2hlZXRzW2RvYy5zdHlsZVNoZWV0cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkeW5hbWljU3R5bGVzaGVldE1lZGlhID0gbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWRkIHN0eWxlIHJ1bGVcclxuICAgICAgICBpZiAoZHluYW1pY1N0eWxlc2hlZXQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkeW5hbWljU3R5bGVzaGVldC5hZGRSdWxlICE9PSBVTkRFRikge1xyXG4gICAgICAgICAgICAgICAgZHluYW1pY1N0eWxlc2hlZXQuYWRkUnVsZShzZWwsIGRlY2wpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2MuY3JlYXRlVGV4dE5vZGUgIT09IFVOREVGKSB7XHJcbiAgICAgICAgICAgICAgICBkeW5hbWljU3R5bGVzaGVldC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoc2VsICsgXCIge1wiICsgZGVjbCArIFwifVwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VmlzaWJpbGl0eShpZCwgaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgaWYgKCFhdXRvSGlkZVNob3cpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgdmFyIHYgPSBpc1Zpc2libGUgPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCIsXHJcbiAgICAgICAgICAgIGVsID0gZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIGlmIChpc0RvbUxvYWRlZCAmJiBlbCkge1xyXG4gICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gdjtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBjcmVhdGVDU1MoXCIjXCIgKyBpZCwgXCJ2aXNpYmlsaXR5OlwiICsgdik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIEZpbHRlciB0byBhdm9pZCBYU1MgYXR0YWNrc1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHVybEVuY29kZUlmTmVjZXNzYXJ5KHMpIHtcclxuICAgICAgICB2YXIgcmVnZXggPSAvW1xcXFxcXFwiPD5cXC47XS87XHJcbiAgICAgICAgdmFyIGhhc0JhZENoYXJzID0gcmVnZXguZXhlYyhzKSAhPT0gbnVsbDtcclxuICAgICAgICByZXR1cm4gaGFzQmFkQ2hhcnMgJiYgdHlwZW9mIGVuY29kZVVSSUNvbXBvbmVudCAhPT0gVU5ERUYgPyBlbmNvZGVVUklDb21wb25lbnQocykgOiBzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFJlbGVhc2UgbWVtb3J5IHRvIGF2b2lkIG1lbW9yeSBsZWFrcyBjYXVzZWQgYnkgY2xvc3VyZXMsIGZpeCBoYW5naW5nIGF1ZGlvL3ZpZGVvIHRocmVhZHMgYW5kIGZvcmNlIG9wZW4gc29ja2V0cy9OZXRDb25uZWN0aW9ucyB0byBkaXNjb25uZWN0IChJbnRlcm5ldCBFeHBsb3JlciBvbmx5KVxyXG4gICAgKi9cclxuICAgIHZhciBjbGVhbnVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh1YS5pZSkge1xyXG4gICAgICAgICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXJzIHRvIGF2b2lkIG1lbW9yeSBsZWFrc1xyXG4gICAgICAgICAgICAgICAgdmFyIGxsID0gbGlzdGVuZXJzQXJyLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyc0FycltpXVswXS5kZXRhY2hFdmVudChsaXN0ZW5lcnNBcnJbaV1bMV0sIGxpc3RlbmVyc0FycltpXVsyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGR5bmFtaWNhbGx5IGVtYmVkZGVkIG9iamVjdHMgdG8gZml4IGF1ZGlvL3ZpZGVvIHRocmVhZHMgYW5kIGZvcmNlIG9wZW4gc29ja2V0cyBhbmQgTmV0Q29ubmVjdGlvbnMgdG8gZGlzY29ubmVjdFxyXG4gICAgICAgICAgICAgICAgdmFyIGlsID0gb2JqSWRBcnIubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlU1dGKG9iaklkQXJyW2pdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgbGlicmFyeSdzIG1haW4gY2xvc3VyZXMgdG8gYXZvaWQgbWVtb3J5IGxlYWtzXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIHVhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdWFba10gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdWEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbCBpbiBzd2ZvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2ZvYmplY3RbbF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3dmb2JqZWN0ID0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSgpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLyogUHVibGljIEFQSVxyXG4gICAgICAgICAgICAtIFJlZmVyZW5jZTogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL3N3Zm9iamVjdC93aWtpL2RvY3VtZW50YXRpb25cclxuICAgICAgICAqL1xyXG4gICAgICAgIHJlZ2lzdGVyT2JqZWN0OiBmdW5jdGlvbiAob2JqZWN0SWRTdHIsIHN3ZlZlcnNpb25TdHIsIHhpU3dmVXJsU3RyLCBjYWxsYmFja0ZuKSB7XHJcbiAgICAgICAgICAgIGlmICh1YS53MyAmJiBvYmplY3RJZFN0ciAmJiBzd2ZWZXJzaW9uU3RyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVnT2JqID0ge307XHJcbiAgICAgICAgICAgICAgICByZWdPYmouaWQgPSBvYmplY3RJZFN0cjtcclxuICAgICAgICAgICAgICAgIHJlZ09iai5zd2ZWZXJzaW9uID0gc3dmVmVyc2lvblN0cjtcclxuICAgICAgICAgICAgICAgIHJlZ09iai5leHByZXNzSW5zdGFsbCA9IHhpU3dmVXJsU3RyO1xyXG4gICAgICAgICAgICAgICAgcmVnT2JqLmNhbGxiYWNrRm4gPSBjYWxsYmFja0ZuO1xyXG4gICAgICAgICAgICAgICAgcmVnT2JqQXJyW3JlZ09iakFyci5sZW5ndGhdID0gcmVnT2JqO1xyXG4gICAgICAgICAgICAgICAgc2V0VmlzaWJpbGl0eShvYmplY3RJZFN0ciwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhbGxiYWNrRm4pIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrRm4oe3N1Y2Nlc3M6IGZhbHNlLCBpZDogb2JqZWN0SWRTdHJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldE9iamVjdEJ5SWQ6IGZ1bmN0aW9uIChvYmplY3RJZFN0cikge1xyXG4gICAgICAgICAgICBpZiAodWEudzMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRPYmplY3RCeUlkKG9iamVjdElkU3RyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVtYmVkU1dGOiBmdW5jdGlvbiAoc3dmVXJsU3RyLCByZXBsYWNlRWxlbUlkU3RyLCB3aWR0aFN0ciwgaGVpZ2h0U3RyLCBzd2ZWZXJzaW9uU3RyLCB4aVN3ZlVybFN0ciwgZmxhc2h2YXJzT2JqLCBwYXJPYmosIGF0dE9iaiwgY2FsbGJhY2tGbikge1xyXG5cclxuICAgICAgICAgICAgdmFyIGlkID0gZ2V0SWQocmVwbGFjZUVsZW1JZFN0ciksXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja09iaiA9IHtzdWNjZXNzOiBmYWxzZSwgaWQ6IGlkfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh1YS53MyAmJiAhKHVhLndrICYmIHVhLndrIDwgMzEyKSAmJiBzd2ZVcmxTdHIgJiYgcmVwbGFjZUVsZW1JZFN0ciAmJiB3aWR0aFN0ciAmJiBoZWlnaHRTdHIgJiYgc3dmVmVyc2lvblN0cikge1xyXG4gICAgICAgICAgICAgICAgc2V0VmlzaWJpbGl0eShpZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgYWRkRG9tTG9hZEV2ZW50KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aFN0ciArPSBcIlwiOyAvLyBhdXRvLWNvbnZlcnQgdG8gc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0U3RyICs9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRPYmogJiYgdHlwZW9mIGF0dE9iaiA9PT0gT0JKRUNUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gYXR0T2JqKSB7IC8vIGNvcHkgb2JqZWN0IHRvIGF2b2lkIHRoZSB1c2Ugb2YgcmVmZXJlbmNlcywgYmVjYXVzZSB3ZWIgYXV0aG9ycyBvZnRlbiByZXVzZSBhdHRPYmogZm9yIG11bHRpcGxlIFNXRnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dFtpXSA9IGF0dE9ialtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBhdHQuZGF0YSA9IHN3ZlVybFN0cjtcclxuICAgICAgICAgICAgICAgICAgICBhdHQud2lkdGggPSB3aWR0aFN0cjtcclxuICAgICAgICAgICAgICAgICAgICBhdHQuaGVpZ2h0ID0gaGVpZ2h0U3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyT2JqICYmIHR5cGVvZiBwYXJPYmogPT09IE9CSkVDVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqIGluIHBhck9iaikgeyAvLyBjb3B5IG9iamVjdCB0byBhdm9pZCB0aGUgdXNlIG9mIHJlZmVyZW5jZXMsIGJlY2F1c2Ugd2ViIGF1dGhvcnMgb2Z0ZW4gcmV1c2UgcGFyT2JqIGZvciBtdWx0aXBsZSBTV0ZzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJbal0gPSBwYXJPYmpbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYXNodmFyc09iaiAmJiB0eXBlb2YgZmxhc2h2YXJzT2JqID09PSBPQkpFQ1QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayBpbiBmbGFzaHZhcnNPYmopIHsgLy8gY29weSBvYmplY3QgdG8gYXZvaWQgdGhlIHVzZSBvZiByZWZlcmVuY2VzLCBiZWNhdXNlIHdlYiBhdXRob3JzIG9mdGVuIHJldXNlIGZsYXNodmFyc09iaiBmb3IgbXVsdGlwbGUgU1dGc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZsYXNodmFyc09iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gKGVuY29kZVVSSUVuYWJsZWQpID8gZW5jb2RlVVJJQ29tcG9uZW50KGspIDogayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAoZW5jb2RlVVJJRW5hYmxlZCkgPyBlbmNvZGVVUklDb21wb25lbnQoZmxhc2h2YXJzT2JqW2tdKSA6IGZsYXNodmFyc09ialtrXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXIuZmxhc2h2YXJzICE9PSBVTkRFRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXIuZmxhc2h2YXJzICs9IFwiJlwiICsga2V5ICsgXCI9XCIgKyB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhci5mbGFzaHZhcnMgPSBrZXkgKyBcIj1cIiArIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1BsYXllclZlcnNpb24oc3dmVmVyc2lvblN0cikpIHsgLy8gY3JlYXRlIFNXRlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gY3JlYXRlU1dGKGF0dCwgcGFyLCByZXBsYWNlRWxlbUlkU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dC5pZCA9PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmlzaWJpbGl0eShpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tPYmouc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrT2JqLnJlZiA9IG9iajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tPYmouaWQgPSBvYmouaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHhpU3dmVXJsU3RyICYmIGNhbkV4cHJlc3NJbnN0YWxsKCkpIHsgLy8gc2hvdyBBZG9iZSBFeHByZXNzIEluc3RhbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0LmRhdGEgPSB4aVN3ZlVybFN0cjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0V4cHJlc3NJbnN0YWxsKGF0dCwgcGFyLCByZXBsYWNlRWxlbUlkU3RyLCBjYWxsYmFja0ZuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gc2hvdyBmYWxsYmFjayBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZpc2liaWxpdHkoaWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tGbikgeyBjYWxsYmFja0ZuKGNhbGxiYWNrT2JqKTsgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2FsbGJhY2tGbikgeyBjYWxsYmFja0ZuKGNhbGxiYWNrT2JqKTsgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHN3aXRjaE9mZkF1dG9IaWRlU2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhdXRvSGlkZVNob3cgPSBmYWxzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBlbmFibGVVcmlFbmNvZGluZzogZnVuY3Rpb24gKGJvb2wpIHtcclxuICAgICAgICAgICAgZW5jb2RlVVJJRW5hYmxlZCA9ICh0eXBlb2YgYm9vbCA9PT0gVU5ERUYpID8gdHJ1ZSA6IGJvb2w7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgdWE6IHVhLFxyXG5cclxuICAgICAgICBnZXRGbGFzaFBsYXllclZlcnNpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHttYWpvcjogdWEucHZbMF0sIG1pbm9yOiB1YS5wdlsxXSwgcmVsZWFzZTogdWEucHZbMl19O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhhc0ZsYXNoUGxheWVyVmVyc2lvbjogaGFzUGxheWVyVmVyc2lvbixcclxuXHJcbiAgICAgICAgY3JlYXRlU1dGOiBmdW5jdGlvbiAoYXR0T2JqLCBwYXJPYmosIHJlcGxhY2VFbGVtSWRTdHIpIHtcclxuICAgICAgICAgICAgaWYgKHVhLnczKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlU1dGKGF0dE9iaiwgcGFyT2JqLCByZXBsYWNlRWxlbUlkU3RyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzaG93RXhwcmVzc0luc3RhbGw6IGZ1bmN0aW9uIChhdHQsIHBhciwgcmVwbGFjZUVsZW1JZFN0ciwgY2FsbGJhY2tGbikge1xyXG4gICAgICAgICAgICBpZiAodWEudzMgJiYgY2FuRXhwcmVzc0luc3RhbGwoKSkge1xyXG4gICAgICAgICAgICAgICAgc2hvd0V4cHJlc3NJbnN0YWxsKGF0dCwgcGFyLCByZXBsYWNlRWxlbUlkU3RyLCBjYWxsYmFja0ZuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlbW92ZVNXRjogZnVuY3Rpb24gKG9iakVsZW1JZFN0cikge1xyXG4gICAgICAgICAgICBpZiAodWEudzMpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVNXRihvYmpFbGVtSWRTdHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY3JlYXRlQ1NTOiBmdW5jdGlvbiAoc2VsU3RyLCBkZWNsU3RyLCBtZWRpYVN0ciwgbmV3U3R5bGVCb29sZWFuKSB7XHJcbiAgICAgICAgICAgIGlmICh1YS53Mykge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlQ1NTKHNlbFN0ciwgZGVjbFN0ciwgbWVkaWFTdHIsIG5ld1N0eWxlQm9vbGVhbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhZGREb21Mb2FkRXZlbnQ6IGFkZERvbUxvYWRFdmVudCxcclxuXHJcbiAgICAgICAgYWRkTG9hZEV2ZW50OiBhZGRMb2FkRXZlbnQsXHJcblxyXG4gICAgICAgIGdldFF1ZXJ5UGFyYW1WYWx1ZTogZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgICAgICAgIHZhciBxID0gZG9jLmxvY2F0aW9uLnNlYXJjaCB8fCBkb2MubG9jYXRpb24uaGFzaDtcclxuICAgICAgICAgICAgaWYgKHEpIHtcclxuICAgICAgICAgICAgICAgIGlmICgvXFw/Ly50ZXN0KHEpKSB7IHEgPSBxLnNwbGl0KFwiP1wiKVsxXTsgfSAvLyBzdHJpcCBxdWVzdGlvbiBtYXJrXHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybEVuY29kZUlmTmVjZXNzYXJ5KHEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHBhaXJzID0gcS5zcGxpdChcIiZcIik7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhaXJzW2ldLnN1YnN0cmluZygwLCBwYWlyc1tpXS5pbmRleE9mKFwiPVwiKSkgPT0gcGFyYW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybEVuY29kZUlmTmVjZXNzYXJ5KHBhaXJzW2ldLnN1YnN0cmluZygocGFpcnNbaV0uaW5kZXhPZihcIj1cIikgKyAxKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBGb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxyXG4gICAgICAgIGV4cHJlc3NJbnN0YWxsQ2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlzRXhwcmVzc0luc3RhbGxBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSBnZXRFbGVtZW50QnlJZChFWFBSRVNTX0lOU1RBTExfSUQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iaiAmJiBzdG9yZWRGYkNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmoucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoc3RvcmVkRmJDb250ZW50LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZWRGYkNvbnRlbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWaXNpYmlsaXR5KHN0b3JlZEZiQ29udGVudElkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVhLmllKSB7IHN0b3JlZEZiQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZWRDYWxsYmFja0ZuKSB7IHN0b3JlZENhbGxiYWNrRm4oc3RvcmVkQ2FsbGJhY2tPYmopOyB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpc0V4cHJlc3NJbnN0YWxsQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB2ZXJzaW9uOiBcIjIuM1wiXHJcblxyXG4gICAgfTtcclxufSkpO1xyXG4iXX0="}