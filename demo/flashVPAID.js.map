{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/flashVPAID.js","js/IVPAID.js","js/utils.js"],"names":[],"mappings":"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","file":"flashVPAID.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","//if this code already run once don't do anything\n(function () {\nif (window.FlashVPAID) return;\n\nlet IVPAID = require('./IVPAID').IVPAID;\nlet noop = require('./utils').noop;\nlet unique = require('./utils').unique;\nlet isPositiveInt = require('./utils').isPositiveInt;\nlet createElementWithID = require('./utils').createElementWithID;\nlet uniqueVPAID = unique('vpaid');\nlet instances = {};\n\nconst ERROR = 'error';\nconst VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\n\n\nclass FlashVPAID extends IVPAID {\n    constructor (vpaidWrapper, callback, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}, version = '9', params = { wmode: 'transparent', salign: 'tl', allowScriptAccess: 'always'}, debug = false) {\n        super();\n\n        this._handlers = {};\n        this._callbacks = {};\n        this._vpaidWrapper = vpaidWrapper;\n        this._flashID = uniqueVPAID();\n        this._load =  callback || noop;\n\n\n        //validate the height\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        //cache sizes\n        this._width = swfConfig.width;\n        this._height = swfConfig.height;\n\n\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        createElementWithID(vpaidWrapper, this._flashID);\n\n        //because flash externalInterface will call\n        instances[this._flashID] = this;\n\n        params.movie = swfConfig.data;\n        params.FlashVars = `flashid=${this._flashID}&handler=${VPAID_FLASH_HANDLER}&debug=${debug}`;\n\n        if (swfobject.hasFlashPlayerVersion(version)) {\n            this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n        }\n\n        //if this.el is undefined means swfobject failed to create the swfobject\n        if (!this.el) return this;\n    }\n\n    //internal methods don't call outside of FlashVPAID\n    _safeFlashMethod(methodName, args = [], callback = undefined) {\n        var callbackID = '';\n        // if no callback, some methods the return is void so they don't need callback\n        if (callback) {\n            var callbackID = this._uniqueMethodIdentifier();\n            this._callbacks[callbackID] = callback;\n        }\n\n\n        try {\n            //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n            //this code will throw an error\n            this.el[methodName]([callbackID].concat(args));\n\n        } catch (e) {\n            if (callback) {\n                delete this.callback[callbackID];\n                callback(e);\n            } else {\n\n                //if there isn't any callback to return error use error event handler\n                this._fireEvent(ERROR, [e]);\n            }\n        }\n    }\n\n    _fireEvent(eventName, err, result) {\n        //TODO: check if forEach and isArray is added to the browser with babeljs\n        if (Array.isArray(this._handlers[eventName])) {\n            this._handlers[eventName].forEach(function (callback) {\n                setTimeout(function () {\n                    callback(err, result);\n                }, 0);\n            });\n        }\n    }\n\n    _flash_handShake (error, message) {\n        this._load(error, message);\n    }\n\n    _flash_methodAnswer(methodName, callbackID, err, result) {\n\n        //not all methods callback's are mandatory\n        if (callbackID === '' || !this._callbacks[callbackID]) {\n            //but if there exist an error, fire the error event\n            if (err) this._fireEvent(ERROR, err, result);\n            return;\n        }\n\n        this._callbacks[callbackID](err, result);\n        delete this._callbacks[callbackID];\n    }\n\n    //methods like properties specific to this implementation of VPAID\n    getSize() {\n        return {width: this._width, height: this._height};\n    }\n    setSize(newWidth, newHeight) {\n        this._width = isPositiveInt(newWidth, this._width);\n        this._height = isPositiveInt(newHeight, this._height);\n        this._el.setAttribute('width', this._width);\n        this._el.setAttribute('height', this._height);\n    }\n    getWidth() {\n        return this._width;\n    }\n    setWidth(newWidth) {\n        this.setSize(newWidth, this._height);\n    }\n    getHeight() {\n        return this._height;\n    }\n    setHeight(newHeight) {\n        this.setSize(this._width, newHeight);\n    }\n    getFlashID() {\n        return this._flashID;\n    }\n\n    //methods specific to this implementation of VPAID\n    on(eventName, callback) {\n        if (!this._handlers[eventName]) {\n            this._handlers[eventName] = [];\n        }\n        this._handlers[eventName].push(callback);\n    }\n\n    loadAdUnit(adURL, callback) {\n        this._safeFlashMethod('loadAdUnit', [adURL], callback);\n    }\n    unloadAdUnit(callback = undefined) {\n        this._safeFlashMethod('unloadAdUnit', [], callback);\n    }\n\n    //VPAID methods and properties of VPAID spec\n    //async methods\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {\n        this._safeFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n    }\n    initAd (viewMode, desiredBitrate, width = 0, height = 0, creativeData = '', environmentVars = '', callback = undefined) {\n        //resize element that has the flash object\n        this.size(width, height);\n\n        this._safeFlashMethod('initAd', [this.getWidth(), this.getHeight(), viewMode, desiredBitrate, creativeData, environmentVars], callback);\n    }\n    resizeAd(width, height, viewMode, callback = undefined) {\n        //resize element that has the flash object\n        this.size(width, height);\n\n        //resize ad inside the flash\n        this._safeFlashMethod('resizeAd', [this.getWidth(), this.getHeight(), viewMode], callback);\n    }\n    startAd(callback = undefined) {\n        this._safeFlashMethod('startAd', [], callback);\n    }\n    stopAd(callback = undefined) {\n        this._safeFlashMethod('stopAd', [], callback);\n    }\n    pauseAd(callback = undefined) {\n        this._safeFlashMethod('pauseAd', [], callback);\n    }\n    resumeAd(callback = undefined) {\n        this._safeFlashMethod('resumeAd', [], callback);\n    }\n    expandAd(callback = undefined) {\n        this._safeFlashMethod('expandAd', [], callback);\n    }\n    collapseAd(callback = undefined) {\n        this._safeFlashMethod('collapseAd', [], callback);\n    }\n    skipAd(callback = undefined) {\n        this._safeFlashMethod('skipAd', [], callback);\n    }\n\n    //properties that will be treat as async methods\n    adLinear(callback) {\n        this._safeFlashMethod('adLinear', [], callback);\n    }\n    adWidth(callback) {\n        this._safeFlashMethod('adWidth', [], callback);\n    }\n    adHeight(callback) {\n        this._safeFlashMethod('adHeight', [], callback);\n    }\n    adExpanded(callback) {\n        this._safeFlashMethod('adExpanded', [], callback);\n    }\n    adSkippableState(callback) {\n        this._safeFlashMethod('adSkippableState', [], callback);\n    }\n    adRemainingTime(callback) {\n        this._safeFlashMethod('adRemainingTime', [], callback);\n    }\n    adDuration(callback) {\n        this._safeFlashMethod('adDuration', [], callback);\n    }\n\n    setAdVolume(volume, callback = undefined) {\n        this._safeFlashMethod('setAdVolume', [volume], callback);\n    }\n    getAdVolume(callback) {\n        this._safeFlashMethod('getAdVolume', [], callback);\n    }\n\n    adCompanions(callback) {\n        this._safeFlashMethod('adCompanions', [], callback);\n    }\n    adIcons(callback) {\n        this._safeFlashMethod('adIcons', [], callback);\n    }\n}\n\nwindow[VPAID_FLASH_HANDLER] = function (flashID, type, event, callID, error, data) {\n    if (event === 'handShake') {\n        instances[flashID]._flash_handShake(error, data);\n    } else {\n        if (type !== 'event') {\n            instances[flashID]._flash_methodAnswer(event, callID, error, data);\n        } else {\n            instances[flashID]._fireEvent(event, error, data);\n        }\n    }\n}\nwindow.FlashVPAID = FlashVPAID;\n\n})();\n\n","//simple representation of the API\nexport class IVPAID {\n\n    //custom implementation, sync methods\n    getSize() {}\n    setSize(width, height) {}\n    getWidth() {}\n    setWidth(w) {}\n    getHeight() {}\n    setHeight(h) {}\n\n    getFlashID() {}\n\n    on(eventName, callback) {}\n\n    loadAdUnit(adURL, callback) {}\n    unloadAdUnit(callback = undefined) {}\n\n    //all methods below\n    //are async methods\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {}\n\n    //width and height is not in the beginning because we will use the default width/height used in the constructor\n    initAd (viewMode, desiredBitrate, width = 0, height = 0, creativeData = '', environmentVars = '', callback = undefined) {}\n    resizeAd(width, height, viewMode, callback = undefined) {}\n\n    startAd(callback = undefined) {}\n    stopAd(callback = undefined) {}\n    pauseAd(callback = undefined) {}\n    resumeAd(callback = undefined) {}\n    expandAd(callback = undefined) {}\n    collapseAd(callback = undefined) {}\n    skipAd(callback = undefined) {}\n\n    //properties that will be treat as async methods\n    adLinear(callback) {}\n    adWidth(callback) {}\n    adHeight(callback) {}\n    adExpanded(callback) {}\n    adSkippableState(callback) {}\n    adRemainingTime(callback) {}\n    adDuration(callback) {}\n    setAdVolume(soundVolume, callback = undefined) {}\n    getAdVolume(callback) {}\n    adCompanions(callback) {}\n    adIcons(callback) {}\n}\n\n/*\nALL Events that can be subscribed\nAdLoaded\nAdStarted\nAdStopped\nAdSkipped\nAdSkippableStateChange\nAdSizeChange\nAdLinearChange\nAdDurationChange\nAdExpandedChange\nAdRemainingTimeChange [Deprecated in 2.0] but will be still fired for backwards compatibility\nAdVolumeChange\nAdImpression\nAdVideoStart, AdVideoFirstQuartile, AdVideoMidpoint, AdVideoThirdQuartile,\nAdVideoComplete\nAdClickThru\nAdInteraction\nAdUserAcceptInvitation, AdUserMinimize, AdUserClose\nAdPaused, AdPlaying\nAdLog\nAdError\n*/\n\n","'use strict'\n\nexport function unique(prefix) {\n    let count = -1;\n    return f => {\n        return `${prefix}_${++count}`;\n    };\n}\n\nexport function noop() {\n}\n\n\nexport function createElementWithID(parent, id) {\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nexport function isPositiveInt(newVal, oldVal) {\n    return Number.isSafeInteger(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\n"]}