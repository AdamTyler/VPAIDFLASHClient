{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/flashVPAID.js","js/VPAID.js","js/creative.js","js/flashWrapper.js","js/utils.js"],"names":[],"mappings":"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","file":"flashVPAID.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","//if this code already run once don't do anything\nlet FlashVPAID = (function () {\nif (window.FlashVPAID) return;\n\nlet FlashWrapper = require('./flashWrapper').FlashWrapper;\nlet Creative = require('./creative').Creative;\n\nlet noop = require('./utils').noop;\nlet isPositiveInt = require('./utils').isPositiveInt;\nlet createElementWithID = require('./utils').createElementWithID;\nlet uniqueVPAID = require('./utils').unique('vpaid');\nlet instances = {};\n\nconst ERROR = 'error';\nconst VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\n\n\nclass FlashVPAID {\n    constructor (vpaidParentEl, callback, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}, version = '9', params = { wmode: 'transparent', salign: 'tl', allowScriptAccess: 'always'}, debug = true) {\n        if (!swfobject) throw new Error('no swfobject in global scope. check: https://github.com/swfobject/swfobject or https://code.google.com/p/swfobject/');\n\n        this._vpaidParentEl = vpaidParentEl;\n        this._flashID = uniqueVPAID();\n        this._load =  callback || noop;\n\n\n        //validate the height\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        createElementWithID(vpaidParentEl, this._flashID);\n\n        //because flash externalInterface will call\n        instances[this._flashID] = this;\n\n        params.movie = swfConfig.data;\n        params.FlashVars = `flashid=${this._flashID}&handler=${VPAID_FLASH_HANDLER}&debug=${debug}`;\n\n        if (swfobject.hasFlashPlayerVersion(version)) {\n            this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n            this._flash = new FlashWrapper(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height);\n        }\n\n    }\n\n    _flash_handShake (error, message) {\n        this._load(error, message);\n    }\n\n    loadAdUnit(adURL, callback) {\n        if (this._creative) {\n            throw new error('creative still exists');\n        }\n\n        this._creativeLoad = (err, message) => {\n            if (!err) {\n                this._creative = new Creative(this._flash);\n            }\n            this._creativeLoad = null;\n            callback(err, this._creative);\n        };\n\n        this._flash.callFlashMethod('loadAdUnit', [adURL], this._creativeLoad);\n    }\n    unloadAdUnit(callback = undefined) {\n        if (!this._creative) {\n            throw new Error(\"Can't unload a creative that doesn't exist\");\n        }\n\n        this._creative = null;\n\n        if (this._creativeLoad) {\n            this.removeCallback(this._creativeLoad);\n            this._creativeLoad = null;\n        }\n\n        this._flash.callFlashMethod('unloadAdUnit', [], callback);\n    }\n    getFlashID() {\n        return this._flash.getFlashID();\n    }\n    getFlashURL() {\n        return this._flash.getFlashURL();\n    }\n}\n\nObject.defineProperty(FlashVPAID, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\nwindow[VPAID_FLASH_HANDLER] = (flashID, type, event, callID, error, data) => {\n    if (event === 'handShake') {\n        instances[flashID]._flash_handShake(error, data);\n    } else {\n        if (type !== 'event') {\n            instances[flashID]._flash.callCallback(event, callID, error, data);\n        } else {\n            instances[flashID]._flash.trigger(event, error, data);\n        }\n    }\n}\nwindow.FlashVPAID = FlashVPAID;\n\nreturn FlashVPAID;\n})();\n\nmodule.exports =  FlashVPAID;\n\n","//simple representation of the API\nexport class IVPAID {\n    //all methods below\n    //are async methods\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {}\n\n    //width and height is not in the beginning because we will use the default width/height used in the constructor\n    initAd (viewMode, desiredBitrate, width = 0, height = 0, creativeData = '', environmentVars = '', callback = undefined) {}\n    resizeAd(width, height, viewMode, callback = undefined) {}\n\n    startAd(callback = undefined) {}\n    stopAd(callback = undefined) {}\n    pauseAd(callback = undefined) {}\n    resumeAd(callback = undefined) {}\n    expandAd(callback = undefined) {}\n    collapseAd(callback = undefined) {}\n    skipAd(callback = undefined) {}\n\n    //properties that will be treat as async methods\n    adLinear(callback) {}\n    adWidth(callback) {}\n    adHeight(callback) {}\n    adExpanded(callback) {}\n    adSkippableState(callback) {}\n    adRemainingTime(callback) {}\n    adDuration(callback) {}\n    setAdVolume(soundVolume, callback = undefined) {}\n    getAdVolume(callback) {}\n    adCompanions(callback) {}\n    adIcons(callback) {}\n}\n\n//ALL events that can be subscribed\nexport let ALL_EVENTS = [\n    'AdLoaded',\n    'AdStarted',\n    'AdStopped',\n    'AdSkipped',\n    'AdSkippableStateChange',\n    'AdSizeChange',\n    'AdLinearChange',\n    'AdDurationChange',\n    'AdExpandedChange',\n    'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange',\n    'AdImpression',\n    'AdVideoStart',\n    'AdVideoFirstQuartile',\n    'AdVideoMidpoint',\n    'AdVideoThirdQuartile',\n    'AdVideoComplete',\n    'AdClickThru',\n    'AdInteraction',\n    'AdUserAcceptInvitation',\n    'AdUserMinimize',\n    'AdUserClose',\n    'AdPaused',\n    'AdPlaying',\n    'AdLog',\n    'AdError'\n];\n\n","let IVPAID = require('./VPAID').IVPAID;\n\nexport class Creative extends IVPAID {\n    constructor (flash) {\n        super();\n        this._flash = flash;\n    }\n\n    on(eventName, callback) {\n        this._flash.on(eventName, callback);\n    }\n\n    //VPAID interface\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {\n        this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n    }\n    initAd (viewMode, desiredBitrate, width = 0, height = 0, creativeData = '', environmentVars = '', callback = undefined) {\n        //resize element that has the flash object\n        this._flash.setSize(width, height);\n\n        this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData, environmentVars], callback);\n    }\n    resizeAd(width, height, viewMode, callback = undefined) {\n        //resize element that has the flash object\n        this._flash.setSize(width, height);\n\n        //resize ad inside the flash\n        this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n    }\n    startAd(callback = undefined) {\n        this._flash.callFlashMethod('startAd', [], callback);\n    }\n    stopAd(callback = undefined) {\n        this._flash.callFlashMethod('stopAd', [], callback);\n    }\n    pauseAd(callback = undefined) {\n        this._flash.callFlashMethod('pauseAd', [], callback);\n    }\n    resumeAd(callback = undefined) {\n        this._flash.callFlashMethod('resumeAd', [], callback);\n    }\n    expandAd(callback = undefined) {\n        this._flash.callFlashMethod('expandAd', [], callback);\n    }\n    collapseAd(callback = undefined) {\n        this._flash.callFlashMethod('collapseAd', [], callback);\n    }\n    skipAd(callback = undefined) {\n        this._flash.callFlashMethod('skipAd', [], callback);\n    }\n\n    //properties that will be treat as async methods\n    adLinear(callback) {\n        this._flash.callFlashMethod('adLinear', [], callback);\n    }\n    adWidth(callback) {\n        this._flash.callFlashMethod('adWidth', [], callback);\n    }\n    adHeight(callback) {\n        this._flash.callFlashMethod('adHeight', [], callback);\n    }\n    adExpanded(callback) {\n        this._flash.callFlashMethod('adExpanded', [], callback);\n    }\n    adSkippableState(callback) {\n        this._flash.callFlashMethod('adSkippableState', [], callback);\n    }\n    adRemainingTime(callback) {\n        this._flash.callFlashMethod('adRemainingTime', [], callback);\n    }\n    adDuration(callback) {\n        this._flash.callFlashMethod('adDuration', [], callback);\n    }\n\n    setAdVolume(volume, callback = undefined) {\n        this._flash.callFlashMethod('setAdVolume', [volume], callback);\n    }\n    getAdVolume(callback) {\n        this._flash.callFlashMethod('getAdVolume', [], callback);\n    }\n\n    adCompanions(callback) {\n        this._flash.callFlashMethod('adCompanions', [], callback);\n    }\n    adIcons(callback) {\n        this._flash.callFlashMethod('adIcons', [], callback);\n    }\n}\n\n","let unique = require('./utils').unique;\nlet isPositiveInt = require('./utils').isPositiveInt;\nconst ERROR = 'error';\n\nexport class FlashWrapper {\n    constructor (el, flashURL, flashID, width, height) {\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = {};\n        this._callbacks = {};\n        this._uniqueMethodIdentifier = unique(this._flashID);\n    }\n\n    on(eventName, callback) {\n        if (!this._handlers[eventName]) {\n            this._handlers[eventName] = [];\n        }\n        this._handlers[eventName].push(callback);\n    }\n\n    off(eventName, callback) {\n        if (!this._handlers[eventName]) { return; }\n\n        var index = this._handlers[eventName].indexOf(callback);\n\n        if (index < 0) { return; }\n        return this._handlers[eventName].splice(index, 1);\n    }\n\n    offEvent(eventName) {\n        if (!this._handlers[eventName]) { return; }\n\n        return this._handlers[eventName].splice(0, this._handlers[eventName].length);\n    }\n\n    offAll() {\n        var old = this._handlers;\n        this._handlers = {};\n        return old;\n    }\n\n    callFlashMethod(methodName, args = [], callback = undefined) {\n        var callbackID = '';\n        // if no callback, some methods the return is void so they don't need callback\n        if (callback) {\n            var callbackID = this._uniqueMethodIdentifier();\n            this._callbacks[callbackID] = callback;\n        }\n\n\n        try {\n            //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n            //this code will throw an error\n            this._el[methodName]([callbackID].concat(args));\n\n        } catch (e) {\n            if (callback) {\n                delete this._callbacks[callbackID];\n                callback(e);\n            } else {\n\n                //if there isn't any callback to return error use error event handler\n                this._trigger(ERROR, [e]);\n            }\n        }\n    }\n\n\n    removeCallback(methodName, callback) {\n        var key = Object.keys(this._callbacks).find(function (key) {\n            return this._callbacks[key] === callback;\n        });\n\n        if (!key) {\n            return;\n        }\n\n        delete this._callbacks[key];\n        return callback;\n    }\n\n    trigger(eventName, err, result) {\n        //TODO: check if forEach and isArray is added to the browser with babeljs\n        if (Array.isArray(this._handlers[eventName])) {\n            this._handlers[eventName].forEach(function (callback) {\n                setTimeout(function () {\n                    callback(err, result);\n                }, 0);\n            });\n        }\n    }\n\n    callCallback(methodName, callbackID, err, result) {\n\n        //not all methods callback's are mandatory\n        if (callbackID === '' || !this._callbacks[callbackID]) {\n            //but if there exist an error, fire the error event\n            if (err) this.trigger(ERROR, err, result);\n            return;\n        }\n\n        let callback = this._callbacks[callbackID];\n        setTimeout(function () {\n            callback(err, result);\n        }, 0);\n\n        delete this._callbacks[callbackID];\n    }\n\n    //methods like properties specific to this implementation of VPAID\n    getSize() {\n        return {width: this._width, height: this._height};\n    }\n    setSize(newWidth, newHeight) {\n        this._width = isPositiveInt(newWidth, this._width);\n        this._height = isPositiveInt(newHeight, this._height);\n        this._el.setAttribute('width', this._width);\n        this._el.setAttribute('height', this._height);\n    }\n    getWidth() {\n        return this._width;\n    }\n    setWidth(newWidth) {\n        this.setSize(newWidth, this._height);\n    }\n    getHeight() {\n        return this._height;\n    }\n    setHeight(newHeight) {\n        this.setSize(this._width, newHeight);\n    }\n    getFlashID() {\n        return this._flashID;\n    }\n    getFlashURL() {\n        return this._flashURL;\n    }\n}\n\n","'use strict'\n\nexport function unique(prefix) {\n    let count = -1;\n    return f => {\n        return `${prefix}_${++count}`;\n    };\n}\n\nexport function noop() {\n}\n\n\nexport function createElementWithID(parent, id) {\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nexport function isPositiveInt(newVal, oldVal) {\n    return Number.isSafeInteger(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\n"]}